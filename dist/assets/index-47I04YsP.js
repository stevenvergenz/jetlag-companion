var W_=Object.defineProperty;var $_=(d,m,g)=>m in d?W_(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var Ut=(d,m,g)=>$_(d,typeof m!="symbol"?m+"":m,g);(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))v(p);new MutationObserver(p=>{for(const b of p)if(b.type==="childList")for(const N of b.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&v(N)}).observe(document,{childList:!0,subtree:!0});function g(p){const b={};return p.integrity&&(b.integrity=p.integrity),p.referrerPolicy&&(b.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?b.credentials="include":p.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function v(p){if(p.ep)return;p.ep=!0;const b=g(p);fetch(p.href,b)}})();function Vm(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Vh={exports:{}},Ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function tp(){if(Kg)return Ao;Kg=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function g(v,p,b){var N=null;if(b!==void 0&&(N=""+b),p.key!==void 0&&(N=""+p.key),"key"in p){b={};for(var S in p)S!=="key"&&(b[S]=p[S])}else b=p;return p=b.ref,{$$typeof:d,type:v,key:N,ref:p!==void 0?p:null,props:b}}return Ao.Fragment=m,Ao.jsx=g,Ao.jsxs=g,Ao}var Jg;function ep(){return Jg||(Jg=1,Vh.exports=tp()),Vh.exports}var ce=ep(),jh={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function np(){if(Wg)return le;Wg=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),N=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.iterator;function K(R){return R===null||typeof R!="object"?null:(R=q&&R[q]||R["@@iterator"],typeof R=="function"?R:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,kt={};function Mt(R,it,yt){this.props=R,this.context=it,this.refs=kt,this.updater=yt||nt}Mt.prototype.isReactComponent={},Mt.prototype.setState=function(R,it){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,it,"setState")},Mt.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Pt(){}Pt.prototype=Mt.prototype;function st(R,it,yt){this.props=R,this.context=it,this.refs=kt,this.updater=yt||nt}var mt=st.prototype=new Pt;mt.constructor=st,at(mt,Mt.prototype),mt.isPureReactComponent=!0;var It=Array.isArray,pt={H:null,A:null,T:null,S:null},Lt=Object.prototype.hasOwnProperty;function Ct(R,it,yt,bt,dt,Tt){return yt=Tt.ref,{$$typeof:d,type:R,key:it,ref:yt!==void 0?yt:null,props:Tt}}function I(R,it){return Ct(R.type,it,void 0,void 0,void 0,R.props)}function C(R){return typeof R=="object"&&R!==null&&R.$$typeof===d}function U(R){var it={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(yt){return it[yt]})}var J=/\/+/g;function j(R,it){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):it.toString(36)}function tt(){}function V(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(tt,tt):(R.status="pending",R.then(function(it){R.status==="pending"&&(R.status="fulfilled",R.value=it)},function(it){R.status==="pending"&&(R.status="rejected",R.reason=it)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function X(R,it,yt,bt,dt){var Tt=typeof R;(Tt==="undefined"||Tt==="boolean")&&(R=null);var wt=!1;if(R===null)wt=!0;else switch(Tt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(R.$$typeof){case d:case m:wt=!0;break;case H:return wt=R._init,X(wt(R._payload),it,yt,bt,dt)}}if(wt)return dt=dt(R),wt=bt===""?"."+j(R,0):bt,It(dt)?(yt="",wt!=null&&(yt=wt.replace(J,"$&/")+"/"),X(dt,it,yt,"",function(Me){return Me})):dt!=null&&(C(dt)&&(dt=I(dt,yt+(dt.key==null||R&&R.key===dt.key?"":(""+dt.key).replace(J,"$&/")+"/")+wt)),it.push(dt)),1;wt=0;var ne=bt===""?".":bt+":";if(It(R))for(var W=0;W<R.length;W++)bt=R[W],Tt=ne+j(bt,W),wt+=X(bt,it,yt,Tt,dt);else if(W=K(R),typeof W=="function")for(R=W.call(R),W=0;!(bt=R.next()).done;)bt=bt.value,Tt=ne+j(bt,W++),wt+=X(bt,it,yt,Tt,dt);else if(Tt==="object"){if(typeof R.then=="function")return X(V(R),it,yt,bt,dt);throw it=String(R),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return wt}function B(R,it,yt){if(R==null)return R;var bt=[],dt=0;return X(R,bt,"","",function(Tt){return it.call(yt,Tt,dt++)}),bt}function Q(R){if(R._status===-1){var it=R._result;it=it(),it.then(function(yt){(R._status===0||R._status===-1)&&(R._status=1,R._result=yt)},function(yt){(R._status===0||R._status===-1)&&(R._status=2,R._result=yt)}),R._status===-1&&(R._status=0,R._result=it)}if(R._status===1)return R._result.default;throw R._result}var G=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ht(){}return le.Children={map:B,forEach:function(R,it,yt){B(R,function(){it.apply(this,arguments)},yt)},count:function(R){var it=0;return B(R,function(){it++}),it},toArray:function(R){return B(R,function(it){return it})||[]},only:function(R){if(!C(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},le.Component=Mt,le.Fragment=g,le.Profiler=p,le.PureComponent=st,le.StrictMode=v,le.Suspense=z,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,le.act=function(){throw Error("act(...) is not supported in production builds of React.")},le.cache=function(R){return function(){return R.apply(null,arguments)}},le.cloneElement=function(R,it,yt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var bt=at({},R.props),dt=R.key,Tt=void 0;if(it!=null)for(wt in it.ref!==void 0&&(Tt=void 0),it.key!==void 0&&(dt=""+it.key),it)!Lt.call(it,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&it.ref===void 0||(bt[wt]=it[wt]);var wt=arguments.length-2;if(wt===1)bt.children=yt;else if(1<wt){for(var ne=Array(wt),W=0;W<wt;W++)ne[W]=arguments[W+2];bt.children=ne}return Ct(R.type,dt,void 0,void 0,Tt,bt)},le.createContext=function(R){return R={$$typeof:N,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:b,_context:R},R},le.createElement=function(R,it,yt){var bt,dt={},Tt=null;if(it!=null)for(bt in it.key!==void 0&&(Tt=""+it.key),it)Lt.call(it,bt)&&bt!=="key"&&bt!=="__self"&&bt!=="__source"&&(dt[bt]=it[bt]);var wt=arguments.length-2;if(wt===1)dt.children=yt;else if(1<wt){for(var ne=Array(wt),W=0;W<wt;W++)ne[W]=arguments[W+2];dt.children=ne}if(R&&R.defaultProps)for(bt in wt=R.defaultProps,wt)dt[bt]===void 0&&(dt[bt]=wt[bt]);return Ct(R,Tt,void 0,void 0,null,dt)},le.createRef=function(){return{current:null}},le.forwardRef=function(R){return{$$typeof:S,render:R}},le.isValidElement=C,le.lazy=function(R){return{$$typeof:H,_payload:{_status:-1,_result:R},_init:Q}},le.memo=function(R,it){return{$$typeof:A,type:R,compare:it===void 0?null:it}},le.startTransition=function(R){var it=pt.T,yt={};pt.T=yt;try{var bt=R(),dt=pt.S;dt!==null&&dt(yt,bt),typeof bt=="object"&&bt!==null&&typeof bt.then=="function"&&bt.then(ht,G)}catch(Tt){G(Tt)}finally{pt.T=it}},le.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},le.use=function(R){return pt.H.use(R)},le.useActionState=function(R,it,yt){return pt.H.useActionState(R,it,yt)},le.useCallback=function(R,it){return pt.H.useCallback(R,it)},le.useContext=function(R){return pt.H.useContext(R)},le.useDebugValue=function(){},le.useDeferredValue=function(R,it){return pt.H.useDeferredValue(R,it)},le.useEffect=function(R,it){return pt.H.useEffect(R,it)},le.useId=function(){return pt.H.useId()},le.useImperativeHandle=function(R,it,yt){return pt.H.useImperativeHandle(R,it,yt)},le.useInsertionEffect=function(R,it){return pt.H.useInsertionEffect(R,it)},le.useLayoutEffect=function(R,it){return pt.H.useLayoutEffect(R,it)},le.useMemo=function(R,it){return pt.H.useMemo(R,it)},le.useOptimistic=function(R,it){return pt.H.useOptimistic(R,it)},le.useReducer=function(R,it,yt){return pt.H.useReducer(R,it,yt)},le.useRef=function(R){return pt.H.useRef(R)},le.useState=function(R){return pt.H.useState(R)},le.useSyncExternalStore=function(R,it,yt){return pt.H.useSyncExternalStore(R,it,yt)},le.useTransition=function(){return pt.H.useTransition()},le.version="19.0.0",le}var $g;function yf(){return $g||($g=1,jh.exports=np()),jh.exports}var te=yf();const af=Vm(te);var Qh={exports:{}},Io={},Kh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function ip(){return tm||(tm=1,function(d){function m(B,Q){var G=B.length;B.push(Q);t:for(;0<G;){var ht=G-1>>>1,R=B[ht];if(0<p(R,Q))B[ht]=Q,B[G]=R,G=ht;else break t}}function g(B){return B.length===0?null:B[0]}function v(B){if(B.length===0)return null;var Q=B[0],G=B.pop();if(G!==Q){B[0]=G;t:for(var ht=0,R=B.length,it=R>>>1;ht<it;){var yt=2*(ht+1)-1,bt=B[yt],dt=yt+1,Tt=B[dt];if(0>p(bt,G))dt<R&&0>p(Tt,bt)?(B[ht]=Tt,B[dt]=G,ht=dt):(B[ht]=bt,B[yt]=G,ht=yt);else if(dt<R&&0>p(Tt,G))B[ht]=Tt,B[dt]=G,ht=dt;else break t}}return Q}function p(B,Q){var G=B.sortIndex-Q.sortIndex;return G!==0?G:B.id-Q.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;d.unstable_now=function(){return b.now()}}else{var N=Date,S=N.now();d.unstable_now=function(){return N.now()-S}}var z=[],A=[],H=1,q=null,K=3,nt=!1,at=!1,kt=!1,Mt=typeof setTimeout=="function"?setTimeout:null,Pt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function mt(B){for(var Q=g(A);Q!==null;){if(Q.callback===null)v(A);else if(Q.startTime<=B)v(A),Q.sortIndex=Q.expirationTime,m(z,Q);else break;Q=g(A)}}function It(B){if(kt=!1,mt(B),!at)if(g(z)!==null)at=!0,V();else{var Q=g(A);Q!==null&&X(It,Q.startTime-B)}}var pt=!1,Lt=-1,Ct=5,I=-1;function C(){return!(d.unstable_now()-I<Ct)}function U(){if(pt){var B=d.unstable_now();I=B;var Q=!0;try{t:{at=!1,kt&&(kt=!1,Pt(Lt),Lt=-1),nt=!0;var G=K;try{e:{for(mt(B),q=g(z);q!==null&&!(q.expirationTime>B&&C());){var ht=q.callback;if(typeof ht=="function"){q.callback=null,K=q.priorityLevel;var R=ht(q.expirationTime<=B);if(B=d.unstable_now(),typeof R=="function"){q.callback=R,mt(B),Q=!0;break e}q===g(z)&&v(z),mt(B)}else v(z);q=g(z)}if(q!==null)Q=!0;else{var it=g(A);it!==null&&X(It,it.startTime-B),Q=!1}}break t}finally{q=null,K=G,nt=!1}Q=void 0}}finally{Q?J():pt=!1}}}var J;if(typeof st=="function")J=function(){st(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,tt=j.port2;j.port1.onmessage=U,J=function(){tt.postMessage(null)}}else J=function(){Mt(U,0)};function V(){pt||(pt=!0,J())}function X(B,Q){Lt=Mt(function(){B(d.unstable_now())},Q)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(B){B.callback=null},d.unstable_continueExecution=function(){at||nt||(at=!0,V())},d.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<B?Math.floor(1e3/B):5},d.unstable_getCurrentPriorityLevel=function(){return K},d.unstable_getFirstCallbackNode=function(){return g(z)},d.unstable_next=function(B){switch(K){case 1:case 2:case 3:var Q=3;break;default:Q=K}var G=K;K=Q;try{return B()}finally{K=G}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=K;K=B;try{return Q()}finally{K=G}},d.unstable_scheduleCallback=function(B,Q,G){var ht=d.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ht+G:ht):G=ht,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=G+R,B={id:H++,callback:Q,priorityLevel:B,startTime:G,expirationTime:R,sortIndex:-1},G>ht?(B.sortIndex=G,m(A,B),g(z)===null&&B===g(A)&&(kt?(Pt(Lt),Lt=-1):kt=!0,X(It,G-ht))):(B.sortIndex=R,m(z,B),at||nt||(at=!0,V())),B},d.unstable_shouldYield=C,d.unstable_wrapCallback=function(B){var Q=K;return function(){var G=K;K=Q;try{return B.apply(this,arguments)}finally{K=G}}}}(Jh)),Jh}var em;function rp(){return em||(em=1,Kh.exports=ip()),Kh.exports}var Wh={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function sp(){if(nm)return Kn;nm=1;var d=yf();function m(z){var A="https://react.dev/errors/"+z;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var H=2;H<arguments.length;H++)A+="&args[]="+encodeURIComponent(arguments[H])}return"Minified React error #"+z+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var v={d:{f:g,r:function(){throw Error(m(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},p=Symbol.for("react.portal");function b(z,A,H){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:q==null?null:""+q,children:z,containerInfo:A,implementation:H}}var N=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(z,A){if(z==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,Kn.createPortal=function(z,A){var H=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(m(299));return b(z,A,null,H)},Kn.flushSync=function(z){var A=N.T,H=v.p;try{if(N.T=null,v.p=2,z)return z()}finally{N.T=A,v.p=H,v.d.f()}},Kn.preconnect=function(z,A){typeof z=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,v.d.C(z,A))},Kn.prefetchDNS=function(z){typeof z=="string"&&v.d.D(z)},Kn.preinit=function(z,A){if(typeof z=="string"&&A&&typeof A.as=="string"){var H=A.as,q=S(H,A.crossOrigin),K=typeof A.integrity=="string"?A.integrity:void 0,nt=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;H==="style"?v.d.S(z,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:q,integrity:K,fetchPriority:nt}):H==="script"&&v.d.X(z,{crossOrigin:q,integrity:K,fetchPriority:nt,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},Kn.preinitModule=function(z,A){if(typeof z=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var H=S(A.as,A.crossOrigin);v.d.M(z,{crossOrigin:H,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&v.d.M(z)},Kn.preload=function(z,A){if(typeof z=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var H=A.as,q=S(H,A.crossOrigin);v.d.L(z,H,{crossOrigin:q,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},Kn.preloadModule=function(z,A){if(typeof z=="string")if(A){var H=S(A.as,A.crossOrigin);v.d.m(z,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:H,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else v.d.m(z)},Kn.requestFormReset=function(z){v.d.r(z)},Kn.unstable_batchedUpdates=function(z,A){return z(A)},Kn.useFormState=function(z,A,H){return N.H.useFormState(z,A,H)},Kn.useFormStatus=function(){return N.H.useHostTransitionStatus()},Kn.version="19.0.0",Kn}var im;function jm(){if(im)return Wh.exports;im=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),Wh.exports=sp(),Wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function ap(){if(rm)return Io;rm=1;var d=rp(),m=yf(),g=jm();function v(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),It=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function Lt(t){return t===null||typeof t!="object"?null:(t=pt&&t[pt]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ct?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case S:return"Portal";case H:return"Profiler";case A:return"StrictMode";case kt:return"Suspense";case Mt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nt:return(t.displayName||"Context")+".Provider";case K:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pt:return n=t.displayName||null,n!==null?n:I(t.type)||"Memo";case st:n=t._payload,t=t._init;try{return I(t(n))}catch{}}return null}var C=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,J,j;function tt(t){if(J===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);J=n&&n[1]||"",j=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+t+j}var V=!1;function X(t,n){if(!t||V)return"";V=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(vt){var ft=vt}Reflect.construct(t,[],Nt)}else{try{Nt.call()}catch(vt){ft=vt}t.call(Nt.prototype)}}else{try{throw Error()}catch(vt){ft=vt}(Nt=t())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(vt){if(vt&&ft&&typeof vt.stack=="string")return[vt.stack,ft.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),k=y[0],D=y[1];if(k&&D){var Y=k.split(`
`),rt=D.split(`
`);for(f=l=0;l<Y.length&&!Y[l].includes("DetermineComponentFrameRoot");)l++;for(;f<rt.length&&!rt[f].includes("DetermineComponentFrameRoot");)f++;if(l===Y.length||f===rt.length)for(l=Y.length-1,f=rt.length-1;1<=l&&0<=f&&Y[l]!==rt[f];)f--;for(;1<=l&&0<=f;l--,f--)if(Y[l]!==rt[f]){if(l!==1||f!==1)do if(l--,f--,0>f||Y[l]!==rt[f]){var _t=`
`+Y[l].replace(" at new "," at ");return t.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",t.displayName)),_t}while(1<=l&&0<=f);break}}}finally{V=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?tt(s):""}function B(t){switch(t.tag){case 26:case 27:case 5:return tt(t.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return t=X(t.type,!1),t;case 11:return t=X(t.type.render,!1),t;case 1:return t=X(t.type,!0),t;default:return""}}function Q(t){try{var n="";do n+=B(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function G(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function ht(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function R(t){if(G(t)!==t)throw Error(v(188))}function it(t){var n=t.alternate;if(!n){if(n=G(t),n===null)throw Error(v(188));return n!==t?null:t}for(var s=t,l=n;;){var f=s.return;if(f===null)break;var y=f.alternate;if(y===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===s)return R(f),t;if(y===l)return R(f),n;y=y.sibling}throw Error(v(188))}if(s.return!==l.return)s=f,l=y;else{for(var k=!1,D=f.child;D;){if(D===s){k=!0,s=f,l=y;break}if(D===l){k=!0,l=f,s=y;break}D=D.sibling}if(!k){for(D=y.child;D;){if(D===s){k=!0,s=y,l=f;break}if(D===l){k=!0,l=y,s=f;break}D=D.sibling}if(!k)throw Error(v(189))}}if(s.alternate!==l)throw Error(v(190))}if(s.tag!==3)throw Error(v(188));return s.stateNode.current===s?t:n}function yt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=yt(t),n!==null)return n;t=t.sibling}return null}var bt=Array.isArray,dt=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},wt=[],ne=-1;function W(t){return{current:t}}function Me(t){0>ne||(t.current=wt[ne],wt[ne]=null,ne--)}function Yt(t,n){ne++,wt[ne]=t.current,t.current=n}var Dt=W(null),Z=W(null),_e=W(null),ze=W(null);function fe(t,n){switch(Yt(_e,n),Yt(Z,t),Yt(Dt,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?bg(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=bg(t),n=kg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Me(Dt),Yt(Dt,n)}function Ii(){Me(Dt),Me(Z),Me(_e)}function cr(t){t.memoizedState!==null&&Yt(ze,t);var n=Dt.current,s=kg(n,t.type);n!==s&&(Yt(Z,t),Yt(Dt,s))}function hr(t){Z.current===t&&(Me(Dt),Me(Z)),ze.current===t&&(Me(ze),Lo._currentValue=Tt)}var Ot=Object.prototype.hasOwnProperty,is=d.unstable_scheduleCallback,Nr=d.unstable_cancelCallback,Di=d.unstable_shouldYield,fu=d.unstable_requestPaint,Vt=d.unstable_now,rs=d.unstable_getCurrentPriorityLevel,fr=d.unstable_ImmediatePriority,ss=d.unstable_UserBlockingPriority,Xt=d.unstable_NormalPriority,Oa=d.unstable_LowPriority,he=d.unstable_IdlePriority,Kt=d.log,ju=d.unstable_setDisableYieldValue,bn=null,_n=null;function jt(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(bn,t,void 0,(t.current.flags&128)===128)}catch{}}function zi(t){if(typeof Kt=="function"&&ju(t),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(bn,t)}catch{}}var rn=Math.clz32?Math.clz32:Lr,Ma=Math.log,Yn=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(Ma(t)/Yn|0)|0}var kn=128,Or=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gs(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,f=t.suspendedLanes,y=t.pingedLanes,k=t.warmLanes;t=t.finishedLanes!==0;var D=s&134217727;return D!==0?(s=D&~f,s!==0?l=ui(s):(y&=D,y!==0?l=ui(y):t||(k=D&~k,k!==0&&(l=ui(k))))):(D=s&~f,D!==0?l=ui(D):y!==0?l=ui(y):t||(k=s&~k,k!==0&&(l=ui(k)))),l===0?0:n!==0&&n!==l&&!(n&f)&&(f=l&-l,k=n&-n,f>=k||f===32&&(k&4194176)!==0)?n:l}function Mr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function dr(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rt(){var t=kn;return kn<<=1,!(kn&4194176)&&(kn=128),t}function as(){var t=Or;return Or<<=1,!(Or&62914560)&&(Or=4194304),t}function Pi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function du(t,n,s,l,f,y){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var D=t.entanglements,Y=t.expirationTimes,rt=t.hiddenUpdates;for(s=k&~s;0<s;){var _t=31-rn(s),Nt=1<<_t;D[_t]=0,Y[_t]=-1;var ft=rt[_t];if(ft!==null)for(rt[_t]=null,_t=0;_t<ft.length;_t++){var vt=ft[_t];vt!==null&&(vt.lane&=-536870913)}s&=~Nt}l!==0&&Zs(t,l,0),y!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=y&~(k&~n))}function Zs(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-rn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Ra(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-rn(s),f=1<<l;f&n|t[l]&n&&(t[l]|=n),s&=~f}}function sn(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Gt(){var t=dt.p;return t!==0?t:(t=window.event,t===void 0?32:Yg(t.type))}function us(t,n){var s=dt.p;try{return dt.p=t,n()}finally{dt.p=s}}var _i=Math.random().toString(36).slice(2),We="__reactFiber$"+_i,pn="__reactProps$"+_i,Ze="__reactContainer$"+_i,Rr="__reactEvents$"+_i,oi="__reactListeners$"+_i,Bi="__reactHandles$"+_i,qi="__reactResources$"+_i,gr="__reactMarker$"+_i;function Cr(t){delete t[We],delete t[pn],delete t[Rr],delete t[oi],delete t[Bi]}function Jn(t){var n=t[We];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ze]||s[We]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Og(t);t!==null;){if(s=t[We])return s;t=Og(t)}return n}t=s,s=t.parentNode}return null}function Re(t){if(t=t[We]||t[Ze]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function os(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(v(33))}function pi(t){var n=t[qi];return n||(n=t[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(t){t[gr]=!0}var Ar=new Set,Hs={};function yi(t,n){mr(t,n),mr(t+"Capture",n)}function mr(t,n){for(Hs[t]=n,t=0;t<n.length;t++)Ar.add(n[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},ls={};function li(t){return Ot.call(ls,t)?!0:Ot.call(Ui,t)?!1:yn.test(t)?ls[t]=!0:(Ui[t]=!0,!1)}function oe(t,n,s){if(li(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Oe(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Xn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ys(t){var n=Gi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,y=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(k){l=""+k,y.call(this,k)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Jt(t){t._valueTracker||(t._valueTracker=Ys(t))}function xe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Gi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Dn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cs=/[\n"\\]/g;function Se(t){return t.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ca(t,n,s,l,f,y,k,D){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),n!=null?k==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),n!=null?xi(t,k,an(n)):s!=null?xi(t,k,an(s)):l!=null&&t.removeAttribute("value"),f==null&&y!=null&&(t.defaultChecked=!!y),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+an(D):t.removeAttribute("name")}function hs(t,n,s,l,f,y,k,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),n!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;s=s!=null?""+an(s):"",n=n!=null?""+an(n):s,D||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=D?t.checked:!!l,t.defaultChecked=!!l,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function xi(t,n,s){n==="number"&&Dn(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ce(t,n,s,l){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+an(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Ei(t,n,s){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+an(s):""}function ci(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(v(92));if(bt(l)){if(1<l.length)throw Error(v(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=an(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function $n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Aa.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Xs(t,n,s){if(n!=null&&typeof n!="object")throw Error(v(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&vr(t,f,l)}else for(var y in n)n.hasOwnProperty(y)&&vr(t,y,n[y])}function _r(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return Si.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zi=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xe=null,Ti=null;function ee(t){var n=Re(t);if(n&&(t=n.stateNode)){var s=t[pn]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ca(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Se(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var f=l[pn]||null;if(!f)throw Error(v(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&xe(l)}break t;case"textarea":Ei(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ce(t,!!s.multiple,n,!1)}}}var Fn=!1;function Te(t,n,s){if(Fn)return t(n,s);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(Xe!==null||Ti!==null)&&(pl(),Xe&&(n=Xe,t=Ti,Ti=Xe=null,ee(n),t)))for(n=0;n<t.length;n++)ee(t[n])}}function wi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[pn]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(v(231,n,typeof s));return s}var fs=!1;if(Wn)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{fs=!1}var ie=null,$e=null,Yi=null;function pr(){if(Yi)return Yi;var t,n=$e,s=n.length,l,f="value"in ie?ie.value:ie.textContent,y=f.length;for(t=0;t<s&&n[t]===f[t];t++);var k=s-t;for(l=1;l<=k&&n[s-l]===f[y-l];l++);return Yi=f.slice(t,1<l?1-l:void 0)}function Ae(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function un(){return!1}function dn(t){function n(s,l,f,y,k){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(s=t[D],this[D]=s?s(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ti:un,this.isPropagationStopped=un,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=dn(bi),Xi=U({},bi,{view:0,detail:0}),Qu=dn(Xi),ds,$t,Fi,Nn=U({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(ds=t.screenX-Fi.screenX,$t=t.screenY-Fi.screenY):$t=ds=0,Fi=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:$t}}),on=dn(Nn),yr=U({},Nn,{dataTransfer:0}),Ku=dn(yr),Vi=U({},Xi,{relatedTarget:0}),Fs=dn(Vi),xr=U({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=dn(xr),hi=U({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vs=dn(hi),Wu=U({},bi,{data:0}),ei=dn(Wu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ji[t])?!!n[t]:!1}function js(){return mu}var ki=U({},Xi,{key:function(t){if(t.key){var n=$u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ae(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Ae(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ae(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zn=dn(ki),vu=U({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=dn(vu),to=U({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Ia=dn(to),Ks=U({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=dn(Ks),za=U({},Nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=dn(za),gs=U({},bi,{newState:0,oldState:0}),Fe=dn(gs),ms=[9,13,27,32],Er=Wn&&"CompositionEvent"in window,ln=null;Wn&&"documentMode"in document&&(ln=document.documentMode);var Pa=Wn&&"TextEvent"in window&&!ln,Js=Wn&&(!Er||ln&&8<ln&&11>=ln),Ws=" ",$s=!1;function ta(t,n){switch(t){case"keyup":return ms.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function pu(t,n){switch(t){case"compositionend":return _u(n);case"keypress":return n.which!==32?null:($s=!0,Ws);case"textInput":return t=n.data,t===Ws&&$s?null:t;default:return null}}function eo(t,n){if(zr)return t==="compositionend"||!Er&&ta(t,n)?(t=pr(),Yi=$e=ie=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Js&&n.locale!=="ko"?null:n.data;default:return null}}var ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ni[t.type]:n==="textarea"}function Ba(t,n,s,l){Xe?Ti?Ti.push(l):Ti=[l]:Xe=l,n=Tl(n,"onChange"),0<n.length&&(s=new Dr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Pn=null,Pr=null;function Br(t){xg(t,0)}function ea(t){var n=os(t);if(xe(n))return t}function qr(t,n){if(t==="change")return n}var qa=!1;if(Wn){var Ur;if(Wn){var Ua="oninput"in document;if(!Ua){var Ni=document.createElement("div");Ni.setAttribute("oninput","return;"),Ua=typeof Ni.oninput=="function"}Ur=Ua}else Ur=!1;qa=Ur&&(!document.documentMode||9<document.documentMode)}function Gr(){Pn&&(Pn.detachEvent("onpropertychange",Ga),Pr=Pn=null)}function Ga(t){if(t.propertyName==="value"&&ea(Pr)){var n=[];Ba(n,Pr,t,xn(t)),Te(Br,n)}}function na(t,n,s){t==="focusin"?(Gr(),Pn=n,Pr=s,Pn.attachEvent("onpropertychange",Ga)):t==="focusout"&&Gr()}function no(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ea(Pr)}function fi(t,n){if(t==="click")return ea(n)}function Za(t,n){if(t==="input"||t==="change")return ea(n)}function Zr(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:Zr;function On(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ot.call(n,f)||!Ln(t[f],n[f]))return!1}return!0}function vs(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ha(t,n){var s=vs(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vs(s)}}function Li(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Li(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _s(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Dn(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Dn(t.document)}return n}function Hr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function En(t,n){var s=_s(n);n=t.focusedElem;var l=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Li(n.ownerDocument.documentElement,n)){if(l!==null&&Hr(n)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(s,n.value.length);else if(s=(t=n.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var f=n.textContent.length,y=Math.min(l.start,f);l=l.end===void 0?y:Math.min(l.end,f),!s.extend&&y>l&&(f=l,l=y,y=f),f=Ha(n,y);var k=Ha(n,l);f&&k&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),s.removeAllRanges(),y>l?(s.addRange(t),s.extend(k.node,k.offset)):(t.setEnd(k.node,k.offset),s.addRange(t)))}}for(t=[],s=n;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)s=t[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Sn=Wn&&"documentMode"in document&&11>=document.documentMode,u=null,e=null,i=null,a=!1;function c(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;a||u==null||u!==Dn(l)||(l=u,"selectionStart"in l&&Hr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),i&&On(i,l)||(i=l,l=Tl(e,"onSelect"),0<l.length&&(n=new Dr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=u)))}function _(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var E={animationend:_("Animation","AnimationEnd"),animationiteration:_("Animation","AnimationIteration"),animationstart:_("Animation","AnimationStart"),transitionrun:_("Transition","TransitionRun"),transitionstart:_("Transition","TransitionStart"),transitioncancel:_("Transition","TransitionCancel"),transitionend:_("Transition","TransitionEnd")},w={},M={};Wn&&(M=document.createElement("div").style,"AnimationEvent"in window||(delete E.animationend.animation,delete E.animationiteration.animation,delete E.animationstart.animation),"TransitionEvent"in window||delete E.transitionend.transition);function P(t){if(w[t])return w[t];if(!E[t])return t;var n=E[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in M)return w[t]=n[s];return t}var $=P("animationend"),lt=P("animationiteration"),xt=P("animationstart"),At=P("transitionrun"),Bt=P("transitionstart"),Zt=P("transitioncancel"),de=P("transitionend"),re=new Map,we="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pe(t,n){re.set(t,n),yi(n,[t])}var be=[],Bn=0,Tr=0;function qn(){for(var t=Bn,n=Tr=Bn=0;n<t;){var s=be[n];be[n++]=null;var l=be[n];be[n++]=null;var f=be[n];be[n++]=null;var y=be[n];if(be[n++]=null,l!==null&&f!==null){var k=l.pending;k===null?f.next=f:(f.next=k.next,k.next=f),l.pending=f}y!==0&&Ya(s,f,y)}}function Yr(t,n,s,l){be[Bn++]=t,be[Bn++]=n,be[Bn++]=s,be[Bn++]=l,Tr|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ps(t,n,s,l){return Yr(t,n,s,l),Qi(t)}function Un(t,n){return Yr(t,null,null,n),Qi(t)}function Ya(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,y=t.return;y!==null;)y.childLanes|=s,l=y.alternate,l!==null&&(l.childLanes|=s),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(f=!0)),t=y,y=y.return;f&&n!==null&&t.tag===3&&(y=t.stateNode,f=31-rn(s),y=y.hiddenUpdates,t=y[f],t===null?y[f]=[n]:t.push(n),n.lane=s|536870912)}function Qi(t){if(50<Eo)throw Eo=0,_h=null,Error(v(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var jn={},ys=new WeakMap;function ii(t,n){if(typeof t=="object"&&t!==null){var s=ys.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Q(n)},ys.set(t,n),n)}return{value:t,source:n,stack:Q(n)}}var ia=[],xs=0,Xa=null,Fa=0,ri=[],si=0,Es=null,Ki=1,Ji="";function Ss(t,n){ia[xs++]=Fa,ia[xs++]=Xa,Xa=t,Fa=n}function r(t,n,s){ri[si++]=Ki,ri[si++]=Ji,ri[si++]=Es,Es=t;var l=Ki;t=Ji;var f=32-rn(l)-1;l&=~(1<<f),s+=1;var y=32-rn(n)+f;if(30<y){var k=f-f%5;y=(l&(1<<k)-1).toString(32),l>>=k,f-=k,Ki=1<<32-rn(n)+f|s<<f|l,Ji=y+t}else Ki=1<<y|s<<f|l,Ji=t}function o(t){t.return!==null&&(Ss(t,1),r(t,1,0))}function h(t){for(;t===Xa;)Xa=ia[--xs],ia[xs]=null,Fa=ia[--xs],ia[xs]=null;for(;t===Es;)Es=ri[--si],ri[si]=null,Ji=ri[--si],ri[si]=null,Ki=ri[--si],ri[si]=null}var x=null,T=null,O=!1,F=null,ut=!1,gt=Error(v(519));function Et(t){var n=Error(v(418,""));throw He(ii(n,t)),gt}function zt(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[We]=t,n[pn]=l,s){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(s=0;s<To.length;s++)ye(To[s],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),hs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jt(n);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),ci(n,l.value,l.defaultValue,l.children),Jt(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||wg(n.textContent,s)?(l.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),l.onScroll!=null&&ye("scroll",n),l.onScrollEnd!=null&&ye("scrollend",n),l.onClick!=null&&(n.onclick=wl),n=!0):n=!1,n||Et(t)}function Qt(t){for(x=t.return;x;)switch(x.tag){case 3:case 27:ut=!0;return;case 5:case 13:ut=!1;return;default:x=x.return}}function se(t){if(t!==x)return!1;if(!O)return Qt(t),O=!0,!1;var n=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ih(t.type,t.memoizedProps)),s=!s),s&&(n=!0),n&&T&&Et(t),Qt(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){T=br(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}T=null}}else T=x?br(t.stateNode.nextSibling):null;return!0}function cn(){T=x=null,O=!1}function He(t){F===null?F=[t]:F.push(t)}var Mn=Error(v(460)),Gn=Error(v(474)),Xr={then:function(){}};function Xo(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yu(){}function Fo(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(yu,yu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Mn?Error(v(483)):t;default:if(typeof n.status=="string")n.then(yu,yu);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(v(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Mn?Error(v(483)):t}throw ra=n,Mn}}var ra=null;function Vo(){if(ra===null)throw Error(v(459));var t=ra;return ra=null,t}var Ts=null,Be=0;function ws(t){var n=Be;return Be+=1,Ts===null&&(Ts=[]),Fo(Ts,t,n)}function Va(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===b?Error(v(525)):(t=Object.prototype.toString.call(n),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jo(t){var n=t._init;return n(t._payload)}function Eu(t){function n(ot,et){if(t){var ct=ot.deletions;ct===null?(ot.deletions=[et],ot.flags|=16):ct.push(et)}}function s(ot,et){if(!t)return null;for(;et!==null;)n(ot,et),et=et.sibling;return null}function l(ot){for(var et=new Map;ot!==null;)ot.key!==null?et.set(ot.key,ot):et.set(ot.index,ot),ot=ot.sibling;return et}function f(ot,et){return ot=va(ot,et),ot.index=0,ot.sibling=null,ot}function y(ot,et,ct){return ot.index=ct,t?(ct=ot.alternate,ct!==null?(ct=ct.index,ct<et?(ot.flags|=33554434,et):ct):(ot.flags|=33554434,et)):(ot.flags|=1048576,et)}function k(ot){return t&&ot.alternate===null&&(ot.flags|=33554434),ot}function D(ot,et,ct,St){return et===null||et.tag!==6?(et=lh(ct,ot.mode,St),et.return=ot,et):(et=f(et,ct),et.return=ot,et)}function Y(ot,et,ct,St){var qt=ct.type;return qt===z?_t(ot,et,ct.props.children,St,ct.key):et!==null&&(et.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===st&&jo(qt)===et.type)?(et=f(et,ct.props),Va(et,ct),et.return=ot,et):(et=dl(ct.type,ct.key,ct.props,null,ot.mode,St),Va(et,ct),et.return=ot,et)}function rt(ot,et,ct,St){return et===null||et.tag!==4||et.stateNode.containerInfo!==ct.containerInfo||et.stateNode.implementation!==ct.implementation?(et=ch(ct,ot.mode,St),et.return=ot,et):(et=f(et,ct.children||[]),et.return=ot,et)}function _t(ot,et,ct,St,qt){return et===null||et.tag!==7?(et=nu(ct,ot.mode,St,qt),et.return=ot,et):(et=f(et,ct),et.return=ot,et)}function Nt(ot,et,ct){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=lh(""+et,ot.mode,ct),et.return=ot,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case N:return ct=dl(et.type,et.key,et.props,null,ot.mode,ct),Va(ct,et),ct.return=ot,ct;case S:return et=ch(et,ot.mode,ct),et.return=ot,et;case st:var St=et._init;return et=St(et._payload),Nt(ot,et,ct)}if(bt(et)||Lt(et))return et=nu(et,ot.mode,ct,null),et.return=ot,et;if(typeof et.then=="function")return Nt(ot,ws(et),ct);if(et.$$typeof===nt)return Nt(ot,cl(ot,et),ct);xu(ot,et)}return null}function ft(ot,et,ct,St){var qt=et!==null?et.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return qt!==null?null:D(ot,et,""+ct,St);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case N:return ct.key===qt?Y(ot,et,ct,St):null;case S:return ct.key===qt?rt(ot,et,ct,St):null;case st:return qt=ct._init,ct=qt(ct._payload),ft(ot,et,ct,St)}if(bt(ct)||Lt(ct))return qt!==null?null:_t(ot,et,ct,St,null);if(typeof ct.then=="function")return ft(ot,et,ws(ct),St);if(ct.$$typeof===nt)return ft(ot,et,cl(ot,ct),St);xu(ot,ct)}return null}function vt(ot,et,ct,St,qt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ot=ot.get(ct)||null,D(et,ot,""+St,qt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case N:return ot=ot.get(St.key===null?ct:St.key)||null,Y(et,ot,St,qt);case S:return ot=ot.get(St.key===null?ct:St.key)||null,rt(et,ot,St,qt);case st:var me=St._init;return St=me(St._payload),vt(ot,et,ct,St,qt)}if(bt(St)||Lt(St))return ot=ot.get(ct)||null,_t(et,ot,St,qt,null);if(typeof St.then=="function")return vt(ot,et,ct,ws(St),qt);if(St.$$typeof===nt)return vt(ot,et,ct,cl(et,St),qt);xu(et,St)}return null}function Ht(ot,et,ct,St){for(var qt=null,me=null,Ft=et,Wt=et=0,An=null;Ft!==null&&Wt<ct.length;Wt++){Ft.index>Wt?(An=Ft,Ft=null):An=Ft.sibling;var ke=ft(ot,Ft,ct[Wt],St);if(ke===null){Ft===null&&(Ft=An);break}t&&Ft&&ke.alternate===null&&n(ot,Ft),et=y(ke,et,Wt),me===null?qt=ke:me.sibling=ke,me=ke,Ft=An}if(Wt===ct.length)return s(ot,Ft),O&&Ss(ot,Wt),qt;if(Ft===null){for(;Wt<ct.length;Wt++)Ft=Nt(ot,ct[Wt],St),Ft!==null&&(et=y(Ft,et,Wt),me===null?qt=Ft:me.sibling=Ft,me=Ft);return O&&Ss(ot,Wt),qt}for(Ft=l(Ft);Wt<ct.length;Wt++)An=vt(Ft,ot,Wt,ct[Wt],St),An!==null&&(t&&An.alternate!==null&&Ft.delete(An.key===null?Wt:An.key),et=y(An,et,Wt),me===null?qt=An:me.sibling=An,me=An);return t&&Ft.forEach(function(Ta){return n(ot,Ta)}),O&&Ss(ot,Wt),qt}function ae(ot,et,ct,St){if(ct==null)throw Error(v(151));for(var qt=null,me=null,Ft=et,Wt=et=0,An=null,ke=ct.next();Ft!==null&&!ke.done;Wt++,ke=ct.next()){Ft.index>Wt?(An=Ft,Ft=null):An=Ft.sibling;var Ta=ft(ot,Ft,ke.value,St);if(Ta===null){Ft===null&&(Ft=An);break}t&&Ft&&Ta.alternate===null&&n(ot,Ft),et=y(Ta,et,Wt),me===null?qt=Ta:me.sibling=Ta,me=Ta,Ft=An}if(ke.done)return s(ot,Ft),O&&Ss(ot,Wt),qt;if(Ft===null){for(;!ke.done;Wt++,ke=ct.next())ke=Nt(ot,ke.value,St),ke!==null&&(et=y(ke,et,Wt),me===null?qt=ke:me.sibling=ke,me=ke);return O&&Ss(ot,Wt),qt}for(Ft=l(Ft);!ke.done;Wt++,ke=ct.next())ke=vt(Ft,ot,Wt,ke.value,St),ke!==null&&(t&&ke.alternate!==null&&Ft.delete(ke.key===null?Wt:ke.key),et=y(ke,et,Wt),me===null?qt=ke:me.sibling=ke,me=ke);return t&&Ft.forEach(function(J_){return n(ot,J_)}),O&&Ss(ot,Wt),qt}function nn(ot,et,ct,St){if(typeof ct=="object"&&ct!==null&&ct.type===z&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case N:t:{for(var qt=ct.key;et!==null;){if(et.key===qt){if(qt=ct.type,qt===z){if(et.tag===7){s(ot,et.sibling),St=f(et,ct.props.children),St.return=ot,ot=St;break t}}else if(et.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===st&&jo(qt)===et.type){s(ot,et.sibling),St=f(et,ct.props),Va(St,ct),St.return=ot,ot=St;break t}s(ot,et);break}else n(ot,et);et=et.sibling}ct.type===z?(St=nu(ct.props.children,ot.mode,St,ct.key),St.return=ot,ot=St):(St=dl(ct.type,ct.key,ct.props,null,ot.mode,St),Va(St,ct),St.return=ot,ot=St)}return k(ot);case S:t:{for(qt=ct.key;et!==null;){if(et.key===qt)if(et.tag===4&&et.stateNode.containerInfo===ct.containerInfo&&et.stateNode.implementation===ct.implementation){s(ot,et.sibling),St=f(et,ct.children||[]),St.return=ot,ot=St;break t}else{s(ot,et);break}else n(ot,et);et=et.sibling}St=ch(ct,ot.mode,St),St.return=ot,ot=St}return k(ot);case st:return qt=ct._init,ct=qt(ct._payload),nn(ot,et,ct,St)}if(bt(ct))return Ht(ot,et,ct,St);if(Lt(ct)){if(qt=Lt(ct),typeof qt!="function")throw Error(v(150));return ct=qt.call(ct),ae(ot,et,ct,St)}if(typeof ct.then=="function")return nn(ot,et,ws(ct),St);if(ct.$$typeof===nt)return nn(ot,et,cl(ot,ct),St);xu(ot,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,et!==null&&et.tag===6?(s(ot,et.sibling),St=f(et,ct),St.return=ot,ot=St):(s(ot,et),St=lh(ct,ot.mode,St),St.return=ot,ot=St),k(ot)):s(ot,et)}return function(ot,et,ct,St){try{Be=0;var qt=nn(ot,et,ct,St);return Ts=null,qt}catch(Ft){if(Ft===Mn)throw Ft;var me=er(29,Ft,null,ot.mode);return me.lanes=St,me.return=ot,me}finally{}}}var Fr=Eu(!0),Qo=Eu(!1),Su=W(null),Ko=W(0);function wf(t,n){t=Ds,Yt(Ko,t),Yt(Su,n),Ds=t|n.baseLanes}function vc(){Yt(Ko,Ds),Yt(Su,Su.current)}function _c(){Ds=Ko.current,Me(Su),Me(Ko)}var Wi=W(null),Vr=null;function sa(t){var n=t.alternate;Yt(Tn,Tn.current&1),Yt(Wi,t),Vr===null&&(n===null||Su.current!==null||n.memoizedState!==null)&&(Vr=t)}function bf(t){if(t.tag===22){if(Yt(Tn,Tn.current),Yt(Wi,t),Vr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Vr=t)}}else aa()}function aa(){Yt(Tn,Tn.current),Yt(Wi,Wi.current)}function bs(t){Me(Wi),Vr===t&&(Vr=null),Me(Tn)}var Tn=W(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},qv=d.unstable_scheduleCallback,Uv=d.unstable_NormalPriority,wn={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new Bv,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&qv(Uv,function(){t.controller.abort()})}var ro=null,yc=0,Tu=0,wu=null;function Gv(t,n){if(ro===null){var s=ro=[];yc=0,Tu=bh(),wu={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yc++,n.then(kf,kf),n}function kf(){if(--yc===0&&ro!==null){wu!==null&&(wu.status="fulfilled");var t=ro;ro=null,Tu=0,wu=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Zv(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Nf=C.S;C.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Gv(t,n),Nf!==null&&Nf(t,n)};var ja=W(null);function xc(){var t=ja.current;return t!==null?t:qe.pooledCache}function Wo(t,n){n===null?Yt(ja,ja.current):Yt(ja,n.pool)}function Lf(){var t=xc();return t===null?null:{parent:wn._currentValue,pool:t}}var ua=0,ge=null,Ie=null,gn=null,$o=!1,bu=!1,Qa=!1,tl=0,so=0,ku=null,Hv=0;function hn(){throw Error(v(321))}function Ec(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ln(t[s],n[s]))return!1;return!0}function Sc(t,n,s,l,f,y){return ua=y,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,C.H=t===null||t.memoizedState===null?Ka:oa,Qa=!1,y=s(l,f),Qa=!1,bu&&(y=Mf(n,s,l,f)),Of(t),y}function Of(t){C.H=jr;var n=Ie!==null&&Ie.next!==null;if(ua=0,gn=Ie=ge=null,$o=!1,so=0,ku=null,n)throw Error(v(300));t===null||Rn||(t=t.dependencies,t!==null&&ll(t)&&(Rn=!0))}function Mf(t,n,s,l){ge=t;var f=0;do{if(bu&&(ku=null),so=0,bu=!1,25<=f)throw Error(v(301));if(f+=1,gn=Ie=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=Ja,y=n(s,l)}while(bu);return y}function Yv(){var t=C.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(ge.flags|=1024),n}function Tc(){var t=tl!==0;return tl=0,t}function wc(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function bc(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}ua=0,gn=Ie=ge=null,bu=!1,so=tl=0,ku=null}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?ge.memoizedState=gn=t:gn=gn.next=t,gn}function mn(){if(Ie===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var n=gn===null?ge.memoizedState:gn.next;if(n!==null)gn=n,Ie=t;else{if(t===null)throw ge.alternate===null?Error(v(467)):Error(v(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},gn===null?ge.memoizedState=gn=t:gn=gn.next=t}return gn}var el;el=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ao(t){var n=so;return so+=1,ku===null&&(ku=[]),t=Fo(ku,t,n),n=ge,(gn===null?n.memoizedState:gn.next)===null&&(n=n.alternate,C.H=n===null||n.memoizedState===null?Ka:oa),t}function nl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===nt)return Qn(t)}throw Error(v(438,String(t)))}function kc(t){var n=null,s=ge.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=el(),ge.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=It;return n.index++,s}function ks(t,n){return typeof n=="function"?n(t):n}function il(t){var n=mn();return Nc(n,Ie,t)}function Nc(t,n,s){var l=t.queue;if(l===null)throw Error(v(311));l.lastRenderedReducer=s;var f=t.baseQueue,y=l.pending;if(y!==null){if(f!==null){var k=f.next;f.next=y.next,y.next=k}n.baseQueue=f=y,l.pending=null}if(y=t.baseState,f===null)t.memoizedState=y;else{n=f.next;var D=k=null,Y=null,rt=n,_t=!1;do{var Nt=rt.lane&-536870913;if(Nt!==rt.lane?(Ee&Nt)===Nt:(ua&Nt)===Nt){var ft=rt.revertLane;if(ft===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Nt===Tu&&(_t=!0);else if((ua&ft)===ft){rt=rt.next,ft===Tu&&(_t=!0);continue}else Nt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Y===null?(D=Y=Nt,k=y):Y=Y.next=Nt,ge.lanes|=ft,_a|=ft;Nt=rt.action,Qa&&s(y,Nt),y=rt.hasEagerState?rt.eagerState:s(y,Nt)}else ft={lane:Nt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},Y===null?(D=Y=ft,k=y):Y=Y.next=ft,ge.lanes|=Nt,_a|=Nt;rt=rt.next}while(rt!==null&&rt!==n);if(Y===null?k=y:Y.next=D,!Ln(y,t.memoizedState)&&(Rn=!0,_t&&(s=wu,s!==null)))throw s;t.memoizedState=y,t.baseState=k,t.baseQueue=Y,l.lastRenderedState=y}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lc(t){var n=mn(),s=n.queue;if(s===null)throw Error(v(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,y=n.memoizedState;if(f!==null){s.pending=null;var k=f=f.next;do y=t(y,k.action),k=k.next;while(k!==f);Ln(y,n.memoizedState)||(Rn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),s.lastRenderedState=y}return[y,l]}function Rf(t,n,s){var l=ge,f=mn(),y=O;if(y){if(s===void 0)throw Error(v(407));s=s()}else s=n();var k=!Ln((Ie||f).memoizedState,s);if(k&&(f.memoizedState=s,Rn=!0),f=f.queue,Rc(If.bind(null,l,f,t),[t]),f.getSnapshot!==n||k||gn!==null&&gn.memoizedState.tag&1){if(l.flags|=2048,Nu(9,Af.bind(null,l,f,s,n),{destroy:void 0},null),qe===null)throw Error(v(349));y||ua&60||Cf(l,n,s)}return s}function Cf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=ge.updateQueue,n===null?(n=el(),ge.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Af(t,n,s,l){n.value=s,n.getSnapshot=l,Df(n)&&zf(t)}function If(t,n,s){return s(function(){Df(n)&&zf(t)})}function Df(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ln(t,s)}catch{return!0}}function zf(t){var n=Un(t,2);n!==null&&ai(n,t,2)}function Oc(t){var n=di();if(typeof t=="function"){var s=t;if(t=s(),Qa){zi(!0);try{s()}finally{zi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},n}function Pf(t,n,s,l){return t.baseState=s,Nc(t,Ie,typeof l=="function"?l:ks)}function Xv(t,n,s,l,f){if(al(t))throw Error(v(485));if(t=n.action,t!==null){var y={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};C.T!==null?s(!0):y.isTransition=!1,l(y),s=n.pending,s===null?(y.next=n.pending=y,Bf(n,y)):(y.next=s.next,n.pending=s.next=y)}}function Bf(t,n){var s=n.action,l=n.payload,f=t.state;if(n.isTransition){var y=C.T,k={};C.T=k;try{var D=s(f,l),Y=C.S;Y!==null&&Y(k,D),qf(t,n,D)}catch(rt){Mc(t,n,rt)}finally{C.T=y}}else try{y=s(f,l),qf(t,n,y)}catch(rt){Mc(t,n,rt)}}function qf(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Uf(t,n,l)},function(l){return Mc(t,n,l)}):Uf(t,n,s)}function Uf(t,n,s){n.status="fulfilled",n.value=s,Gf(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Bf(t,s)))}function Mc(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Gf(n),n=n.next;while(n!==l)}t.action=null}function Gf(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zf(t,n){return n}function Hf(t,n){if(O){var s=qe.formState;if(s!==null){t:{var l=ge;if(O){if(T){e:{for(var f=T,y=ut;f.nodeType!==8;){if(!y){f=null;break e}if(f=br(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){T=br(f.nextSibling),l=f.data==="F!";break t}}Et(l)}l=!1}l&&(n=s[0])}}return s=di(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:n},s.queue=l,s=ud.bind(null,ge,l),l.dispatch=s,l=Oc(!1),y=zc.bind(null,ge,!1,l.queue),l=di(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,s=Xv.bind(null,ge,f,y,s),f.dispatch=s,l.memoizedState=t,[n,s,!1]}function Yf(t){var n=mn();return Xf(n,Ie,t)}function Xf(t,n,s){n=Nc(t,n,Zf)[0],t=il(ks)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ao(n):n;var l=mn(),f=l.queue,y=f.dispatch;return s!==l.memoizedState&&(ge.flags|=2048,Nu(9,Fv.bind(null,f,s),{destroy:void 0},null)),[n,y,t]}function Fv(t,n){t.action=n}function Ff(t){var n=mn(),s=Ie;if(s!==null)return Xf(n,s,t);mn(),n=n.memoizedState,s=mn();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Nu(t,n,s,l){return t={tag:t,create:n,inst:s,deps:l,next:null},n=ge.updateQueue,n===null&&(n=el(),ge.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Vf(){return mn().memoizedState}function rl(t,n,s,l){var f=di();ge.flags|=t,f.memoizedState=Nu(1|n,s,{destroy:void 0},l===void 0?null:l)}function sl(t,n,s,l){var f=mn();l=l===void 0?null:l;var y=f.memoizedState.inst;Ie!==null&&l!==null&&Ec(l,Ie.memoizedState.deps)?f.memoizedState=Nu(n,s,y,l):(ge.flags|=t,f.memoizedState=Nu(1|n,s,y,l))}function jf(t,n){rl(8390656,8,t,n)}function Rc(t,n){sl(2048,8,t,n)}function Qf(t,n){return sl(4,2,t,n)}function Kf(t,n){return sl(4,4,t,n)}function Jf(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wf(t,n,s){s=s!=null?s.concat([t]):null,sl(4,4,Jf.bind(null,n,t),s)}function Cc(){}function $f(t,n){var s=mn();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Ec(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function td(t,n){var s=mn();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Ec(n,l[1]))return l[0];if(l=t(),Qa){zi(!0);try{t()}finally{zi(!1)}}return s.memoizedState=[l,n],l}function Ac(t,n,s){return s===void 0||ua&1073741824?t.memoizedState=n:(t.memoizedState=s,t=ng(),ge.lanes|=t,_a|=t,s)}function ed(t,n,s,l){return Ln(s,n)?s:Su.current!==null?(t=Ac(t,s,l),Ln(t,n)||(Rn=!0),t):ua&42?(t=ng(),ge.lanes|=t,_a|=t,n):(Rn=!0,t.memoizedState=s)}function nd(t,n,s,l,f){var y=dt.p;dt.p=y!==0&&8>y?y:8;var k=C.T,D={};C.T=D,zc(t,!1,n,s);try{var Y=f(),rt=C.S;if(rt!==null&&rt(D,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var _t=Zv(Y,l);uo(t,n,_t,Ci(t))}else uo(t,n,l,Ci(t))}catch(Nt){uo(t,n,{then:function(){},status:"rejected",reason:Nt},Ci())}finally{dt.p=y,C.T=k}}function Vv(){}function Ic(t,n,s,l){if(t.tag!==5)throw Error(v(476));var f=id(t).queue;nd(t,f,n,Tt,s===null?Vv:function(){return rd(t),s(l)})}function id(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:Tt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rd(t){var n=id(t).next.queue;uo(t,n,{},Ci())}function Dc(){return Qn(Lo)}function sd(){return mn().memoizedState}function ad(){return mn().memoizedState}function jv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ci();t=ha(s);var l=fa(n,t,s);l!==null&&(ai(l,n,s),co(l,n,s)),n={cache:pc()},t.payload=n;return}n=n.return}}function Qv(t,n,s){var l=Ci();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},al(t)?od(n,s):(s=ps(t,n,s,l),s!==null&&(ai(s,t,l),ld(s,n,l)))}function ud(t,n,s){var l=Ci();uo(t,n,s,l)}function uo(t,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(al(t))od(n,f);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var k=n.lastRenderedState,D=y(k,s);if(f.hasEagerState=!0,f.eagerState=D,Ln(D,k))return Yr(t,n,f,0),qe===null&&qn(),!1}catch{}finally{}if(s=ps(t,n,f,l),s!==null)return ai(s,t,l),ld(s,n,l),!0}return!1}function zc(t,n,s,l){if(l={lane:2,revertLane:bh(),action:l,hasEagerState:!1,eagerState:null,next:null},al(t)){if(n)throw Error(v(479))}else n=ps(t,s,l,2),n!==null&&ai(n,t,2)}function al(t){var n=t.alternate;return t===ge||n!==null&&n===ge}function od(t,n){bu=$o=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ld(t,n,s){if(s&4194176){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ra(t,s)}}var jr={readContext:Qn,use:nl,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn};jr.useCacheRefresh=hn,jr.useMemoCache=hn,jr.useHostTransitionStatus=hn,jr.useFormState=hn,jr.useActionState=hn,jr.useOptimistic=hn;var Ka={readContext:Qn,use:nl,useCallback:function(t,n){return di().memoizedState=[t,n===void 0?null:n],t},useContext:Qn,useEffect:jf,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,rl(4194308,4,Jf.bind(null,n,t),s)},useLayoutEffect:function(t,n){return rl(4194308,4,t,n)},useInsertionEffect:function(t,n){rl(4,2,t,n)},useMemo:function(t,n){var s=di();n=n===void 0?null:n;var l=t();if(Qa){zi(!0);try{t()}finally{zi(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=di();if(s!==void 0){var f=s(n);if(Qa){zi(!0);try{s(n)}finally{zi(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Qv.bind(null,ge,t),[l.memoizedState,t]},useRef:function(t){var n=di();return t={current:t},n.memoizedState=t},useState:function(t){t=Oc(t);var n=t.queue,s=ud.bind(null,ge,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Cc,useDeferredValue:function(t,n){var s=di();return Ac(s,t,n)},useTransition:function(){var t=Oc(!1);return t=nd.bind(null,ge,t.queue,!0,!1),di().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=ge,f=di();if(O){if(s===void 0)throw Error(v(407));s=s()}else{if(s=n(),qe===null)throw Error(v(349));Ee&60||Cf(l,n,s)}f.memoizedState=s;var y={value:s,getSnapshot:n};return f.queue=y,jf(If.bind(null,l,y,t),[t]),l.flags|=2048,Nu(9,Af.bind(null,l,y,s,n),{destroy:void 0},null),s},useId:function(){var t=di(),n=qe.identifierPrefix;if(O){var s=Ji,l=Ki;s=(l&~(1<<32-rn(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=tl++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Hv++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return di().memoizedState=jv.bind(null,ge)}};Ka.useMemoCache=kc,Ka.useHostTransitionStatus=Dc,Ka.useFormState=Hf,Ka.useActionState=Hf,Ka.useOptimistic=function(t){var n=di();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=zc.bind(null,ge,!0,s),s.dispatch=n,[t,n]};var oa={readContext:Qn,use:nl,useCallback:$f,useContext:Qn,useEffect:Rc,useImperativeHandle:Wf,useInsertionEffect:Qf,useLayoutEffect:Kf,useMemo:td,useReducer:il,useRef:Vf,useState:function(){return il(ks)},useDebugValue:Cc,useDeferredValue:function(t,n){var s=mn();return ed(s,Ie.memoizedState,t,n)},useTransition:function(){var t=il(ks)[0],n=mn().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:Rf,useId:sd};oa.useCacheRefresh=ad,oa.useMemoCache=kc,oa.useHostTransitionStatus=Dc,oa.useFormState=Yf,oa.useActionState=Yf,oa.useOptimistic=function(t,n){var s=mn();return Pf(s,Ie,t,n)};var Ja={readContext:Qn,use:nl,useCallback:$f,useContext:Qn,useEffect:Rc,useImperativeHandle:Wf,useInsertionEffect:Qf,useLayoutEffect:Kf,useMemo:td,useReducer:Lc,useRef:Vf,useState:function(){return Lc(ks)},useDebugValue:Cc,useDeferredValue:function(t,n){var s=mn();return Ie===null?Ac(s,t,n):ed(s,Ie.memoizedState,t,n)},useTransition:function(){var t=Lc(ks)[0],n=mn().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:Rf,useId:sd};Ja.useCacheRefresh=ad,Ja.useMemoCache=kc,Ja.useHostTransitionStatus=Dc,Ja.useFormState=Ff,Ja.useActionState=Ff,Ja.useOptimistic=function(t,n){var s=mn();return Ie!==null?Pf(s,Ie,t,n):(s.baseState=t,[t,s.queue.dispatch])};function Pc(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bc={isMounted:function(t){return(t=t._reactInternals)?G(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Ci(),f=ha(l);f.payload=n,s!=null&&(f.callback=s),n=fa(t,f,l),n!==null&&(ai(n,t,l),co(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Ci(),f=ha(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=fa(t,f,l),n!==null&&(ai(n,t,l),co(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ci(),l=ha(s);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,s),n!==null&&(ai(n,t,s),co(n,t,s))}};function cd(t,n,s,l,f,y,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,y,k):n.prototype&&n.prototype.isPureReactComponent?!On(s,l)||!On(f,y):!0}function hd(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Bc.enqueueReplaceState(n,n.state,null)}function Wa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=U({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var ul=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fd(t){ul(t)}function dd(t){console.error(t)}function gd(t){ul(t)}function ol(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function md(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qc(t,n,s){return s=ha(s),s.tag=3,s.payload={element:null},s.callback=function(){ol(t,n)},s}function vd(t){return t=ha(t),t.tag=3,t}function _d(t,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=l.value;t.payload=function(){return f(y)},t.callback=function(){md(n,s,l)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){md(n,s,l),typeof f!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})})}function Kv(t,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&lo(n,s,f,!0),s=Wi.current,s!==null){switch(s.tag){case 13:return Vr===null?xh():s.alternate===null&&en===0&&(en=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Xr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Sh(t,l,f)),!1;case 22:return s.flags|=65536,l===Xr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Sh(t,l,f)),!1}throw Error(v(435,s.tag))}return Sh(t,l,f),xh(),!1}if(O)return n=Wi.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==gt&&(t=Error(v(422),{cause:l}),He(ii(t,s)))):(l!==gt&&(n=Error(v(423),{cause:l}),He(ii(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ii(l,s),f=qc(t.stateNode,l,f),th(t,f),en!==4&&(en=2)),!1;var y=Error(v(520),{cause:l});if(y=ii(y,s),yo===null?yo=[y]:yo.push(y),en!==4&&(en=2),n===null)return!0;l=ii(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=qc(s.stateNode,l,t),th(s,t),!1;case 1:if(n=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pa===null||!pa.has(y))))return s.flags|=65536,f&=-f,s.lanes|=f,f=vd(f),_d(f,t,s,l),th(s,f),!1}s=s.return}while(s!==null);return!1}var pd=Error(v(461)),Rn=!1;function Zn(t,n,s,l){n.child=t===null?Qo(n,null,s,l):Fr(n,t.child,s,l)}function yd(t,n,s,l,f){s=s.render;var y=n.ref;if("ref"in l){var k={};for(var D in l)D!=="ref"&&(k[D]=l[D])}else k=l;return tu(n),l=Sc(t,n,s,k,y,f),D=Tc(),t!==null&&!Rn?(wc(t,n,f),Ns(t,n,f)):(O&&D&&o(n),n.flags|=1,Zn(t,n,l,f),n.child)}function xd(t,n,s,l,f){if(t===null){var y=s.type;return typeof y=="function"&&!oh(y)&&y.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=y,Ed(t,n,y,l,f)):(t=dl(s.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(y=t.child,!jc(t,f)){var k=y.memoizedProps;if(s=s.compare,s=s!==null?s:On,s(k,l)&&t.ref===n.ref)return Ns(t,n,f)}return n.flags|=1,t=va(y,l),t.ref=n.ref,t.return=n,n.child=t}function Ed(t,n,s,l,f){if(t!==null){var y=t.memoizedProps;if(On(y,l)&&t.ref===n.ref)if(Rn=!1,n.pendingProps=l=y,jc(t,f))t.flags&131072&&(Rn=!0);else return n.lanes=t.lanes,Ns(t,n,f)}return Uc(t,n,s,l,f)}function Sd(t,n,s){var l=n.pendingProps,f=l.children,y=(n.stateNode._pendingVisibility&2)!==0,k=t!==null?t.memoizedState:null;if(oo(t,n),l.mode==="hidden"||y){if(n.flags&128){if(l=k!==null?k.baseLanes|s:s,t!==null){for(f=n.child=t.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;n.childLanes=y&~l}else n.childLanes=0,n.child=null;return Td(t,n,l,s)}if(s&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,k!==null?k.cachePool:null),k!==null?wf(n,k):vc(),bf(n);else return n.lanes=n.childLanes=536870912,Td(t,n,k!==null?k.baseLanes|s:s,s)}else k!==null?(Wo(n,k.cachePool),wf(n,k),aa(),n.memoizedState=null):(t!==null&&Wo(n,null),vc(),aa());return Zn(t,n,f,s),n.child}function Td(t,n,s,l){var f=xc();return f=f===null?null:{parent:wn._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Wo(n,null),vc(),bf(n),t!==null&&lo(t,n,l,!0),null}function oo(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(v(284));(t===null||t.ref!==s)&&(n.flags|=2097664)}}function Uc(t,n,s,l,f){return tu(n),s=Sc(t,n,s,l,void 0,f),l=Tc(),t!==null&&!Rn?(wc(t,n,f),Ns(t,n,f)):(O&&l&&o(n),n.flags|=1,Zn(t,n,s,f),n.child)}function wd(t,n,s,l,f,y){return tu(n),n.updateQueue=null,s=Mf(n,l,s,f),Of(t),l=Tc(),t!==null&&!Rn?(wc(t,n,y),Ns(t,n,y)):(O&&l&&o(n),n.flags|=1,Zn(t,n,s,y),n.child)}function bd(t,n,s,l,f){if(tu(n),n.stateNode===null){var y=jn,k=s.contextType;typeof k=="object"&&k!==null&&(y=Qn(k)),y=new s(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},Wc(n),k=s.contextType,y.context=typeof k=="object"&&k!==null?Qn(k):jn,y.state=n.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Pc(n,s,k,l),y.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&Bc.enqueueReplaceState(y,y.state,null),fo(n,l,y,f),ho(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){y=n.stateNode;var D=n.memoizedProps,Y=Wa(s,D);y.props=Y;var rt=y.context,_t=s.contextType;k=jn,typeof _t=="object"&&_t!==null&&(k=Qn(_t));var Nt=s.getDerivedStateFromProps;_t=typeof Nt=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,_t||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||rt!==k)&&hd(n,y,l,k),ca=!1;var ft=n.memoizedState;y.state=ft,fo(n,l,y,f),ho(),rt=n.memoizedState,D||ft!==rt||ca?(typeof Nt=="function"&&(Pc(n,s,Nt,l),rt=n.memoizedState),(Y=ca||cd(n,s,Y,l,ft,rt,k))?(_t||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=rt),y.props=l,y.state=rt,y.context=k,l=Y):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,$c(t,n),k=n.memoizedProps,_t=Wa(s,k),y.props=_t,Nt=n.pendingProps,ft=y.context,rt=s.contextType,Y=jn,typeof rt=="object"&&rt!==null&&(Y=Qn(rt)),D=s.getDerivedStateFromProps,(rt=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==Nt||ft!==Y)&&hd(n,y,l,Y),ca=!1,ft=n.memoizedState,y.state=ft,fo(n,l,y,f),ho();var vt=n.memoizedState;k!==Nt||ft!==vt||ca||t!==null&&t.dependencies!==null&&ll(t.dependencies)?(typeof D=="function"&&(Pc(n,s,D,l),vt=n.memoizedState),(_t=ca||cd(n,s,_t,l,ft,vt,Y)||t!==null&&t.dependencies!==null&&ll(t.dependencies))?(rt||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,vt,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,vt,Y)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===t.memoizedProps&&ft===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&ft===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=vt),y.props=l,y.state=vt,y.context=Y,l=_t):(typeof y.componentDidUpdate!="function"||k===t.memoizedProps&&ft===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&ft===t.memoizedState||(n.flags|=1024),l=!1)}return y=l,oo(t,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,f),n.child=Fr(n,null,s,f)):Zn(t,n,s,f),n.memoizedState=y.state,t=n.child):t=Ns(t,n,f),t}function kd(t,n,s,l){return cn(),n.flags|=256,Zn(t,n,s,l),n.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:Lf()}}function Hc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=nr),t}function Nd(t,n,s){var l=n.pendingProps,f=!1,y=(n.flags&128)!==0,k;if((k=y)||(k=t!==null&&t.memoizedState===null?!1:(Tn.current&2)!==0),k&&(f=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,t===null){if(O){if(f?sa(n):aa(),O){var D=T,Y;if(Y=D){t:{for(Y=D,D=ut;Y.nodeType!==8;){if(!D){D=null;break t}if(Y=br(Y.nextSibling),Y===null){D=null;break t}}D=Y}D!==null?(n.memoizedState={dehydrated:D,treeContext:Es!==null?{id:Ki,overflow:Ji}:null,retryLane:536870912},Y=er(18,null,null,0),Y.stateNode=D,Y.return=n,n.child=Y,x=n,T=null,Y=!0):Y=!1}Y||Et(n)}if(D=n.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?n.lanes=16:n.lanes=536870912,null;bs(n)}return D=l.children,l=l.fallback,f?(aa(),f=n.mode,D=Xc({mode:"hidden",children:D},f),l=nu(l,f,s,null),D.return=n,l.return=n,D.sibling=l,n.child=D,f=n.child,f.memoizedState=Zc(s),f.childLanes=Hc(t,k,s),n.memoizedState=Gc,l):(sa(n),Yc(n,D))}if(Y=t.memoizedState,Y!==null&&(D=Y.dehydrated,D!==null)){if(y)n.flags&256?(sa(n),n.flags&=-257,n=Fc(t,n,s)):n.memoizedState!==null?(aa(),n.child=t.child,n.flags|=128,n=null):(aa(),f=l.fallback,D=n.mode,l=Xc({mode:"visible",children:l.children},D),f=nu(f,D,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Fr(n,t.child,null,s),l=n.child,l.memoizedState=Zc(s),l.childLanes=Hc(t,k,s),n.memoizedState=Gc,n=f);else if(sa(n),D.data==="$!"){if(k=D.nextSibling&&D.nextSibling.dataset,k)var rt=k.dgst;k=rt,l=Error(v(419)),l.stack="",l.digest=k,He({value:l,source:null,stack:null}),n=Fc(t,n,s)}else if(Rn||lo(t,n,s,!1),k=(s&t.childLanes)!==0,Rn||k){if(k=qe,k!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(k.suspendedLanes|s)?0:l,l!==0&&l!==Y.retryLane)throw Y.retryLane=l,Un(t,l),ai(k,t,l),pd}D.data==="$?"||xh(),n=Fc(t,n,s)}else D.data==="$?"?(n.flags|=128,n.child=t.child,n=h_.bind(null,t),D._reactRetry=n,n=null):(t=Y.treeContext,T=br(D.nextSibling),x=n,O=!0,F=null,ut=!1,t!==null&&(ri[si++]=Ki,ri[si++]=Ji,ri[si++]=Es,Ki=t.id,Ji=t.overflow,Es=n),n=Yc(n,l.children),n.flags|=4096);return n}return f?(aa(),f=l.fallback,D=n.mode,Y=t.child,rt=Y.sibling,l=va(Y,{mode:"hidden",children:l.children}),l.subtreeFlags=Y.subtreeFlags&31457280,rt!==null?f=va(rt,f):(f=nu(f,D,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,D=t.child.memoizedState,D===null?D=Zc(s):(Y=D.cachePool,Y!==null?(rt=wn._currentValue,Y=Y.parent!==rt?{parent:rt,pool:rt}:Y):Y=Lf(),D={baseLanes:D.baseLanes|s,cachePool:Y}),f.memoizedState=D,f.childLanes=Hc(t,k,s),n.memoizedState=Gc,l):(sa(n),s=t.child,t=s.sibling,s=va(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(k=n.deletions,k===null?(n.deletions=[t],n.flags|=16):k.push(t)),n.child=s,n.memoizedState=null,s)}function Yc(t,n){return n=Xc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xc(t,n){return $d(t,n,0,null)}function Fc(t,n,s){return Fr(n,t.child,null,s),t=Yc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ld(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,s)}function Vc(t,n,s,l,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=f)}function Od(t,n,s){var l=n.pendingProps,f=l.revealOrder,y=l.tail;if(Zn(t,n,l.children,s),l=Tn.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ld(t,s,n);else if(t.tag===19)Ld(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Yt(Tn,l),f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Jo(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Vc(n,!1,f,s,y);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Jo(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Vc(n,!0,s,null,y);break;case"together":Vc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ns(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_a|=n.lanes,!(s&n.childLanes))if(t!==null){if(lo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(v(153));if(n.child!==null){for(t=n.child,s=va(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=va(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function jc(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ll(t)))}function Jv(t,n,s){switch(n.tag){case 3:fe(n,n.stateNode.containerInfo),la(n,wn,t.memoizedState.cache),cn();break;case 27:case 5:cr(n);break;case 4:fe(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(n),n.flags|=128,null):s&n.child.childLanes?Nd(t,n,s):(sa(n),t=Ns(t,n,s),t!==null?t.sibling:null);sa(n);break;case 19:var f=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(lo(t,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return Od(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Yt(Tn,Tn.current),l)break;return null;case 22:case 23:return n.lanes=0,Sd(t,n,s);case 24:la(n,wn,t.memoizedState.cache)}return Ns(t,n,s)}function Md(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rn=!0;else{if(!jc(t,s)&&!(n.flags&128))return Rn=!1,Jv(t,n,s);Rn=!!(t.flags&131072)}else Rn=!1,O&&n.flags&1048576&&r(n,Fa,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")oh(l)?(t=Wa(l,t),n.tag=1,n=bd(null,n,l,t,s)):(n.tag=0,n=Uc(null,n,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===at){n.tag=11,n=yd(null,n,l,t,s);break t}else if(f===Pt){n.tag=14,n=xd(null,n,l,t,s);break t}}throw n=I(l)||l,Error(v(306,n,""))}}return n;case 0:return Uc(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Wa(l,n.pendingProps),bd(t,n,l,f,s);case 3:t:{if(fe(n,n.stateNode.containerInfo),t===null)throw Error(v(387));var y=n.pendingProps;f=n.memoizedState,l=f.element,$c(t,n),fo(n,y,null,s);var k=n.memoizedState;if(y=k.cache,la(n,wn,y),y!==f.cache&&Jc(n,[wn],s,!0),ho(),y=k.element,f.isDehydrated)if(f={element:y,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kd(t,n,y,s);break t}else if(y!==l){l=ii(Error(v(424)),n),He(l),n=kd(t,n,y,s);break t}else for(T=br(n.stateNode.containerInfo.firstChild),x=n,O=!0,F=null,ut=!0,s=Qo(n,null,y,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(cn(),y===l){n=Ns(t,n,s);break t}Zn(t,n,y,s)}n=n.child}return n;case 26:return oo(t,n),t===null?(s=Ag(n.type,null,n.pendingProps,null))?n.memoizedState=s:O||(s=n.type,t=n.pendingProps,l=bl(_e.current).createElement(s),l[We]=n,l[pn]=t,Hn(l,s,t),Ge(l),n.stateNode=l):n.memoizedState=Ag(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return cr(n),t===null&&O&&(l=n.stateNode=Mg(n.type,n.pendingProps,_e.current),x=n,ut=!0,T=br(l.firstChild)),l=n.pendingProps.children,t!==null||O?Zn(t,n,l,s):n.child=Fr(n,null,l,s),oo(t,n),n.child;case 5:return t===null&&O&&((f=l=T)&&(l=N_(l,n.type,n.pendingProps,ut),l!==null?(n.stateNode=l,x=n,T=br(l.firstChild),ut=!1,f=!0):f=!1),f||Et(n)),cr(n),f=n.type,y=n.pendingProps,k=t!==null?t.memoizedProps:null,l=y.children,Ih(f,y)?l=null:k!==null&&Ih(f,k)&&(n.flags|=32),n.memoizedState!==null&&(f=Sc(t,n,Yv,null,null,s),Lo._currentValue=f),oo(t,n),Zn(t,n,l,s),n.child;case 6:return t===null&&O&&((t=s=T)&&(s=L_(s,n.pendingProps,ut),s!==null?(n.stateNode=s,x=n,T=null,t=!0):t=!1),t||Et(n)),null;case 13:return Nd(t,n,s);case 4:return fe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,s):Zn(t,n,l,s),n.child;case 11:return yd(t,n,n.type,n.pendingProps,s);case 7:return Zn(t,n,n.pendingProps,s),n.child;case 8:return Zn(t,n,n.pendingProps.children,s),n.child;case 12:return Zn(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),Zn(t,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,tu(n),f=Qn(f),l=l(f),n.flags|=1,Zn(t,n,l,s),n.child;case 14:return xd(t,n,n.type,n.pendingProps,s);case 15:return Ed(t,n,n.type,n.pendingProps,s);case 19:return Od(t,n,s);case 22:return Sd(t,n,s);case 24:return tu(n),l=Qn(wn),t===null?(f=xc(),f===null&&(f=qe,y=pc(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=s),f=y),n.memoizedState={parent:l,cache:f},Wc(n),la(n,wn,f)):(t.lanes&s&&($c(t,n),fo(n,null,null,s),ho()),f=t.memoizedState,y=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),la(n,wn,l)):(l=y.cache,la(n,wn,l),l!==f.cache&&Jc(n,[wn],s,!0))),Zn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(v(156,n.tag))}var Qc=W(null),$a=null,Ls=null;function la(t,n,s){Yt(Qc,n._currentValue),n._currentValue=s}function Os(t){t._currentValue=Qc.current,Me(Qc)}function Kc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Jc(t,n,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){var k=f.child;y=y.firstContext;t:for(;y!==null;){var D=y;y=f;for(var Y=0;Y<n.length;Y++)if(D.context===n[Y]){y.lanes|=s,D=y.alternate,D!==null&&(D.lanes|=s),Kc(y.return,s,t),l||(k=null);break t}y=D.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(v(341));k.lanes|=s,y=k.alternate,y!==null&&(y.lanes|=s),Kc(k,s,t),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===t){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function lo(t,n,s,l){t=null;for(var f=n,y=!1;f!==null;){if(!y){if(f.flags&524288)y=!0;else if(f.flags&262144)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(v(387));if(k=k.memoizedProps,k!==null){var D=f.type;Ln(f.pendingProps.value,k.value)||(t!==null?t.push(D):t=[D])}}else if(f===ze.current){if(k=f.alternate,k===null)throw Error(v(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}f=f.return}t!==null&&Jc(n,t,s,l),n.flags|=262144}function ll(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function tu(t){$a=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qn(t){return Rd($a,t)}function cl(t,n){return $a===null&&tu(t),Rd(t,n)}function Rd(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ls===null){if(t===null)throw Error(v(308));Ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ls=Ls.next=n;return s}var ca=!1;function Wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,je&2){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Qi(t),Ya(t,null,s),n}return Yr(t,l,n,s),Qi(t)}function co(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ra(t,s)}}function th(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?f=y=k:y=y.next=k,s=s.next}while(s!==null);y===null?f=y=n:y=y.next=n}else f=y=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var eh=!1;function ho(){if(eh){var t=wu;if(t!==null)throw t}}function fo(t,n,s,l){eh=!1;var f=t.updateQueue;ca=!1;var y=f.firstBaseUpdate,k=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var Y=D,rt=Y.next;Y.next=null,k===null?y=rt:k.next=rt,k=Y;var _t=t.alternate;_t!==null&&(_t=_t.updateQueue,D=_t.lastBaseUpdate,D!==k&&(D===null?_t.firstBaseUpdate=rt:D.next=rt,_t.lastBaseUpdate=Y))}if(y!==null){var Nt=f.baseState;k=0,_t=rt=Y=null,D=y;do{var ft=D.lane&-536870913,vt=ft!==D.lane;if(vt?(Ee&ft)===ft:(l&ft)===ft){ft!==0&&ft===Tu&&(eh=!0),_t!==null&&(_t=_t.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Ht=t,ae=D;ft=n;var nn=s;switch(ae.tag){case 1:if(Ht=ae.payload,typeof Ht=="function"){Nt=Ht.call(nn,Nt,ft);break t}Nt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=ae.payload,ft=typeof Ht=="function"?Ht.call(nn,Nt,ft):Ht,ft==null)break t;Nt=U({},Nt,ft);break t;case 2:ca=!0}}ft=D.callback,ft!==null&&(t.flags|=64,vt&&(t.flags|=8192),vt=f.callbacks,vt===null?f.callbacks=[ft]:vt.push(ft))}else vt={lane:ft,tag:D.tag,payload:D.payload,callback:D.callback,next:null},_t===null?(rt=_t=vt,Y=Nt):_t=_t.next=vt,k|=ft;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;vt=D,D=vt.next,vt.next=null,f.lastBaseUpdate=vt,f.shared.pending=null}}while(!0);_t===null&&(Y=Nt),f.baseState=Y,f.firstBaseUpdate=rt,f.lastBaseUpdate=_t,y===null&&(f.shared.lanes=0),_a|=k,t.lanes=k,t.memoizedState=Nt}}function Cd(t,n){if(typeof t!="function")throw Error(v(191,t));t.call(n)}function Ad(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Cd(s[t],n)}function go(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var y=s.create,k=s.inst;l=y(),k.destroy=l}s=s.next}while(s!==f)}}catch(D){Pe(n,n.return,D)}}function da(t,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&t)===t){var k=l.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,f=n;var Y=s;try{D()}catch(rt){Pe(f,Y,rt)}}}l=l.next}while(l!==y)}}catch(rt){Pe(n,n.return,rt)}}function Id(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Ad(n,s)}catch(l){Pe(t,t.return,l)}}}function Dd(t,n,s){s.props=Wa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Pe(t,n,l)}}function eu(t,n){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?t.refCleanup=s(f):s.current=f}}catch(y){Pe(t,n,y)}}function Oi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Pe(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Pe(t,n,f)}else s.current=null}function zd(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Pe(t,t.return,f)}}function Pd(t,n,s){try{var l=t.stateNode;S_(l,t.type,s,n),l[pn]=n}catch(f){Pe(t,t.return,f)}}function Bd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function nh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ih(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wl));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ih(t,n,s),t=t.sibling;t!==null;)ih(t,n,s),t=t.sibling}function hl(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(hl(t,n,s),t=t.sibling;t!==null;)hl(t,n,s),t=t.sibling}var Ms=!1,tn=!1,rh=!1,qd=typeof WeakSet=="function"?WeakSet:Set,Cn=null,Ud=!1;function Wv(t,n){if(t=t.containerInfo,Ch=Rl,t=_s(t),Hr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break t}var k=0,D=-1,Y=-1,rt=0,_t=0,Nt=t,ft=null;e:for(;;){for(var vt;Nt!==s||f!==0&&Nt.nodeType!==3||(D=k+f),Nt!==y||l!==0&&Nt.nodeType!==3||(Y=k+l),Nt.nodeType===3&&(k+=Nt.nodeValue.length),(vt=Nt.firstChild)!==null;)ft=Nt,Nt=vt;for(;;){if(Nt===t)break e;if(ft===s&&++rt===f&&(D=k),ft===y&&++_t===l&&(Y=k),(vt=Nt.nextSibling)!==null)break;Nt=ft,ft=Nt.parentNode}Nt=vt}s=D===-1||Y===-1?null:{start:D,end:Y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ah={focusedElem:t,selectionRange:s},Rl=!1,Cn=n;Cn!==null;)if(n=Cn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Cn=t;else for(;Cn!==null;){switch(n=Cn,y=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&y!==null){t=void 0,s=n,f=y.memoizedProps,y=y.memoizedState,l=s.stateNode;try{var Ht=Wa(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ht,y),l.__reactInternalSnapshotBeforeUpdate=t}catch(ae){Pe(s,s.return,ae)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ph(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ph(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(v(163))}if(t=n.sibling,t!==null){t.return=n.return,Cn=t;break}Cn=n.return}return Ht=Ud,Ud=!1,Ht}function Gd(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Cs(t,s),l&4&&go(5,s);break;case 1:if(Cs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(D){Pe(s,s.return,D)}else{var f=Wa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(D){Pe(s,s.return,D)}}l&64&&Id(s),l&512&&eu(s,s.return);break;case 3:if(Cs(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Ad(l,t)}catch(D){Pe(s,s.return,D)}}break;case 26:Cs(t,s),l&512&&eu(s,s.return);break;case 27:case 5:Cs(t,s),n===null&&l&4&&zd(s),l&512&&eu(s,s.return);break;case 12:Cs(t,s);break;case 13:Cs(t,s),l&4&&Yd(t,s);break;case 22:if(f=s.memoizedState!==null||Ms,!f){n=n!==null&&n.memoizedState!==null||tn;var y=Ms,k=tn;Ms=f,(tn=n)&&!k?ga(t,s,(s.subtreeFlags&8772)!==0):Cs(t,s),Ms=y,tn=k}l&512&&(s.memoizedProps.mode==="manual"?eu(s,s.return):Oi(s,s.return));break;default:Cs(t,s)}}function Zd(t){var n=t.alternate;n!==null&&(t.alternate=null,Zd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vn=null,Mi=!1;function Rs(t,n,s){for(s=s.child;s!==null;)Hd(t,n,s),s=s.sibling}function Hd(t,n,s){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(bn,s)}catch{}switch(s.tag){case 26:tn||Oi(s,n),Rs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tn||Oi(s,n);var l=vn,f=Mi;for(vn=s.stateNode,Rs(t,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Cr(s),vn=l,Mi=f;break;case 5:tn||Oi(s,n);case 6:f=vn;var y=Mi;if(vn=null,Rs(t,n,s),vn=f,Mi=y,vn!==null)if(Mi)try{t=vn,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(k){Pe(s,n,k)}else try{vn.removeChild(s.stateNode)}catch(k){Pe(s,n,k)}break;case 18:vn!==null&&(Mi?(n=vn,s=s.stateNode,n.nodeType===8?zh(n.parentNode,s):n.nodeType===1&&zh(n,s),Co(n)):zh(vn,s.stateNode));break;case 4:l=vn,f=Mi,vn=s.stateNode.containerInfo,Mi=!0,Rs(t,n,s),vn=l,Mi=f;break;case 0:case 11:case 14:case 15:tn||da(2,s,n),tn||da(4,s,n),Rs(t,n,s);break;case 1:tn||(Oi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Dd(s,n,l)),Rs(t,n,s);break;case 21:Rs(t,n,s);break;case 22:tn||Oi(s,n),tn=(l=tn)||s.memoizedState!==null,Rs(t,n,s),tn=l;break;default:Rs(t,n,s)}}function Yd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(s){Pe(n,n.return,s)}}function $v(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new qd),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new qd),n;default:throw Error(v(435,t.tag))}}function sh(t,n){var s=$v(t);n.forEach(function(l){var f=f_.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function $i(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],y=t,k=n,D=k;t:for(;D!==null;){switch(D.tag){case 27:case 5:vn=D.stateNode,Mi=!1;break t;case 3:vn=D.stateNode.containerInfo,Mi=!0;break t;case 4:vn=D.stateNode.containerInfo,Mi=!0;break t}D=D.return}if(vn===null)throw Error(v(160));Hd(y,k,f),vn=null,Mi=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xd(n,t),n=n.sibling}var wr=null;function Xd(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$i(n,t),tr(t),l&4&&(da(3,t,t.return),go(3,t),da(5,t,t.return));break;case 1:$i(n,t),tr(t),l&512&&(tn||s===null||Oi(s,s.return)),l&64&&Ms&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=wr;if($i(n,t),tr(t),l&512&&(tn||s===null||Oi(s,s.return)),l&4){var y=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":y=f.getElementsByTagName("title")[0],(!y||y[gr]||y[We]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(l),f.head.insertBefore(y,f.querySelector("head > title"))),Hn(y,l,s),y[We]=t,Ge(y),l=y;break t;case"link":var k=zg("link","href",f).get(l+(s.href||""));if(k){for(var D=0;D<k.length;D++)if(y=k[D],y.getAttribute("href")===(s.href==null?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(D,1);break e}}y=f.createElement(l),Hn(y,l,s),f.head.appendChild(y);break;case"meta":if(k=zg("meta","content",f).get(l+(s.content||""))){for(D=0;D<k.length;D++)if(y=k[D],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(D,1);break e}}y=f.createElement(l),Hn(y,l,s),f.head.appendChild(y);break;default:throw Error(v(468,l))}y[We]=t,Ge(y),l=y}t.stateNode=l}else Pg(f,t.type,t.stateNode);else t.stateNode=Dg(f,l,t.memoizedProps);else y!==l?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,l===null?Pg(f,t.type,t.stateNode):Dg(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,y=t.memoizedProps;try{for(var Y=f.firstChild;Y;){var rt=Y.nextSibling,_t=Y.nodeName;Y[gr]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||f.removeChild(Y),Y=rt}for(var Nt=t.type,ft=f.attributes;ft.length;)f.removeAttributeNode(ft[0]);Hn(f,Nt,y),f[We]=t,f[pn]=y}catch(Ht){Pe(t,t.return,Ht)}}case 5:if($i(n,t),tr(t),l&512&&(tn||s===null||Oi(s,s.return)),t.flags&32){f=t.stateNode;try{$n(f,"")}catch(Ht){Pe(t,t.return,Ht)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Pd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(rh=!0);break;case 6:if($i(n,t),tr(t),l&4){if(t.stateNode===null)throw Error(v(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Ht){Pe(t,t.return,Ht)}}break;case 3:if(Ll=null,f=wr,wr=kl(n.containerInfo),$i(n,t),wr=f,tr(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Co(n.containerInfo)}catch(Ht){Pe(t,t.return,Ht)}rh&&(rh=!1,Fd(t));break;case 4:l=wr,wr=kl(t.stateNode.containerInfo),$i(n,t),tr(t),wr=l;break;case 12:$i(n,t),tr(t);break;case 13:$i(n,t),tr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gh=Vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sh(t,l)));break;case 22:if(l&512&&(tn||s===null||Oi(s,s.return)),Y=t.memoizedState!==null,rt=s!==null&&s.memoizedState!==null,_t=Ms,Nt=tn,Ms=_t||Y,tn=Nt||rt,$i(n,t),tn=Nt,Ms=_t,tr(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=Y?n._visibility&-2:n._visibility|1,Y&&(n=Ms||tn,s===null||rt||n||Lu(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(s=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){rt=s=n;try{if(f=rt.stateNode,Y)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{k=rt.stateNode,D=rt.memoizedProps.style;var vt=D!=null&&D.hasOwnProperty("display")?D.display:null;k.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Ht){Pe(rt,rt.return,Ht)}}}else if(n.tag===6){if(s===null){rt=n;try{rt.stateNode.nodeValue=Y?"":rt.memoizedProps}catch(Ht){Pe(rt,rt.return,Ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,sh(t,s))));break;case 19:$i(n,t),tr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sh(t,l)));break;case 21:break;default:$i(n,t),tr(t)}}function tr(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var s=t.return;s!==null;){if(Bd(s)){var l=s;break t}s=s.return}throw Error(v(160))}switch(l.tag){case 27:var f=l.stateNode,y=nh(t);hl(t,y,f);break;case 5:var k=l.stateNode;l.flags&32&&($n(k,""),l.flags&=-33);var D=nh(t);hl(t,D,k);break;case 3:case 4:var Y=l.stateNode.containerInfo,rt=nh(t);ih(t,rt,Y);break;default:throw Error(v(161))}}}catch(_t){Pe(t,t.return,_t)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gd(t,n.alternate,n),n=n.sibling}function Lu(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),Lu(n);break;case 1:Oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dd(n,n.return,s),Lu(n);break;case 26:case 27:case 5:Oi(n,n.return),Lu(n);break;case 22:Oi(n,n.return),n.memoizedState===null&&Lu(n);break;default:Lu(n)}t=t.sibling}}function ga(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,y=n,k=y.flags;switch(y.tag){case 0:case 11:case 15:ga(f,y,s),go(4,y);break;case 1:if(ga(f,y,s),l=y,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(rt){Pe(l,l.return,rt)}if(l=y,f=l.updateQueue,f!==null){var D=l.stateNode;try{var Y=f.shared.hiddenCallbacks;if(Y!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Y.length;f++)Cd(Y[f],D)}catch(rt){Pe(l,l.return,rt)}}s&&k&64&&Id(y),eu(y,y.return);break;case 26:case 27:case 5:ga(f,y,s),s&&l===null&&k&4&&zd(y),eu(y,y.return);break;case 12:ga(f,y,s);break;case 13:ga(f,y,s),s&&k&4&&Yd(f,y);break;case 22:y.memoizedState===null&&ga(f,y,s),eu(y,y.return);break;default:ga(f,y,s)}n=n.sibling}}function ah(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&io(s))}function uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&io(t))}function ma(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vd(t,n,s,l),n=n.sibling}function Vd(t,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n,s,l),f&2048&&go(9,n);break;case 3:ma(t,n,s,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&io(t)));break;case 12:if(f&2048){ma(t,n,s,l),t=n.stateNode;try{var y=n.memoizedProps,k=y.id,D=y.onPostCommit;typeof D=="function"&&D(k,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Pe(n,n.return,Y)}}else ma(t,n,s,l);break;case 23:break;case 22:y=n.stateNode,n.memoizedState!==null?y._visibility&4?ma(t,n,s,l):mo(t,n):y._visibility&4?ma(t,n,s,l):(y._visibility|=4,Ou(t,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&ah(n.alternate,n);break;case 24:ma(t,n,s,l),f&2048&&uh(n.alternate,n);break;default:ma(t,n,s,l)}}function Ou(t,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=t,k=n,D=s,Y=l,rt=k.flags;switch(k.tag){case 0:case 11:case 15:Ou(y,k,D,Y,f),go(8,k);break;case 23:break;case 22:var _t=k.stateNode;k.memoizedState!==null?_t._visibility&4?Ou(y,k,D,Y,f):mo(y,k):(_t._visibility|=4,Ou(y,k,D,Y,f)),f&&rt&2048&&ah(k.alternate,k);break;case 24:Ou(y,k,D,Y,f),f&&rt&2048&&uh(k.alternate,k);break;default:Ou(y,k,D,Y,f)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,f=l.flags;switch(l.tag){case 22:mo(s,l),f&2048&&ah(l.alternate,l);break;case 24:mo(s,l),f&2048&&uh(l.alternate,l);break;default:mo(s,l)}n=n.sibling}}var vo=8192;function Mu(t){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)jd(t),t=t.sibling}function jd(t){switch(t.tag){case 26:Mu(t),t.flags&vo&&t.memoizedState!==null&&G_(wr,t.memoizedState,t.memoizedProps);break;case 5:Mu(t);break;case 3:case 4:var n=wr;wr=kl(t.stateNode.containerInfo),Mu(t),wr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=vo,vo=16777216,Mu(t),vo=n):Mu(t));break;default:Mu(t)}}function Qd(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _o(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Cn=l,Jd(l,t)}Qd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kd(t),t=t.sibling}function Kd(t){switch(t.tag){case 0:case 11:case 15:_o(t),t.flags&2048&&da(9,t,t.return);break;case 3:_o(t);break;case 12:_o(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,fl(t)):_o(t);break;default:_o(t)}}function fl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Cn=l,Jd(l,t)}Qd(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),fl(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,fl(n));break;default:fl(n)}t=t.sibling}}function Jd(t,n){for(;Cn!==null;){var s=Cn;switch(s.tag){case 0:case 11:case 15:da(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:io(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Cn=l;else t:for(s=t;Cn!==null;){l=Cn;var f=l.sibling,y=l.return;if(Zd(l),l===s){Cn=null;break t}if(f!==null){f.return=y,Cn=f;break t}Cn=y}}}function t_(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,n,s,l){return new t_(t,n,s,l)}function oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function va(t,n){var s=t.alternate;return s===null?(s=er(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Wd(t,n){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function dl(t,n,s,l,f,y){var k=0;if(l=t,typeof t=="function")oh(t)&&(k=1);else if(typeof t=="string")k=q_(t,s,Dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case z:return nu(s.children,f,y,n);case A:k=8,f|=24;break;case H:return t=er(12,s,n,f|2),t.elementType=H,t.lanes=y,t;case kt:return t=er(13,s,n,f),t.elementType=kt,t.lanes=y,t;case Mt:return t=er(19,s,n,f),t.elementType=Mt,t.lanes=y,t;case mt:return $d(s,f,y,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case nt:k=10;break t;case K:k=9;break t;case at:k=11;break t;case Pt:k=14;break t;case st:k=16,l=null;break t}k=29,s=Error(v(130,t===null?"null":typeof t,"")),l=null}return n=er(k,s,n,f),n.elementType=t,n.type=l,n.lanes=y,n}function nu(t,n,s,l){return t=er(7,t,l,n),t.lanes=s,t}function $d(t,n,s,l){t=er(22,t,l,n),t.elementType=mt,t.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=f._current;if(y===null)throw Error(v(456));if(!(f._pendingVisibility&2)){var k=Un(y,2);k!==null&&(f._pendingVisibility|=2,ai(k,y,2))}},attach:function(){var y=f._current;if(y===null)throw Error(v(456));if(f._pendingVisibility&2){var k=Un(y,2);k!==null&&(f._pendingVisibility&=-3,ai(k,y,2))}}};return t.stateNode=f,t}function lh(t,n,s){return t=er(6,t,null,n),t.lanes=s,t}function ch(t,n,s){return n=er(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function As(t){t.flags|=4}function tg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Bg(n)){if(n=Wi.current,n!==null&&((Ee&4194176)===Ee?Vr!==null:(Ee&62914560)!==Ee&&!(Ee&536870912)||n!==Vr))throw ra=Xr,Gn;t.flags|=8192}}function gl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?as():536870912,t.lanes|=n,Cu|=n)}function po(t,n){if(!O)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ve(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function e_(t,n,s){var l=n.pendingProps;switch(h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Os(wn),Ii(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(se(n)?As(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,F!==null&&(ph(F),F=null))),Ve(n),null;case 26:return s=n.memoizedState,t===null?(As(n),s!==null?(Ve(n),tg(n,s)):(Ve(n),n.flags&=-16777217)):s?s!==t.memoizedState?(As(n),Ve(n),tg(n,s)):(Ve(n),n.flags&=-16777217):(t.memoizedProps!==l&&As(n),Ve(n),n.flags&=-16777217),null;case 27:hr(n),s=_e.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(v(166));return Ve(n),null}t=Dt.current,se(n)?zt(n):(t=Mg(f,l,s),n.stateNode=t,As(n))}return Ve(n),null;case 5:if(hr(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(!l){if(n.stateNode===null)throw Error(v(166));return Ve(n),null}if(t=Dt.current,se(n))zt(n);else{switch(f=bl(_e.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[We]=n,t[pn]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(Hn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&As(n)}}return Ve(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&As(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(v(166));if(t=_e.current,se(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,f=x,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[We]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||wg(t.nodeValue,s)),t||Et(n)}else t=bl(t).createTextNode(l),t[We]=n,n.stateNode=t}return Ve(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=se(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(v(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(v(317));f[We]=n}else cn(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ve(n),f=!1}else F!==null&&(ph(F),F=null),f=!0;if(!f)return n.flags&256?(bs(n),n):(bs(n),null)}if(bs(n),n.flags&128)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==f&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),gl(n,n.updateQueue),Ve(n),null;case 4:return Ii(),t===null&&Oh(n.stateNode.containerInfo),Ve(n),null;case 10:return Os(n.type),Ve(n),null;case 19:if(Me(Tn),f=n.memoizedState,f===null)return Ve(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)po(f,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(y=Jo(t),y!==null){for(n.flags|=128,po(f,!1),t=y.updateQueue,n.updateQueue=t,gl(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Wd(s,t),s=s.sibling;return Yt(Tn,Tn.current&1|2),n.child}t=t.sibling}f.tail!==null&&Vt()>ml&&(n.flags|=128,l=!0,po(f,!1),n.lanes=4194304)}else{if(!l)if(t=Jo(y),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,gl(n,t),po(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!O)return Ve(n),null}else 2*Vt()-f.renderingStartTime>ml&&s!==536870912&&(n.flags|=128,l=!0,po(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(t=f.last,t!==null?t.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Vt(),n.sibling=null,t=Tn.current,Yt(Tn,l?t&1|2:t&1),n):(Ve(n),null);case 22:case 23:return bs(n),_c(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?s&536870912&&!(n.flags&128)&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),s=n.updateQueue,s!==null&&gl(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Me(ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Os(wn),Ve(n),null;case 25:return null}throw Error(v(156,n.tag))}function n_(t,n){switch(h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Os(wn),Ii(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hr(n),null;case 13:if(bs(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(v(340));cn()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Me(Tn),null;case 4:return Ii(),null;case 10:return Os(n.type),null;case 22:case 23:return bs(n),_c(),t!==null&&Me(ja),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Os(wn),null;case 25:return null;default:return null}}function eg(t,n){switch(h(n),n.tag){case 3:Os(wn),Ii();break;case 26:case 27:case 5:hr(n);break;case 4:Ii();break;case 13:bs(n);break;case 19:Me(Tn);break;case 10:Os(n.type);break;case 22:case 23:bs(n),_c(),t!==null&&Me(ja);break;case 24:Os(wn)}}var i_={getCacheForType:function(t){var n=Qn(wn),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},r_=typeof WeakMap=="function"?WeakMap:Map,je=0,qe=null,ve=null,Ee=0,Ue=0,Ri=null,Is=!1,Ru=!1,hh=!1,Ds=0,en=0,_a=0,iu=0,fh=0,nr=0,Cu=0,yo=null,Qr=null,dh=!1,gh=0,ml=1/0,vl=null,pa=null,_l=!1,ru=null,xo=0,mh=0,vh=null,Eo=0,_h=null;function Ci(){if(je&2&&Ee!==0)return Ee&-Ee;if(C.T!==null){var t=Tu;return t!==0?t:bh()}return Gt()}function ng(){nr===0&&(nr=!(Ee&536870912)||O?Rt():536870912);var t=Wi.current;return t!==null&&(t.flags|=32),nr}function ai(t,n,s){(t===qe&&Ue===2||t.cancelPendingCommit!==null)&&(Au(t,0),zs(t,Ee,nr,!1)),vi(t,s),(!(je&2)||t!==qe)&&(t===qe&&(!(je&2)&&(iu|=s),en===4&&zs(t,Ee,nr,!1)),Kr(t))}function ig(t,n,s){if(je&6)throw Error(v(327));var l=!s&&(n&60)===0&&(n&t.expiredLanes)===0||Mr(t,n),f=l?u_(t,n):Eh(t,n,!0),y=l;do{if(f===0){Ru&&!l&&zs(t,n,0,!1);break}else if(f===6)zs(t,n,0,!Is);else{if(s=t.current.alternate,y&&!s_(s)){f=Eh(t,n,!1),y=!1;continue}if(f===2){if(y=n,t.errorRecoveryDisabledLanes&y)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;t:{var D=t;f=yo;var Y=D.current.memoizedState.isDehydrated;if(Y&&(Au(D,k).flags|=256),k=Eh(D,k,!1),k!==2){if(hh&&!Y){D.errorRecoveryDisabledLanes|=y,iu|=y,f=4;break t}y=Qr,Qr=f,y!==null&&ph(y)}f=k}if(y=!1,f!==2)continue}}if(f===1){Au(t,0),zs(t,n,0,!0);break}t:{switch(l=t,f){case 0:case 1:throw Error(v(345));case 4:if((n&4194176)===n){zs(l,n,nr,!Is);break t}break;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(v(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(y=gh+300-Vt(),10<y)){if(zs(l,n,nr,!Is),Gs(l,0)!==0)break t;l.timeoutHandle=Ng(rg.bind(null,l,s,Qr,vl,dh,n,nr,iu,Cu,Is,2,-0,0),y);break t}rg(l,s,Qr,vl,dh,n,nr,iu,Cu,Is,0,-0,0)}}break}while(!0);Kr(t)}function ph(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function rg(t,n,s,l,f,y,k,D,Y,rt,_t,Nt,ft){var vt=n.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(No={stylesheets:null,count:0,unsuspend:U_},jd(n),n=Z_(),n!==null)){t.cancelPendingCommit=n(hg.bind(null,t,s,l,f,k,D,Y,1,Nt,ft)),zs(t,y,k,!rt);return}hg(t,s,l,f,k,D,Y,_t,Nt,ft)}function s_(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],y=f.getSnapshot;f=f.value;try{if(!Ln(y(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(t,n,s,l){n&=~fh,n&=~iu,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var y=31-rn(f),k=1<<y;l[y]=-1,f&=~k}s!==0&&Zs(t,s,n)}function pl(){return je&6?!0:(So(0),!1)}function yh(){if(ve!==null){if(Ue===0)var t=ve.return;else t=ve,Ls=$a=null,bc(t),Ts=null,Be=0,t=ve;for(;t!==null;)eg(t.alternate,t),t=t.return;ve=null}}function Au(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,w_(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),yh(),qe=t,ve=s=va(t.current,null),Ee=n,Ue=0,Ri=null,Is=!1,Ru=Mr(t,n),hh=!1,Cu=nr=fh=iu=_a=en=0,Qr=yo=null,dh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-rn(l),y=1<<f;n|=t[f],l&=~y}return Ds=n,qn(),s}function sg(t,n){ge=null,C.H=jr,n===Mn?(n=Vo(),Ue=3):n===Gn?(n=Vo(),Ue=4):Ue=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ri=n,ve===null&&(en=1,ol(t,ii(n,t.current)))}function ag(){var t=C.H;return C.H=jr,t===null?jr:t}function ug(){var t=C.A;return C.A=i_,t}function xh(){en=4,Is||(Ee&4194176)!==Ee&&Wi.current!==null||(Ru=!0),!(_a&134217727)&&!(iu&134217727)||qe===null||zs(qe,Ee,nr,!1)}function Eh(t,n,s){var l=je;je|=2;var f=ag(),y=ug();(qe!==t||Ee!==n)&&(vl=null,Au(t,n)),n=!1;var k=en;t:do try{if(Ue!==0&&ve!==null){var D=ve,Y=Ri;switch(Ue){case 8:yh(),k=6;break t;case 3:case 2:case 6:Wi.current===null&&(n=!0);var rt=Ue;if(Ue=0,Ri=null,Iu(t,D,Y,rt),s&&Ru){k=0;break t}break;default:rt=Ue,Ue=0,Ri=null,Iu(t,D,Y,rt)}}a_(),k=en;break}catch(_t){sg(t,_t)}while(!0);return n&&t.shellSuspendCounter++,Ls=$a=null,je=l,C.H=f,C.A=y,ve===null&&(qe=null,Ee=0,qn()),k}function a_(){for(;ve!==null;)og(ve)}function u_(t,n){var s=je;je|=2;var l=ag(),f=ug();qe!==t||Ee!==n?(vl=null,ml=Vt()+500,Au(t,n)):Ru=Mr(t,n);t:do try{if(Ue!==0&&ve!==null){n=ve;var y=Ri;e:switch(Ue){case 1:Ue=0,Ri=null,Iu(t,n,y,1);break;case 2:if(Xo(y)){Ue=0,Ri=null,lg(n);break}n=function(){Ue===2&&qe===t&&(Ue=7),Kr(t)},y.then(n,n);break t;case 3:Ue=7;break t;case 4:Ue=5;break t;case 7:Xo(y)?(Ue=0,Ri=null,lg(n)):(Ue=0,Ri=null,Iu(t,n,y,7));break;case 5:var k=null;switch(ve.tag){case 26:k=ve.memoizedState;case 5:case 27:var D=ve;if(!k||Bg(k)){Ue=0,Ri=null;var Y=D.sibling;if(Y!==null)ve=Y;else{var rt=D.return;rt!==null?(ve=rt,yl(rt)):ve=null}break e}}Ue=0,Ri=null,Iu(t,n,y,5);break;case 6:Ue=0,Ri=null,Iu(t,n,y,6);break;case 8:yh(),en=6;break t;default:throw Error(v(462))}}o_();break}catch(_t){sg(t,_t)}while(!0);return Ls=$a=null,C.H=l,C.A=f,je=s,ve!==null?0:(qe=null,Ee=0,qn(),en)}function o_(){for(;ve!==null&&!Di();)og(ve)}function og(t){var n=Md(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,n===null?yl(t):ve=n}function lg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=wd(s,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=wd(s,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:bc(n);default:eg(s,n),n=ve=Wd(n,Ds),n=Md(s,n,Ds)}t.memoizedProps=t.pendingProps,n===null?yl(t):ve=n}function Iu(t,n,s,l){Ls=$a=null,bc(n),Ts=null,Be=0;var f=n.return;try{if(Kv(t,f,n,s,Ee)){en=1,ol(t,ii(s,t.current)),ve=null;return}}catch(y){if(f!==null)throw ve=f,y;en=1,ol(t,ii(s,t.current)),ve=null;return}n.flags&32768?(O||l===1?t=!0:Ru||Ee&536870912?t=!1:(Is=t=!0,(l===2||l===3||l===6)&&(l=Wi.current,l!==null&&l.tag===13&&(l.flags|=16384))),cg(n,t)):yl(n)}function yl(t){var n=t;do{if(n.flags&32768){cg(n,Is);return}t=n.return;var s=e_(n.alternate,n,Ds);if(s!==null){ve=s;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=t}while(n!==null);en===0&&(en=5)}function cg(t,n){do{var s=n_(t.alternate,t);if(s!==null){s.flags&=32767,ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ve=t;return}ve=t=s}while(t!==null);en=6,ve=null}function hg(t,n,s,l,f,y,k,D,Y,rt){var _t=C.T,Nt=dt.p;try{dt.p=2,C.T=null,l_(t,n,s,l,Nt,f,y,k,D,Y,rt)}finally{C.T=_t,dt.p=Nt}}function l_(t,n,s,l,f,y,k,D){do Du();while(ru!==null);if(je&6)throw Error(v(327));var Y=t.finishedWork;if(l=t.finishedLanes,Y===null)return null;if(t.finishedWork=null,t.finishedLanes=0,Y===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var rt=Y.lanes|Y.childLanes;if(rt|=Tr,du(t,l,rt,y,k,D),t===qe&&(ve=qe=null,Ee=0),!(Y.subtreeFlags&10256)&&!(Y.flags&10256)||_l||(_l=!0,mh=rt,vh=s,d_(Xt,function(){return Du(),null})),s=(Y.flags&15990)!==0,Y.subtreeFlags&15990||s?(s=C.T,C.T=null,y=dt.p,dt.p=2,k=je,je|=4,Wv(t,Y),Xd(Y,t),En(Ah,t.containerInfo),Rl=!!Ch,Ah=Ch=null,t.current=Y,Gd(t,Y.alternate,Y),fu(),je=k,dt.p=y,C.T=s):t.current=Y,_l?(_l=!1,ru=t,xo=l):fg(t,rt),rt=t.pendingLanes,rt===0&&(pa=null),jt(Y.stateNode),Kr(t),n!==null)for(f=t.onRecoverableError,Y=0;Y<n.length;Y++)rt=n[Y],f(rt.value,{componentStack:rt.stack});return xo&3&&Du(),rt=t.pendingLanes,l&4194218&&rt&42?t===_h?Eo++:(Eo=0,_h=t):Eo=0,So(0),null}function fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,io(n)))}function Du(){if(ru!==null){var t=ru,n=mh;mh=0;var s=sn(xo),l=C.T,f=dt.p;try{if(dt.p=32>s?32:s,C.T=null,ru===null)var y=!1;else{s=vh,vh=null;var k=ru,D=xo;if(ru=null,xo=0,je&6)throw Error(v(331));var Y=je;if(je|=4,Kd(k.current),Vd(k,k.current,D,s),je=Y,So(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(bn,k)}catch{}y=!0}return y}finally{dt.p=f,C.T=l,fg(t,n)}}return!1}function dg(t,n,s){n=ii(s,n),n=qc(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(vi(t,2),Kr(t))}function Pe(t,n,s){if(t.tag===3)dg(t,t,s);else for(;n!==null;){if(n.tag===3){dg(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=ii(s,t),s=vd(2),l=fa(n,s,2),l!==null&&(_d(s,l,n,t),vi(l,2),Kr(l));break}}n=n.return}}function Sh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new r_;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(hh=!0,f.add(s),t=c_.bind(null,t,n,s),n.then(t,t))}function c_(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,qe===t&&(Ee&s)===s&&(en===4||en===3&&(Ee&62914560)===Ee&&300>Vt()-gh?!(je&2)&&Au(t,0):fh|=s,Cu===Ee&&(Cu=0)),Kr(t)}function gg(t,n){n===0&&(n=as()),t=Un(t,n),t!==null&&(vi(t,n),Kr(t))}function h_(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),gg(t,s)}function f_(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(v(314))}l!==null&&l.delete(n),gg(t,s)}function d_(t,n){return is(t,n)}var xl=null,zu=null,Th=!1,El=!1,wh=!1,su=0;function Kr(t){t!==zu&&t.next===null&&(zu===null?xl=zu=t:zu=zu.next=t),El=!0,Th||(Th=!0,m_(g_))}function So(t,n){if(!wh&&El){wh=!0;do for(var s=!1,l=xl;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var y=0;else{var k=l.suspendedLanes,D=l.pingedLanes;y=(1<<31-rn(42|t)+1)-1,y&=f&~(k&~D),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(s=!0,_g(l,y))}else y=Ee,y=Gs(l,l===qe?y:0),!(y&3)||Mr(l,y)||(s=!0,_g(l,y));l=l.next}while(s);wh=!1}}function g_(){El=Th=!1;var t=0;su!==0&&(T_()&&(t=su),su=0);for(var n=Vt(),s=null,l=xl;l!==null;){var f=l.next,y=mg(l,n);y===0?(l.next=null,s===null?xl=f:s.next=f,f===null&&(zu=s)):(s=l,(t!==0||y&3)&&(El=!0)),l=f}So(t)}function mg(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var k=31-rn(y),D=1<<k,Y=f[k];Y===-1?(!(D&s)||D&l)&&(f[k]=dr(D,n)):Y<=n&&(t.expiredLanes|=D),y&=~D}if(n=qe,s=Ee,s=Gs(t,t===n?s:0),l=t.callbackNode,s===0||t===n&&Ue===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||Mr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Nr(l),sn(s)){case 2:case 8:s=ss;break;case 32:s=Xt;break;case 268435456:s=he;break;default:s=Xt}return l=vg.bind(null,t),s=is(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Nr(l),t.callbackPriority=2,t.callbackNode=null,2}function vg(t,n){var s=t.callbackNode;if(Du()&&t.callbackNode!==s)return null;var l=Ee;return l=Gs(t,t===qe?l:0),l===0?null:(ig(t,l,n),mg(t,Vt()),t.callbackNode!=null&&t.callbackNode===s?vg.bind(null,t):null)}function _g(t,n){if(Du())return null;ig(t,n,!0)}function m_(t){b_(function(){je&6?is(fr,t):t()})}function bh(){return su===0&&(su=Rt()),su}function pg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function yg(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function v_(t,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var y=pg((f[pn]||null).action),k=l.submitter;k&&(n=(n=k[pn]||null)?pg(n.formAction):k.getAttribute("formAction"),n!==null&&(y=n,k=null));var D=new Dr("action","action",null,l,f);t.push({event:D,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(su!==0){var Y=k?yg(f,k):new FormData(f);Ic(s,{pending:!0,data:Y,method:f.method,action:y},null,Y)}}else typeof y=="function"&&(D.preventDefault(),Y=k?yg(f,k):new FormData(f),Ic(s,{pending:!0,data:Y,method:f.method,action:y},y,Y))},currentTarget:f}]})}}for(var kh=0;kh<we.length;kh++){var Nh=we[kh],__=Nh.toLowerCase(),p_=Nh[0].toUpperCase()+Nh.slice(1);pe(__,"on"+p_)}pe($,"onAnimationEnd"),pe(lt,"onAnimationIteration"),pe(xt,"onAnimationStart"),pe("dblclick","onDoubleClick"),pe("focusin","onFocus"),pe("focusout","onBlur"),pe(At,"onTransitionRun"),pe(Bt,"onTransitionStart"),pe(Zt,"onTransitionCancel"),pe(de,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function xg(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;t:{var y=void 0;if(n)for(var k=l.length-1;0<=k;k--){var D=l[k],Y=D.instance,rt=D.currentTarget;if(D=D.listener,Y!==y&&f.isPropagationStopped())break t;y=D,f.currentTarget=rt;try{y(f)}catch(_t){ul(_t)}f.currentTarget=null,y=Y}else for(k=0;k<l.length;k++){if(D=l[k],Y=D.instance,rt=D.currentTarget,D=D.listener,Y!==y&&f.isPropagationStopped())break t;y=D,f.currentTarget=rt;try{y(f)}catch(_t){ul(_t)}f.currentTarget=null,y=Y}}}}function ye(t,n){var s=n[Rr];s===void 0&&(s=n[Rr]=new Set);var l=t+"__bubble";s.has(l)||(Eg(n,t,2,!1),s.add(l))}function Lh(t,n,s){var l=0;n&&(l|=4),Eg(s,t,l,n)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Oh(t){if(!t[Sl]){t[Sl]=!0,Ar.forEach(function(s){s!=="selectionchange"&&(y_.has(s)||Lh(s,!1,t),Lh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sl]||(n[Sl]=!0,Lh("selectionchange",!1,n))}}function Eg(t,n,s,l){switch(Yg(n)){case 2:var f=X_;break;case 8:f=F_;break;default:f=Zh}s=f.bind(null,n,s,t),f=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Mh(t,n,s,l,f){var y=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var k=l.tag;if(k===3||k===4){var D=l.stateNode.containerInfo;if(D===f||D.nodeType===8&&D.parentNode===f)break;if(k===4)for(k=l.return;k!==null;){var Y=k.tag;if((Y===3||Y===4)&&(Y=k.stateNode.containerInfo,Y===f||Y.nodeType===8&&Y.parentNode===f))return;k=k.return}for(;D!==null;){if(k=Jn(D),k===null)return;if(Y=k.tag,Y===5||Y===6||Y===26||Y===27){l=y=k;continue t}D=D.parentNode}}l=l.return}Te(function(){var rt=y,_t=xn(s),Nt=[];t:{var ft=re.get(t);if(ft!==void 0){var vt=Dr,Ht=t;switch(t){case"keypress":if(Ae(s)===0)break t;case"keydown":case"keyup":vt=zn;break;case"focusin":Ht="focus",vt=Fs;break;case"focusout":Ht="blur",vt=Fs;break;case"beforeblur":case"afterblur":vt=Fs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Ia;break;case $:case lt:case xt:vt=Ju;break;case de:vt=Da;break;case"scroll":case"scrollend":vt=Qu;break;case"wheel":vt=Vn;break;case"copy":case"cut":case"paste":vt=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Qs;break;case"toggle":case"beforetoggle":vt=Fe}var ae=(n&4)!==0,nn=!ae&&(t==="scroll"||t==="scrollend"),ot=ae?ft!==null?ft+"Capture":null:ft;ae=[];for(var et=rt,ct;et!==null;){var St=et;if(ct=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ct===null||ot===null||(St=wi(et,ot),St!=null&&ae.push(wo(et,St,ct))),nn)break;et=et.return}0<ae.length&&(ft=new vt(ft,Ht,null,s,_t),Nt.push({event:ft,listeners:ae}))}}if(!(n&7)){t:{if(ft=t==="mouseover"||t==="pointerover",vt=t==="mouseout"||t==="pointerout",ft&&s!==Zi&&(Ht=s.relatedTarget||s.fromElement)&&(Jn(Ht)||Ht[Ze]))break t;if((vt||ft)&&(ft=_t.window===_t?_t:(ft=_t.ownerDocument)?ft.defaultView||ft.parentWindow:window,vt?(Ht=s.relatedTarget||s.toElement,vt=rt,Ht=Ht?Jn(Ht):null,Ht!==null&&(nn=G(Ht),ae=Ht.tag,Ht!==nn||ae!==5&&ae!==27&&ae!==6)&&(Ht=null)):(vt=null,Ht=rt),vt!==Ht)){if(ae=on,St="onMouseLeave",ot="onMouseEnter",et="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Qs,St="onPointerLeave",ot="onPointerEnter",et="pointer"),nn=vt==null?ft:os(vt),ct=Ht==null?ft:os(Ht),ft=new ae(St,et+"leave",vt,s,_t),ft.target=nn,ft.relatedTarget=ct,St=null,Jn(_t)===rt&&(ae=new ae(ot,et+"enter",Ht,s,_t),ae.target=ct,ae.relatedTarget=nn,St=ae),nn=St,vt&&Ht)e:{for(ae=vt,ot=Ht,et=0,ct=ae;ct;ct=Pu(ct))et++;for(ct=0,St=ot;St;St=Pu(St))ct++;for(;0<et-ct;)ae=Pu(ae),et--;for(;0<ct-et;)ot=Pu(ot),ct--;for(;et--;){if(ae===ot||ot!==null&&ae===ot.alternate)break e;ae=Pu(ae),ot=Pu(ot)}ae=null}else ae=null;vt!==null&&Sg(Nt,ft,vt,ae,!1),Ht!==null&&nn!==null&&Sg(Nt,nn,Ht,ae,!0)}}t:{if(ft=rt?os(rt):window,vt=ft.nodeName&&ft.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ft.type==="file")var qt=qr;else if(Sr(ft))if(qa)qt=Za;else{qt=no;var me=na}else vt=ft.nodeName,!vt||vt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?rt&&_r(rt.elementType)&&(qt=qr):qt=fi;if(qt&&(qt=qt(t,rt))){Ba(Nt,qt,s,_t);break t}me&&me(t,ft,rt),t==="focusout"&&rt&&ft.type==="number"&&rt.memoizedProps.value!=null&&xi(ft,"number",ft.value)}switch(me=rt?os(rt):window,t){case"focusin":(Sr(me)||me.contentEditable==="true")&&(u=me,e=rt,i=null);break;case"focusout":i=e=u=null;break;case"mousedown":a=!0;break;case"contextmenu":case"mouseup":case"dragend":a=!1,c(Nt,s,_t);break;case"selectionchange":if(Sn)break;case"keydown":case"keyup":c(Nt,s,_t)}var Ft;if(Er)t:{switch(t){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else zr?ta(t,s)&&(Wt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Wt="onCompositionStart");Wt&&(Js&&s.locale!=="ko"&&(zr||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&zr&&(Ft=pr()):(ie=_t,$e="value"in ie?ie.value:ie.textContent,zr=!0)),me=Tl(rt,Wt),0<me.length&&(Wt=new ei(Wt,t,null,s,_t),Nt.push({event:Wt,listeners:me}),Ft?Wt.data=Ft:(Ft=_u(s),Ft!==null&&(Wt.data=Ft)))),(Ft=Pa?pu(t,s):eo(t,s))&&(Wt=Tl(rt,"onBeforeInput"),0<Wt.length&&(me=new ei("onBeforeInput","beforeinput",null,s,_t),Nt.push({event:me,listeners:Wt}),me.data=Ft)),v_(Nt,t,rt,s,_t)}xg(Nt,n)})}function wo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Tl(t,n){for(var s=n+"Capture",l=[];t!==null;){var f=t,y=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=wi(t,s),f!=null&&l.unshift(wo(t,f,y)),f=wi(t,n),f!=null&&l.push(wo(t,f,y))),t=t.return}return l}function Pu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sg(t,n,s,l,f){for(var y=n._reactName,k=[];s!==null&&s!==l;){var D=s,Y=D.alternate,rt=D.stateNode;if(D=D.tag,Y!==null&&Y===l)break;D!==5&&D!==26&&D!==27||rt===null||(Y=rt,f?(rt=wi(s,y),rt!=null&&k.unshift(wo(s,rt,Y))):f||(rt=wi(s,y),rt!=null&&k.push(wo(s,rt,Y)))),s=s.return}k.length!==0&&t.push({event:n,listeners:k})}var x_=/\r\n?/g,E_=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(x_,`
`).replace(E_,"")}function wg(t,n){return n=Tg(n),Tg(t)===n}function wl(){}function De(t,n,s,l,f,y){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&$n(t,""+l);break;case"className":Oe(t,"class",l);break;case"tabIndex":Oe(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oe(t,s,l);break;case"style":Xs(t,l,y);break;case"data":if(n!=="object"){Oe(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ir(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(n!=="input"&&De(t,n,"name",f.name,f,null),De(t,n,"formEncType",f.formEncType,f,null),De(t,n,"formMethod",f.formMethod,f,null),De(t,n,"formTarget",f.formTarget,f,null)):(De(t,n,"encType",f.encType,f,null),De(t,n,"method",f.method,f,null),De(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ir(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=wl);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(v(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(v(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ye("beforetoggle",t),ye("toggle",t),oe(t,"popover",l);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oe(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Le.get(s)||s,oe(t,s,l))}}function Rh(t,n,s,l,f,y){switch(s){case"style":Xs(t,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(v(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(v(60));t.innerHTML=s}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),y=t[pn]||null,y=y!=null?y[s]:null,typeof y=="function"&&t.removeEventListener(n,y,f),typeof l=="function")){typeof y!="function"&&y!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,f);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):oe(t,s,l)}}}function Hn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var l=!1,f=!1,y;for(y in s)if(s.hasOwnProperty(y)){var k=s[y];if(k!=null)switch(y){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,n));default:De(t,n,y,k,s,null)}}f&&De(t,n,"srcSet",s.srcSet,s,null),l&&De(t,n,"src",s.src,s,null);return;case"input":ye("invalid",t);var D=y=k=f=null,Y=null,rt=null;for(l in s)if(s.hasOwnProperty(l)){var _t=s[l];if(_t!=null)switch(l){case"name":f=_t;break;case"type":k=_t;break;case"checked":Y=_t;break;case"defaultChecked":rt=_t;break;case"value":y=_t;break;case"defaultValue":D=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(v(137,n));break;default:De(t,n,l,_t,s,null)}}hs(t,y,D,Y,rt,k,f,!1),Jt(t);return;case"select":ye("invalid",t),l=k=y=null;for(f in s)if(s.hasOwnProperty(f)&&(D=s[f],D!=null))switch(f){case"value":y=D;break;case"defaultValue":k=D;break;case"multiple":l=D;default:De(t,n,f,D,s,null)}n=y,s=k,t.multiple=!!l,n!=null?Ce(t,!!l,n,!1):s!=null&&Ce(t,!!l,s,!0);return;case"textarea":ye("invalid",t),y=f=l=null;for(k in s)if(s.hasOwnProperty(k)&&(D=s[k],D!=null))switch(k){case"value":l=D;break;case"defaultValue":f=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(v(91));break;default:De(t,n,k,D,s,null)}ci(t,l,f,y),Jt(t);return;case"option":for(Y in s)if(s.hasOwnProperty(Y)&&(l=s[Y],l!=null))switch(Y){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:De(t,n,Y,l,s,null)}return;case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(l=0;l<To.length;l++)ye(To[l],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in s)if(s.hasOwnProperty(rt)&&(l=s[rt],l!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,n));default:De(t,n,rt,l,s,null)}return;default:if(_r(n)){for(_t in s)s.hasOwnProperty(_t)&&(l=s[_t],l!==void 0&&Rh(t,n,_t,l,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null&&De(t,n,D,l,s,null))}function S_(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,k=null,D=null,Y=null,rt=null,_t=null;for(vt in s){var Nt=s[vt];if(s.hasOwnProperty(vt)&&Nt!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Y=Nt;default:l.hasOwnProperty(vt)||De(t,n,vt,null,l,Nt)}}for(var ft in l){var vt=l[ft];if(Nt=s[ft],l.hasOwnProperty(ft)&&(vt!=null||Nt!=null))switch(ft){case"type":y=vt;break;case"name":f=vt;break;case"checked":rt=vt;break;case"defaultChecked":_t=vt;break;case"value":k=vt;break;case"defaultValue":D=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(v(137,n));break;default:vt!==Nt&&De(t,n,ft,vt,l,Nt)}}Ca(t,k,D,Y,rt,_t,y,f);return;case"select":vt=k=D=ft=null;for(y in s)if(Y=s[y],s.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":vt=Y;default:l.hasOwnProperty(y)||De(t,n,y,null,l,Y)}for(f in l)if(y=l[f],Y=s[f],l.hasOwnProperty(f)&&(y!=null||Y!=null))switch(f){case"value":ft=y;break;case"defaultValue":D=y;break;case"multiple":k=y;default:y!==Y&&De(t,n,f,y,l,Y)}n=D,s=k,l=vt,ft!=null?Ce(t,!!s,ft,!1):!!l!=!!s&&(n!=null?Ce(t,!!s,n,!0):Ce(t,!!s,s?[]:"",!1));return;case"textarea":vt=ft=null;for(D in s)if(f=s[D],s.hasOwnProperty(D)&&f!=null&&!l.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:De(t,n,D,null,l,f)}for(k in l)if(f=l[k],y=s[k],l.hasOwnProperty(k)&&(f!=null||y!=null))switch(k){case"value":ft=f;break;case"defaultValue":vt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(v(91));break;default:f!==y&&De(t,n,k,f,l,y)}Ei(t,ft,vt);return;case"option":for(var Ht in s)if(ft=s[Ht],s.hasOwnProperty(Ht)&&ft!=null&&!l.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:De(t,n,Ht,null,l,ft)}for(Y in l)if(ft=l[Y],vt=s[Y],l.hasOwnProperty(Y)&&ft!==vt&&(ft!=null||vt!=null))switch(Y){case"selected":t.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:De(t,n,Y,ft,l,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in s)ft=s[ae],s.hasOwnProperty(ae)&&ft!=null&&!l.hasOwnProperty(ae)&&De(t,n,ae,null,l,ft);for(rt in l)if(ft=l[rt],vt=s[rt],l.hasOwnProperty(rt)&&ft!==vt&&(ft!=null||vt!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(v(137,n));break;default:De(t,n,rt,ft,l,vt)}return;default:if(_r(n)){for(var nn in s)ft=s[nn],s.hasOwnProperty(nn)&&ft!==void 0&&!l.hasOwnProperty(nn)&&Rh(t,n,nn,void 0,l,ft);for(_t in l)ft=l[_t],vt=s[_t],!l.hasOwnProperty(_t)||ft===vt||ft===void 0&&vt===void 0||Rh(t,n,_t,ft,l,vt);return}}for(var ot in s)ft=s[ot],s.hasOwnProperty(ot)&&ft!=null&&!l.hasOwnProperty(ot)&&De(t,n,ot,null,l,ft);for(Nt in l)ft=l[Nt],vt=s[Nt],!l.hasOwnProperty(Nt)||ft===vt||ft==null&&vt==null||De(t,n,Nt,ft,l,vt)}var Ch=null,Ah=null;function bl(t){return t.nodeType===9?t:t.ownerDocument}function bg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ih(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dh=null;function T_(){var t=window.event;return t&&t.type==="popstate"?t===Dh?!1:(Dh=t,!0):(Dh=null,!1)}var Ng=typeof setTimeout=="function"?setTimeout:void 0,w_=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(k_)}:Ng;function k_(t){setTimeout(function(){throw t})}function zh(t,n){var s=n,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){t.removeChild(f),Co(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);Co(n)}function Ph(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ph(s),Cr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function N_(t,n,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=br(t.nextSibling),t===null)break}return null}function L_(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=br(t.nextSibling),t===null))return null;return t}function br(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Og(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Mg(t,n,s){switch(n=bl(s),t){case"html":if(t=n.documentElement,!t)throw Error(v(452));return t;case"head":if(t=n.head,!t)throw Error(v(453));return t;case"body":if(t=n.body,!t)throw Error(v(454));return t;default:throw Error(v(451))}}var ir=new Map,Rg=new Set;function kl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ps=dt.d;dt.d={f:O_,r:M_,D:R_,C:C_,L:A_,m:I_,X:z_,S:D_,M:P_};function O_(){var t=Ps.f(),n=pl();return t||n}function M_(t){var n=Re(t);n!==null&&n.tag===5&&n.type==="form"?rd(n):Ps.r(t)}var Bu=typeof document>"u"?null:document;function Cg(t,n,s){var l=Bu;if(l&&typeof n=="string"&&n){var f=Se(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Rg.has(f)||(Rg.add(f),t={rel:t,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Hn(n,"link",t),Ge(n),l.head.appendChild(n)))}}function R_(t){Ps.D(t),Cg("dns-prefetch",t,null)}function C_(t,n){Ps.C(t,n),Cg("preconnect",t,n)}function A_(t,n,s){Ps.L(t,n,s);var l=Bu;if(l&&t&&n){var f='link[rel="preload"][as="'+Se(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Se(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Se(s.imageSizes)+'"]')):f+='[href="'+Se(t)+'"]';var y=f;switch(n){case"style":y=qu(t);break;case"script":y=Uu(t)}ir.has(y)||(t=U({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ir.set(y,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(bo(y))||n==="script"&&l.querySelector(ko(y))||(n=l.createElement("link"),Hn(n,"link",t),Ge(n),l.head.appendChild(n)))}}function I_(t,n){Ps.m(t,n);var s=Bu;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(t)+'"]',y=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Uu(t)}if(!ir.has(y)&&(t=U({rel:"modulepreload",href:t},n),ir.set(y,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ko(y)))return}l=s.createElement("link"),Hn(l,"link",t),Ge(l),s.head.appendChild(l)}}}function D_(t,n,s){Ps.S(t,n,s);var l=Bu;if(l&&t){var f=pi(l).hoistableStyles,y=qu(t);n=n||"default";var k=f.get(y);if(!k){var D={loading:0,preload:null};if(k=l.querySelector(bo(y)))D.loading=5;else{t=U({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ir.get(y))&&Bh(t,s);var Y=k=l.createElement("link");Ge(Y),Hn(Y,"link",t),Y._p=new Promise(function(rt,_t){Y.onload=rt,Y.onerror=_t}),Y.addEventListener("load",function(){D.loading|=1}),Y.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Nl(k,n,l)}k={type:"stylesheet",instance:k,count:1,state:D},f.set(y,k)}}}function z_(t,n){Ps.X(t,n);var s=Bu;if(s&&t){var l=pi(s).hoistableScripts,f=Uu(t),y=l.get(f);y||(y=s.querySelector(ko(f)),y||(t=U({src:t,async:!0},n),(n=ir.get(f))&&qh(t,n),y=s.createElement("script"),Ge(y),Hn(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function P_(t,n){Ps.M(t,n);var s=Bu;if(s&&t){var l=pi(s).hoistableScripts,f=Uu(t),y=l.get(f);y||(y=s.querySelector(ko(f)),y||(t=U({src:t,async:!0,type:"module"},n),(n=ir.get(f))&&qh(t,n),y=s.createElement("script"),Ge(y),Hn(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function Ag(t,n,s,l){var f=(f=_e.current)?kl(f):null;if(!f)throw Error(v(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qu(s.href),s=pi(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qu(s.href);var y=pi(f).hoistableStyles,k=y.get(t);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,k),(y=f.querySelector(bo(t)))&&!y._p&&(k.instance=y,k.state.loading=5),ir.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ir.set(t,s),y||B_(f,t,s,k.state))),n&&l===null)throw Error(v(528,""));return k}if(n&&l!==null)throw Error(v(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Uu(s),s=pi(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,t))}}function qu(t){return'href="'+Se(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Ig(t){return U({},t,{"data-precedence":t.precedence,precedence:null})}function B_(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Hn(n,"link",s),Ge(n),t.head.appendChild(n))}function Uu(t){return'[src="'+Se(t)+'"]'}function ko(t){return"script[async]"+t}function Dg(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Se(s.href)+'"]');if(l)return n.instance=l,Ge(l),l;var f=U({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ge(l),Hn(l,"style",f),Nl(l,s.precedence,t),n.instance=l;case"stylesheet":f=qu(s.href);var y=t.querySelector(bo(f));if(y)return n.state.loading|=4,n.instance=y,Ge(y),y;l=Ig(s),(f=ir.get(f))&&Bh(l,f),y=(t.ownerDocument||t).createElement("link"),Ge(y);var k=y;return k._p=new Promise(function(D,Y){k.onload=D,k.onerror=Y}),Hn(y,"link",l),n.state.loading|=4,Nl(y,s.precedence,t),n.instance=y;case"script":return y=Uu(s.src),(f=t.querySelector(ko(y)))?(n.instance=f,Ge(f),f):(l=s,(f=ir.get(y))&&(l=U({},s),qh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ge(f),Hn(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(v(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Nl(l,s.precedence,t));return n.instance}function Nl(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,y=f,k=0;k<l.length;k++){var D=l[k];if(D.dataset.precedence===n)y=D;else if(y!==f)break}y?y.parentNode.insertBefore(t,y.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Bh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ll=null;function zg(t,n,s){if(Ll===null){var l=new Map,f=Ll=new Map;f.set(s,l)}else f=Ll,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var y=s[f];if(!(y[gr]||y[We]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(n)||"";k=t+k;var D=l.get(k);D?D.push(y):l.set(k,[y])}}return l}function Pg(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function q_(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var No=null;function U_(){}function G_(t,n,s){if(No===null)throw Error(v(475));var l=No;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var f=qu(s.href),y=t.querySelector(bo(f));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ol.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=y,Ge(y);return}y=t.ownerDocument||t,s=Ig(s),(f=ir.get(f))&&Bh(s,f),y=y.createElement("link"),Ge(y);var k=y;k._p=new Promise(function(D,Y){k.onload=D,k.onerror=Y}),Hn(y,"link",s),n.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Ol.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Z_(){if(No===null)throw Error(v(475));var t=No;return t.stylesheets&&t.count===0&&Uh(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Uh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ol(){if(this.count--,this.count===0){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ml=null;function Uh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ml=new Map,n.forEach(H_,t),Ml=null,Ol.call(t))}function H_(t,n){if(!(n.state.loading&4)){var s=Ml.get(t);if(s)var l=s.get(null);else{s=new Map,Ml.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var k=f[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),l=k)}l&&s.set(null,l)}f=n.instance,k=f.getAttribute("data-precedence"),y=s.get(k)||l,y===l&&s.set(null,f),s.set(k,f),this.count++,l=Ol.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),y?y.parentNode.insertBefore(f,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Lo={$$typeof:nt,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function Y_(t,n,s,l,f,y,k,D){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function qg(t,n,s,l,f,y,k,D,Y,rt,_t,Nt){return t=new Y_(t,n,s,k,D,Y,rt,Nt),n=1,y===!0&&(n|=24),y=er(3,null,null,n),t.current=y,y.stateNode=t,n=pc(),n.refCount++,t.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:s,cache:n},Wc(y),t}function Ug(t){return t?(t=jn,t):jn}function Gg(t,n,s,l,f,y){f=Ug(f),l.context===null?l.context=f:l.pendingContext=f,l=ha(n),l.payload={element:s},y=y===void 0?null:y,y!==null&&(l.callback=y),s=fa(t,l,n),s!==null&&(ai(s,t,n),co(s,t,n))}function Zg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Gh(t,n){Zg(t,n),(t=t.alternate)&&Zg(t,n)}function Hg(t){if(t.tag===13){var n=Un(t,67108864);n!==null&&ai(n,t,67108864),Gh(t,67108864)}}var Rl=!0;function X_(t,n,s,l){var f=C.T;C.T=null;var y=dt.p;try{dt.p=2,Zh(t,n,s,l)}finally{dt.p=y,C.T=f}}function F_(t,n,s,l){var f=C.T;C.T=null;var y=dt.p;try{dt.p=8,Zh(t,n,s,l)}finally{dt.p=y,C.T=f}}function Zh(t,n,s,l){if(Rl){var f=Hh(l);if(f===null)Mh(t,n,l,Cl,s),Xg(t,l);else if(j_(f,t,n,s,l))l.stopPropagation();else if(Xg(t,l),n&4&&-1<V_.indexOf(t)){for(;f!==null;){var y=Re(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=ui(y.pendingLanes);if(k!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var Y=1<<31-rn(k);D.entanglements[1]|=Y,k&=~Y}Kr(y),!(je&6)&&(ml=Vt()+500,So(0))}}break;case 13:D=Un(y,2),D!==null&&ai(D,y,2),pl(),Gh(y,2)}if(y=Hh(l),y===null&&Mh(t,n,l,Cl,s),y===f)break;f=y}f!==null&&l.stopPropagation()}else Mh(t,n,l,null,s)}}function Hh(t){return t=xn(t),Yh(t)}var Cl=null;function Yh(t){if(Cl=null,t=Jn(t),t!==null){var n=G(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=ht(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cl=t,null}function Yg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case fr:return 2;case ss:return 8;case Xt:case Oa:return 32;case he:return 268435456;default:return 32}default:return 32}}var Xh=!1,ya=null,xa=null,Ea=null,Oo=new Map,Mo=new Map,Sa=[],V_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xg(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Ro(t,n,s,l,f,y){return t===null||t.nativeEvent!==y?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:y,targetContainers:[f]},n!==null&&(n=Re(n),n!==null&&Hg(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function j_(t,n,s,l,f){switch(n){case"focusin":return ya=Ro(ya,t,n,s,l,f),!0;case"dragenter":return xa=Ro(xa,t,n,s,l,f),!0;case"mouseover":return Ea=Ro(Ea,t,n,s,l,f),!0;case"pointerover":var y=f.pointerId;return Oo.set(y,Ro(Oo.get(y)||null,t,n,s,l,f)),!0;case"gotpointercapture":return y=f.pointerId,Mo.set(y,Ro(Mo.get(y)||null,t,n,s,l,f)),!0}return!1}function Fg(t){var n=Jn(t.target);if(n!==null){var s=G(n);if(s!==null){if(n=s.tag,n===13){if(n=ht(s),n!==null){t.blockedOn=n,us(t.priority,function(){if(s.tag===13){var l=Ci(),f=Un(s,l);f!==null&&ai(f,s,l),Gh(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Al(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Hh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Zi=l,s.target.dispatchEvent(l),Zi=null}else return n=Re(s),n!==null&&Hg(n),t.blockedOn=s,!1;n.shift()}return!0}function Vg(t,n,s){Al(t)&&s.delete(n)}function Q_(){Xh=!1,ya!==null&&Al(ya)&&(ya=null),xa!==null&&Al(xa)&&(xa=null),Ea!==null&&Al(Ea)&&(Ea=null),Oo.forEach(Vg),Mo.forEach(Vg)}function Il(t,n){t.blockedOn===n&&(t.blockedOn=null,Xh||(Xh=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Q_)))}var Dl=null;function jg(t){Dl!==t&&(Dl=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Dl===t&&(Dl=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(Yh(l||s)===null)continue;break}var y=Re(s);y!==null&&(t.splice(n,3),n-=3,Ic(y,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Co(t){function n(Y){return Il(Y,t)}ya!==null&&Il(ya,t),xa!==null&&Il(xa,t),Ea!==null&&Il(Ea,t),Oo.forEach(n),Mo.forEach(n);for(var s=0;s<Sa.length;s++){var l=Sa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sa.length&&(s=Sa[0],s.blockedOn===null);)Fg(s),s.blockedOn===null&&Sa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],y=s[l+1],k=f[pn]||null;if(typeof y=="function")k||jg(s);else if(k){var D=null;if(y&&y.hasAttribute("formAction")){if(f=y,k=y[pn]||null)D=k.formAction;else if(Yh(f)!==null)continue}else D=k.action;typeof D=="function"?s[l+1]=D:(s.splice(l,3),l-=3),jg(s)}}}function Fh(t){this._internalRoot=t}zl.prototype.render=Fh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(v(409));var s=n.current,l=Ci();Gg(s,l,t,n,null,null)},zl.prototype.unmount=Fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Du(),Gg(t.current,2,null,t,null,null),pl(),n[Ze]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gt();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Sa.length&&n!==0&&n<Sa[s].priority;s++);Sa.splice(s,0,t),s===0&&Fg(t)}};var Qg=m.version;if(Qg!=="19.0.0")throw Error(v(527,Qg,"19.0.0"));dt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=it(n),t=t!==null?yt(t):null,t=t===null?null:t.stateNode,t};var K_={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{bn=Pl.inject(K_),_n=Pl}catch{}}return Io.createRoot=function(t,n){if(!p(t))throw Error(v(299));var s=!1,l="",f=fd,y=dd,k=gd,D=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(D=n.unstable_transitionCallbacks)),n=qg(t,1,!1,null,null,s,l,f,y,k,D,null),t[Ze]=n.current,Oh(t.nodeType===8?t.parentNode:t),new Fh(n)},Io.hydrateRoot=function(t,n,s){if(!p(t))throw Error(v(299));var l=!1,f="",y=fd,k=dd,D=gd,Y=null,rt=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Y=s.unstable_transitionCallbacks),s.formState!==void 0&&(rt=s.formState)),n=qg(t,1,!0,n,s??null,l,f,y,k,D,Y,rt),n.context=Ug(null),s=n.current,l=Ci(),f=ha(l),f.callback=null,fa(s,f,l),n.current.lanes=l,vi(n,l),Kr(n),t[Ze]=n.current,Oh(t),new zl(n)},Io.version="19.0.0",Io}var sm;function up(){if(sm)return Qh.exports;sm=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),Qh.exports=ap(),Qh.exports}var op=up();function Qm(d,m){const g=te.useRef(m);te.useEffect(function(){m!==g.current&&d.attributionControl!=null&&(g.current!=null&&d.attributionControl.removeAttribution(g.current),m!=null&&d.attributionControl.addAttribution(m)),g.current=m},[d,m])}var lp=jm();const cp=1;function hp(d){return Object.freeze({__version:cp,map:d})}function Km(d,m){return Object.freeze({...d,...m})}const xf=te.createContext(null);function lc(){const d=te.use(xf);if(d==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return d}function Jm(d){function m(g,v){const{instance:p,context:b}=d(g).current;te.useImperativeHandle(v,()=>p);const{children:N}=g;return N==null?null:af.createElement(xf,{value:b},N)}return te.forwardRef(m)}function fp(d){function m(g,v){const[p,b]=te.useState(!1),{instance:N}=d(g,b).current;te.useImperativeHandle(v,()=>N),te.useEffect(function(){p&&N.update()},[N,p,g.children]);const S=N._contentNode;return S?lp.createPortal(g.children,S):null}return te.forwardRef(m)}function dp(d){function m(g,v){const{instance:p}=d(g).current;return te.useImperativeHandle(v,()=>p),null}return te.forwardRef(m)}function Ef(d,m){const g=te.useRef(void 0);te.useEffect(function(){return m!=null&&d.instance.on(m),g.current=m,function(){g.current!=null&&d.instance.off(g.current),g.current=null}},[d,m])}function cc(d,m){const g=d.pane??m.pane;return g?{...d,pane:g}:d}function gp(d,m){return function(v,p){const b=lc(),N=d(cc(v,b),b);return Qm(b.map,v.attribution),Ef(N.current,v.eventHandlers),m(N.current,b,v,p),N}}var Po={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var mp=Po.exports,am;function vp(){return am||(am=1,function(d,m){(function(g,v){v(m)})(mp,function(g){var v="1.9.4";function p(r){var o,h,x,T;for(h=1,x=arguments.length;h<x;h++){T=arguments[h];for(o in T)r[o]=T[o]}return r}var b=Object.create||function(){function r(){}return function(o){return r.prototype=o,new r}}();function N(r,o){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var x=h.call(arguments,2);return function(){return r.apply(o,x.length?x.concat(h.call(arguments)):arguments)}}var S=0;function z(r){return"_leaflet_id"in r||(r._leaflet_id=++S),r._leaflet_id}function A(r,o,h){var x,T,O,F;return F=function(){x=!1,T&&(O.apply(h,T),T=!1)},O=function(){x?T=arguments:(r.apply(h,arguments),setTimeout(F,o),x=!0)},O}function H(r,o,h){var x=o[1],T=o[0],O=x-T;return r===x&&h?r:((r-T)%O+O)%O+T}function q(){return!1}function K(r,o){if(o===!1)return r;var h=Math.pow(10,o===void 0?6:o);return Math.round(r*h)/h}function nt(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function at(r){return nt(r).split(/\s+/)}function kt(r,o){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?b(r.options):{});for(var h in o)r.options[h]=o[h];return r.options}function Mt(r,o,h){var x=[];for(var T in r)x.push(encodeURIComponent(h?T.toUpperCase():T)+"="+encodeURIComponent(r[T]));return(!o||o.indexOf("?")===-1?"?":"&")+x.join("&")}var Pt=/\{ *([\w_ -]+) *\}/g;function st(r,o){return r.replace(Pt,function(h,x){var T=o[x];if(T===void 0)throw new Error("No value provided for variable "+h);return typeof T=="function"&&(T=T(o)),T})}var mt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function It(r,o){for(var h=0;h<r.length;h++)if(r[h]===o)return h;return-1}var pt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Lt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Ct=0;function I(r){var o=+new Date,h=Math.max(0,16-(o-Ct));return Ct=o+h,window.setTimeout(r,h)}var C=window.requestAnimationFrame||Lt("RequestAnimationFrame")||I,U=window.cancelAnimationFrame||Lt("CancelAnimationFrame")||Lt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function J(r,o,h){if(h&&C===I)r.call(o);else return C.call(window,N(r,o))}function j(r){r&&U.call(window,r)}var tt={__proto__:null,extend:p,create:b,bind:N,get lastId(){return S},stamp:z,throttle:A,wrapNum:H,falseFn:q,formatNum:K,trim:nt,splitWords:at,setOptions:kt,getParamString:Mt,template:st,isArray:mt,indexOf:It,emptyImageUrl:pt,requestFn:C,cancelFn:U,requestAnimFrame:J,cancelAnimFrame:j};function V(){}V.extend=function(r){var o=function(){kt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,x=b(h);x.constructor=o,o.prototype=x;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(o[T]=this[T]);return r.statics&&p(o,r.statics),r.includes&&(X(r.includes),p.apply(null,[x].concat(r.includes))),p(x,r),delete x.statics,delete x.includes,x.options&&(x.options=h.options?b(h.options):{},p(x.options,r.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,F=x._initHooks.length;O<F;O++)x._initHooks[O].call(this)}},o},V.include=function(r){var o=this.prototype.options;return p(this.prototype,r),r.options&&(this.prototype.options=o,this.mergeOptions(r.options)),this},V.mergeOptions=function(r){return p(this.prototype.options,r),this},V.addInitHook=function(r){var o=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function X(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=mt(r)?r:[r];for(var o=0;o<r.length;o++)r[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(r,o,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],o);else{r=at(r);for(var T=0,O=r.length;T<O;T++)this._on(r[T],o,h)}return this},off:function(r,o,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var x in r)this._off(x,r[x],o);else{r=at(r);for(var T=arguments.length===1,O=0,F=r.length;O<F;O++)T?this._off(r[O]):this._off(r[O],o,h)}return this},_on:function(r,o,h,x){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(r,o,h)===!1){h===this&&(h=void 0);var T={fn:o,ctx:h};x&&(T.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(T)}},_off:function(r,o,h){var x,T,O;if(this._events&&(x=this._events[r],!!x)){if(arguments.length===1){if(this._firingCount)for(T=0,O=x.length;T<O;T++)x[T].fn=q;delete this._events[r];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var F=this._listens(r,o,h);if(F!==!1){var ut=x[F];this._firingCount&&(ut.fn=q,this._events[r]=x=x.slice()),x.splice(F,1)}}},fire:function(r,o,h){if(!this.listens(r,h))return this;var x=p({},o,{type:r,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var T=this._events[r];if(T){this._firingCount=this._firingCount+1||1;for(var O=0,F=T.length;O<F;O++){var ut=T[O],gt=ut.fn;ut.once&&this.off(r,gt,ut.ctx),gt.call(ut.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(r,o,h,x){typeof r!="string"&&console.warn('"string" type argument expected');var T=o;typeof o!="function"&&(x=!!o,T=void 0,h=void 0);var O=this._events&&this._events[r];if(O&&O.length&&this._listens(r,T,h)!==!1)return!0;if(x){for(var F in this._eventParents)if(this._eventParents[F].listens(r,o,h,x))return!0}return!1},_listens:function(r,o,h){if(!this._events)return!1;var x=this._events[r]||[];if(!o)return!!x.length;h===this&&(h=void 0);for(var T=0,O=x.length;T<O;T++)if(x[T].fn===o&&x[T].ctx===h)return T;return!1},once:function(r,o,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],o,!0);else{r=at(r);for(var T=0,O=r.length;T<O;T++)this._on(r[T],o,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[z(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[z(r)],this},_propagateEvent:function(r){for(var o in this._eventParents)this._eventParents[o].fire(r.type,p({layer:r.target,propagatedFrom:r.target},r),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var Q=V.extend(B);function G(r,o,h){this.x=h?Math.round(r):r,this.y=h?Math.round(o):o}var ht=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(r){return this.clone()._add(R(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(R(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new G(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new G(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(r){r=R(r);var o=r.x-this.x,h=r.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(r){return r=R(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=R(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+K(this.x)+", "+K(this.y)+")"}};function R(r,o,h){return r instanceof G?r:mt(r)?new G(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new G(r.x,r.y):new G(r,o,h)}function it(r,o){if(r)for(var h=o?[r,o]:r,x=0,T=h.length;x<T;x++)this.extend(h[x])}it.prototype={extend:function(r){var o,h;if(!r)return this;if(r instanceof G||typeof r[0]=="number"||"x"in r)o=h=R(r);else if(r=yt(r),o=r.min,h=r.max,!o||!h)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=h.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var o,h;return typeof r[0]=="number"||r instanceof G?r=R(r):r=yt(r),r instanceof it?(o=r.min,h=r.max):o=h=r,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=yt(r);var o=this.min,h=this.max,x=r.min,T=r.max,O=T.x>=o.x&&x.x<=h.x,F=T.y>=o.y&&x.y<=h.y;return O&&F},overlaps:function(r){r=yt(r);var o=this.min,h=this.max,x=r.min,T=r.max,O=T.x>o.x&&x.x<h.x,F=T.y>o.y&&x.y<h.y;return O&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var o=this.min,h=this.max,x=Math.abs(o.x-h.x)*r,T=Math.abs(o.y-h.y)*r;return yt(R(o.x-x,o.y-T),R(h.x+x,h.y+T))},equals:function(r){return r?(r=yt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function yt(r,o){return!r||r instanceof it?r:new it(r,o)}function bt(r,o){if(r)for(var h=o?[r,o]:r,x=0,T=h.length;x<T;x++)this.extend(h[x])}bt.prototype={extend:function(r){var o=this._southWest,h=this._northEast,x,T;if(r instanceof Tt)x=r,T=r;else if(r instanceof bt){if(x=r._southWest,T=r._northEast,!x||!T)return this}else return r?this.extend(wt(r)||dt(r)):this;return!o&&!h?(this._southWest=new Tt(x.lat,x.lng),this._northEast=new Tt(T.lat,T.lng)):(o.lat=Math.min(x.lat,o.lat),o.lng=Math.min(x.lng,o.lng),h.lat=Math.max(T.lat,h.lat),h.lng=Math.max(T.lng,h.lng)),this},pad:function(r){var o=this._southWest,h=this._northEast,x=Math.abs(o.lat-h.lat)*r,T=Math.abs(o.lng-h.lng)*r;return new bt(new Tt(o.lat-x,o.lng-T),new Tt(h.lat+x,h.lng+T))},getCenter:function(){return new Tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Tt||"lat"in r?r=wt(r):r=dt(r);var o=this._southWest,h=this._northEast,x,T;return r instanceof bt?(x=r.getSouthWest(),T=r.getNorthEast()):x=T=r,x.lat>=o.lat&&T.lat<=h.lat&&x.lng>=o.lng&&T.lng<=h.lng},intersects:function(r){r=dt(r);var o=this._southWest,h=this._northEast,x=r.getSouthWest(),T=r.getNorthEast(),O=T.lat>=o.lat&&x.lat<=h.lat,F=T.lng>=o.lng&&x.lng<=h.lng;return O&&F},overlaps:function(r){r=dt(r);var o=this._southWest,h=this._northEast,x=r.getSouthWest(),T=r.getNorthEast(),O=T.lat>o.lat&&x.lat<h.lat,F=T.lng>o.lng&&x.lng<h.lng;return O&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,o){return r?(r=dt(r),this._southWest.equals(r.getSouthWest(),o)&&this._northEast.equals(r.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function dt(r,o){return r instanceof bt?r:new bt(r,o)}function Tt(r,o,h){if(isNaN(r)||isNaN(o))throw new Error("Invalid LatLng object: ("+r+", "+o+")");this.lat=+r,this.lng=+o,h!==void 0&&(this.alt=+h)}Tt.prototype={equals:function(r,o){if(!r)return!1;r=wt(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(o===void 0?1e-9:o)},toString:function(r){return"LatLng("+K(this.lat,r)+", "+K(this.lng,r)+")"},distanceTo:function(r){return W.distance(this,wt(r))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(r){var o=180*r/40075017,h=o/Math.cos(Math.PI/180*this.lat);return dt([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new Tt(this.lat,this.lng,this.alt)}};function wt(r,o,h){return r instanceof Tt?r:mt(r)&&typeof r[0]!="object"?r.length===3?new Tt(r[0],r[1],r[2]):r.length===2?new Tt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Tt(r.lat,"lng"in r?r.lng:r.lon,r.alt):o===void 0?null:new Tt(r,o,h)}var ne={latLngToPoint:function(r,o){var h=this.projection.project(r),x=this.scale(o);return this.transformation._transform(h,x)},pointToLatLng:function(r,o){var h=this.scale(o),x=this.transformation.untransform(r,h);return this.projection.unproject(x)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(r),x=this.transformation.transform(o.min,h),T=this.transformation.transform(o.max,h);return new it(x,T)},infinite:!1,wrapLatLng:function(r){var o=this.wrapLng?H(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?H(r.lat,this.wrapLat,!0):r.lat,x=r.alt;return new Tt(h,o,x)},wrapLatLngBounds:function(r){var o=r.getCenter(),h=this.wrapLatLng(o),x=o.lat-h.lat,T=o.lng-h.lng;if(x===0&&T===0)return r;var O=r.getSouthWest(),F=r.getNorthEast(),ut=new Tt(O.lat-x,O.lng-T),gt=new Tt(F.lat-x,F.lng-T);return new bt(ut,gt)}},W=p({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(r,o){var h=Math.PI/180,x=r.lat*h,T=o.lat*h,O=Math.sin((o.lat-r.lat)*h/2),F=Math.sin((o.lng-r.lng)*h/2),ut=O*O+Math.cos(x)*Math.cos(T)*F*F,gt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*gt}}),Me=6378137,Yt={R:Me,MAX_LATITUDE:85.0511287798,project:function(r){var o=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,r.lat),-h),T=Math.sin(x*o);return new G(this.R*r.lng*o,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(r){var o=180/Math.PI;return new Tt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*o,r.x*o/this.R)},bounds:function(){var r=Me*Math.PI;return new it([-r,-r],[r,r])}()};function Dt(r,o,h,x){if(mt(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=o,this._c=h,this._d=x}Dt.prototype={transform:function(r,o){return this._transform(r.clone(),o)},_transform:function(r,o){return o=o||1,r.x=o*(this._a*r.x+this._b),r.y=o*(this._c*r.y+this._d),r},untransform:function(r,o){return o=o||1,new G((r.x/o-this._b)/this._a,(r.y/o-this._d)/this._c)}};function Z(r,o,h,x){return new Dt(r,o,h,x)}var _e=p({},W,{code:"EPSG:3857",projection:Yt,transformation:function(){var r=.5/(Math.PI*Yt.R);return Z(r,.5,-r,.5)}()}),ze=p({},_e,{code:"EPSG:900913"});function fe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ii(r,o){var h="",x,T,O,F,ut,gt;for(x=0,O=r.length;x<O;x++){for(ut=r[x],T=0,F=ut.length;T<F;T++)gt=ut[T],h+=(T?"L":"M")+gt.x+" "+gt.y;h+=o?Gt.svg?"z":"x":""}return h||"M0 0"}var cr=document.documentElement.style,hr="ActiveXObject"in window,Ot=hr&&!document.addEventListener,is="msLaunchUri"in navigator&&!("documentMode"in document),Nr=sn("webkit"),Di=sn("android"),fu=sn("android 2")||sn("android 3"),Vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rs=Di&&sn("Google")&&Vt<537&&!("AudioNode"in window),fr=!!window.opera,ss=!is&&sn("chrome"),Xt=sn("gecko")&&!Nr&&!fr&&!hr,Oa=!ss&&sn("safari"),he=sn("phantom"),Kt="OTransition"in cr,ju=navigator.platform.indexOf("Win")===0,bn=hr&&"transition"in cr,_n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fu,jt="MozPerspective"in cr,zi=!window.L_DISABLE_3D&&(bn||_n||jt)&&!Kt&&!he,rn=typeof orientation<"u"||sn("mobile"),Ma=rn&&Nr,Yn=rn&&_n,Lr=!window.PointerEvent&&window.MSPointerEvent,kn=!!(window.PointerEvent||Lr),Or="ontouchstart"in window||!!window.TouchEvent,ui=!window.L_NO_TOUCH&&(Or||kn),Gs=rn&&fr,Mr=rn&&Xt,dr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rt=function(){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",q,o),window.removeEventListener("testPassiveEventSupport",q,o)}catch{}return r}(),as=function(){return!!document.createElement("canvas").getContext}(),Pi=!!(document.createElementNS&&fe("svg").createSVGRect),vi=!!Pi&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),du=!Pi&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var o=r.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Zs=navigator.platform.indexOf("Mac")===0,Ra=navigator.platform.indexOf("Linux")===0;function sn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Gt={ie:hr,ielt9:Ot,edge:is,webkit:Nr,android:Di,android23:fu,androidStock:rs,opera:fr,chrome:ss,gecko:Xt,safari:Oa,phantom:he,opera12:Kt,win:ju,ie3d:bn,webkit3d:_n,gecko3d:jt,any3d:zi,mobile:rn,mobileWebkit:Ma,mobileWebkit3d:Yn,msPointer:Lr,pointer:kn,touch:ui,touchNative:Or,mobileOpera:Gs,mobileGecko:Mr,retina:dr,passiveEvents:Rt,canvas:as,svg:Pi,vml:du,inlineSvg:vi,mac:Zs,linux:Ra},us=Gt.msPointer?"MSPointerDown":"pointerdown",_i=Gt.msPointer?"MSPointerMove":"pointermove",We=Gt.msPointer?"MSPointerUp":"pointerup",pn=Gt.msPointer?"MSPointerCancel":"pointercancel",Ze={touchstart:us,touchmove:_i,touchend:We,touchcancel:pn},Rr={touchstart:Ge,touchmove:pi,touchend:pi,touchcancel:pi},oi={},Bi=!1;function qi(r,o,h){return o==="touchstart"&&os(),Rr[o]?(h=Rr[o].bind(this,h),r.addEventListener(Ze[o],h,!1),h):(console.warn("wrong event specified:",o),q)}function gr(r,o,h){if(!Ze[o]){console.warn("wrong event specified:",o);return}r.removeEventListener(Ze[o],h,!1)}function Cr(r){oi[r.pointerId]=r}function Jn(r){oi[r.pointerId]&&(oi[r.pointerId]=r)}function Re(r){delete oi[r.pointerId]}function os(){Bi||(document.addEventListener(us,Cr,!0),document.addEventListener(_i,Jn,!0),document.addEventListener(We,Re,!0),document.addEventListener(pn,Re,!0),Bi=!0)}function pi(r,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in oi)o.touches.push(oi[h]);o.changedTouches=[o],r(o)}}function Ge(r,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ae(o),pi(r,o)}function Ar(r){var o={},h,x;for(x in r)h=r[x],o[x]=h&&h.bind?h.bind(r):h;return r=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Hs=200;function yi(r,o){r.addEventListener("dblclick",o);var h=0,x;function T(O){if(O.detail!==1){x=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var F=un(O);if(!(F.some(function(gt){return gt instanceof HTMLLabelElement&&gt.attributes.for})&&!F.some(function(gt){return gt instanceof HTMLInputElement||gt instanceof HTMLSelectElement}))){var ut=Date.now();ut-h<=Hs?(x++,x===2&&o(Ar(O))):x=1,h=ut}}}return r.addEventListener("click",T),{dblclick:o,simDblclick:T}}function mr(r,o){r.removeEventListener("dblclick",o.dblclick),r.removeEventListener("click",o.simDblclick)}var Wn=hs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yn=hs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ui=yn==="webkitTransition"||yn==="OTransition"?yn+"End":"transitionend";function ls(r){return typeof r=="string"?document.getElementById(r):r}function li(r,o){var h=r.style[o]||r.currentStyle&&r.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(r,null);h=x?x[o]:null}return h==="auto"?null:h}function oe(r,o,h){var x=document.createElement(r);return x.className=o||"",h&&h.appendChild(x),x}function Oe(r){var o=r.parentNode;o&&o.removeChild(r)}function Xn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function an(r){var o=r.parentNode;o&&o.lastChild!==r&&o.appendChild(r)}function Gi(r){var o=r.parentNode;o&&o.firstChild!==r&&o.insertBefore(r,o.firstChild)}function Ys(r,o){if(r.classList!==void 0)return r.classList.contains(o);var h=cs(r);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function Jt(r,o){if(r.classList!==void 0)for(var h=at(o),x=0,T=h.length;x<T;x++)r.classList.add(h[x]);else if(!Ys(r,o)){var O=cs(r);Dn(r,(O?O+" ":"")+o)}}function xe(r,o){r.classList!==void 0?r.classList.remove(o):Dn(r,nt((" "+cs(r)+" ").replace(" "+o+" "," ")))}function Dn(r,o){r.className.baseVal===void 0?r.className=o:r.className.baseVal=o}function cs(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Se(r,o){"opacity"in r.style?r.style.opacity=o:"filter"in r.style&&Ca(r,o)}function Ca(r,o){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(x)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):r.style.filter+=" progid:"+x+"(opacity="+o+")"}function hs(r){for(var o=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in o)return r[h];return!1}function xi(r,o,h){var x=o||new G(0,0);r.style[Wn]=(Gt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function Ce(r,o){r._leaflet_pos=o,Gt.any3d?xi(r,o):(r.style.left=o.x+"px",r.style.top=o.y+"px")}function Ei(r){return r._leaflet_pos||new G(0,0)}var ci,$n,Aa;if("onselectstart"in document)ci=function(){ee(window,"selectstart",Ae)},$n=function(){Te(window,"selectstart",Ae)};else{var vr=hs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ci=function(){if(vr){var r=document.documentElement.style;Aa=r[vr],r[vr]="none"}},$n=function(){vr&&(document.documentElement.style[vr]=Aa,Aa=void 0)}}function Xs(){ee(window,"dragstart",Ae)}function _r(){Te(window,"dragstart",Ae)}var Le,Si;function Ir(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Zi(),Le=r,Si=r.style.outlineStyle,r.style.outlineStyle="none",ee(window,"keydown",Zi))}function Zi(){Le&&(Le.style.outlineStyle=Si,Le=void 0,Si=void 0,Te(window,"keydown",Zi))}function xn(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Xe(r){var o=r.getBoundingClientRect();return{x:o.width/r.offsetWidth||1,y:o.height/r.offsetHeight||1,boundingClientRect:o}}var Ti={__proto__:null,TRANSFORM:Wn,TRANSITION:yn,TRANSITION_END:Ui,get:ls,getStyle:li,create:oe,remove:Oe,empty:Xn,toFront:an,toBack:Gi,hasClass:Ys,addClass:Jt,removeClass:xe,setClass:Dn,getClass:cs,setOpacity:Se,testProp:hs,setTransform:xi,setPosition:Ce,getPosition:Ei,get disableTextSelection(){return ci},get enableTextSelection(){return $n},disableImageDrag:Xs,enableImageDrag:_r,preventOutline:Ir,restoreOutline:Zi,getSizedParentNode:xn,getScale:Xe};function ee(r,o,h,x){if(o&&typeof o=="object")for(var T in o)Hi(r,T,o[T],h);else{o=at(o);for(var O=0,F=o.length;O<F;O++)Hi(r,o[O],h,x)}return this}var Fn="_leaflet_events";function Te(r,o,h,x){if(arguments.length===1)wi(r),delete r[Fn];else if(o&&typeof o=="object")for(var T in o)ie(r,T,o[T],h);else if(o=at(o),arguments.length===2)wi(r,function(ut){return It(o,ut)!==-1});else for(var O=0,F=o.length;O<F;O++)ie(r,o[O],h,x);return this}function wi(r,o){for(var h in r[Fn]){var x=h.split(/\d/)[0];(!o||o(x))&&ie(r,x,null,null,h)}}var fs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hi(r,o,h,x){var T=o+z(h)+(x?"_"+z(x):"");if(r[Fn]&&r[Fn][T])return this;var O=function(ut){return h.call(x||r,ut||window.event)},F=O;!Gt.touchNative&&Gt.pointer&&o.indexOf("touch")===0?O=qi(r,o,O):Gt.touch&&o==="dblclick"?O=yi(r,O):"addEventListener"in r?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?r.addEventListener(fs[o]||o,O,Gt.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(O=function(ut){ut=ut||window.event,Xi(r,ut)&&F(ut)},r.addEventListener(fs[o],O,!1)):r.addEventListener(o,F,!1):r.attachEvent("on"+o,O),r[Fn]=r[Fn]||{},r[Fn][T]=O}function ie(r,o,h,x,T){T=T||o+z(h)+(x?"_"+z(x):"");var O=r[Fn]&&r[Fn][T];if(!O)return this;!Gt.touchNative&&Gt.pointer&&o.indexOf("touch")===0?gr(r,o,O):Gt.touch&&o==="dblclick"?mr(r,O):"removeEventListener"in r?r.removeEventListener(fs[o]||o,O,!1):r.detachEvent("on"+o,O),r[Fn][T]=null}function $e(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Yi(r){return Hi(r,"wheel",$e),this}function pr(r){return ee(r,"mousedown touchstart dblclick contextmenu",$e),r._leaflet_disable_click=!0,this}function Ae(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ti(r){return Ae(r),$e(r),this}function un(r){if(r.composedPath)return r.composedPath();for(var o=[],h=r.target;h;)o.push(h),h=h.parentNode;return o}function dn(r,o){if(!o)return new G(r.clientX,r.clientY);var h=Xe(o),x=h.boundingClientRect;return new G((r.clientX-x.left)/h.x-o.clientLeft,(r.clientY-x.top)/h.y-o.clientTop)}var bi=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dr(r){return Gt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/bi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Xi(r,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var Qu={__proto__:null,on:ee,off:Te,stopPropagation:$e,disableScrollPropagation:Yi,disableClickPropagation:pr,preventDefault:Ae,stop:ti,getPropagationPath:un,getMousePosition:dn,getWheelDelta:Dr,isExternalTarget:Xi,addListener:ee,removeListener:Te},ds=Q.extend({run:function(r,o,h,x){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Ei(r),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(r){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,o){var h=this._startPos.add(this._offset.multiplyBy(r));o&&h._round(),Ce(this._el,h),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),$t=Q.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,o){o=kt(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=N(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(wt(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yn&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,Ui,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),r=this._limitCenter(wt(r),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=p({animate:h.animate},h.zoom),h.pan=p({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,o,h.zoom):this._tryAnimatedPan(r,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(r,o,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,o){return this._loaded?this.setView(this.getCenter(),r,{zoom:o}):(this._zoom=r,this)},zoomIn:function(r,o){return r=r||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,o)},zoomOut:function(r,o){return r=r||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,o)},setZoomAround:function(r,o,h){var x=this.getZoomScale(o),T=this.getSize().divideBy(2),O=r instanceof G?r:this.latLngToContainerPoint(r),F=O.subtract(T).multiplyBy(1-1/x),ut=this.containerPointToLatLng(T.add(F));return this.setView(ut,o,{zoom:h})},_getBoundsCenterZoom:function(r,o){o=o||{},r=r.getBounds?r.getBounds():dt(r);var h=R(o.paddingTopLeft||o.padding||[0,0]),x=R(o.paddingBottomRight||o.padding||[0,0]),T=this.getBoundsZoom(r,!1,h.add(x));if(T=typeof o.maxZoom=="number"?Math.min(o.maxZoom,T):T,T===1/0)return{center:r.getCenter(),zoom:T};var O=x.subtract(h).divideBy(2),F=this.project(r.getSouthWest(),T),ut=this.project(r.getNorthEast(),T),gt=this.unproject(F.add(ut).divideBy(2).add(O),T);return{center:gt,zoom:T}},fitBounds:function(r,o){if(r=dt(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,o){return this.setView(r,this._zoom,{pan:o})},panBy:function(r,o){if(r=R(r).round(),o=o||{},!r.x&&!r.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ds,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Jt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,o,h){if(h=h||{},h.animate===!1||!Gt.any3d)return this.setView(r,o,h);this._stop();var x=this.project(this.getCenter()),T=this.project(r),O=this.getSize(),F=this._zoom;r=wt(r),o=o===void 0?F:o;var ut=Math.max(O.x,O.y),gt=ut*this.getZoomScale(F,o),Et=T.distanceTo(x)||1,zt=1.42,Qt=zt*zt;function se(Be){var ws=Be?-1:1,Va=Be?gt:ut,xu=gt*gt-ut*ut+ws*Qt*Qt*Et*Et,jo=2*Va*Qt*Et,Eu=xu/jo,Fr=Math.sqrt(Eu*Eu+1)-Eu,Qo=Fr<1e-9?-18:Math.log(Fr);return Qo}function cn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function He(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Mn(Be){return cn(Be)/He(Be)}var Gn=se(0);function Xr(Be){return ut*(He(Gn)/He(Gn+zt*Be))}function Xo(Be){return ut*(He(Gn)*Mn(Gn+zt*Be)-cn(Gn))/Qt}function yu(Be){return 1-Math.pow(1-Be,1.5)}var Fo=Date.now(),ra=(se(1)-Gn)/zt,Vo=h.duration?1e3*h.duration:1e3*ra*.8;function Ts(){var Be=(Date.now()-Fo)/Vo,ws=yu(Be)*ra;Be<=1?(this._flyToFrame=J(Ts,this),this._move(this.unproject(x.add(T.subtract(x).multiplyBy(Xo(ws)/Et)),F),this.getScaleZoom(ut/Xr(ws),F),{flyTo:!0})):this._move(r,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Ts.call(this),this},flyToBounds:function(r,o){var h=this._getBoundsCenterZoom(r,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(r){return r=dt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var o=this.options.minZoom;return this.options.minZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var o=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,o){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,dt(r));return h.equals(x)||this.panTo(x,o),this._enforcingBounds=!1,this},panInside:function(r,o){o=o||{};var h=R(o.paddingTopLeft||o.padding||[0,0]),x=R(o.paddingBottomRight||o.padding||[0,0]),T=this.project(this.getCenter()),O=this.project(r),F=this.getPixelBounds(),ut=yt([F.min.add(h),F.max.subtract(x)]),gt=ut.getSize();if(!ut.contains(O)){this._enforcingBounds=!0;var Et=O.subtract(ut.getCenter()),zt=ut.extend(O).getSize().subtract(gt);T.x+=Et.x<0?-zt.x:zt.x,T.y+=Et.y<0?-zt.y:zt.y,this.panTo(this.unproject(T),o),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=p({animate:!1,pan:!0},r===!0?{animate:!0}:r);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=o.divideBy(2).round(),T=h.divideBy(2).round(),O=x.subtract(T);return!O.x&&!O.y?this:(r.animate&&r.pan?this.panBy(O):(r.pan&&this._rawPanBy(O),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(N(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=p({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=N(this._handleGeolocationResponse,this),h=N(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,r):navigator.geolocation.getCurrentPosition(o,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var o=r.code,h=r.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var o=r.coords.latitude,h=r.coords.longitude,x=new Tt(o,h),T=x.toBounds(r.coords.accuracy*2),O=this._locateOptions;if(O.setView){var F=this.getBoundsZoom(T);this.setView(x,O.maxZoom?Math.min(F,O.maxZoom):F)}var ut={latlng:x,bounds:T,timestamp:r.timestamp};for(var gt in r.coords)typeof r.coords[gt]=="number"&&(ut[gt]=r.coords[gt]);this.fire("locationfound",ut)}},addHandler:function(r,o){if(!o)return this;var h=this[r]=new o(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Oe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Oe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,o){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),x=oe("div",h,o||this._mapPane);return r&&(this._panes[r]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),o=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new bt(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,o,h){r=dt(r),h=R(h||[0,0]);var x=this.getZoom()||0,T=this.getMinZoom(),O=this.getMaxZoom(),F=r.getNorthWest(),ut=r.getSouthEast(),gt=this.getSize().subtract(h),Et=yt(this.project(ut,x),this.project(F,x)).getSize(),zt=Gt.any3d?this.options.zoomSnap:1,Qt=gt.x/Et.x,se=gt.y/Et.y,cn=o?Math.max(Qt,se):Math.min(Qt,se);return x=this.getScaleZoom(cn,x),zt&&(x=Math.round(x/(zt/100))*(zt/100),x=o?Math.ceil(x/zt)*zt:Math.floor(x/zt)*zt),Math.max(T,Math.min(O,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,o){var h=this._getTopLeftPoint(r,o);return new it(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(r)/h.scale(o)},getScaleZoom:function(r,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var x=h.zoom(r*h.scale(o));return isNaN(x)?1/0:x},project:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(wt(r),o)},unproject:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(R(r),o)},layerPointToLatLng:function(r){var o=R(r).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(r){var o=this.project(wt(r))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(wt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(dt(r))},distance:function(r,o){return this.options.crs.distance(wt(r),wt(o))},containerPointToLayerPoint:function(r){return R(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return R(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var o=this.containerPointToLayerPoint(R(r));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(r)))},mouseEventToContainerPoint:function(r){return dn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var o=this._container=ls(r);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(o,"scroll",this._onScroll,this),this._containerId=z(o)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,Jt(r,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=li(r,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Jt(r.markerPane,"leaflet-zoom-hide"),Jt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,o,h){Ce(this._mapPane,new G(0,0));var x=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var T=this._zoom!==o;this._moveStart(T,h)._move(r,o)._moveEnd(T),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(r,o){return r&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(r,o,h,x){o===void 0&&(o=this._zoom);var T=this._zoom!==o;return this._zoom=o,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),x?h&&h.pinch&&this.fire("zoom",h):((T||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ce(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[z(this._container)]=this;var o=r?Te:ee;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,o){for(var h=[],x,T=o==="mouseout"||o==="mouseover",O=r.target||r.srcElement,F=!1;O;){if(x=this._targets[z(O)],x&&(o==="click"||o==="preclick")&&this._draggableMoved(x)){F=!0;break}if(x&&x.listens(o,!0)&&(T&&!Xi(O,r)||(h.push(x),T))||O===this._container)break;O=O.parentNode}return!h.length&&!F&&!T&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var o=r.target||r.srcElement;if(!(!this._loaded||o._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(o))){var h=r.type;h==="mousedown"&&Ir(o),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,o,h){if(r.type==="click"){var x=p({},r);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var T=this._findEventTargets(r,o);if(h){for(var O=[],F=0;F<h.length;F++)h[F].listens(o,!0)&&O.push(h[F]);T=O.concat(T)}if(T.length){o==="contextmenu"&&Ae(r);var ut=T[0],gt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Et=ut.getLatLng&&(!ut._radius||ut._radius<=10);gt.containerPoint=Et?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(r),gt.layerPoint=this.containerPointToLayerPoint(gt.containerPoint),gt.latlng=Et?ut.getLatLng():this.layerPointToLatLng(gt.layerPoint)}for(F=0;F<T.length;F++)if(T[F].fire(o,gt,!0),gt.originalEvent._stopped||T[F].options.bubblingMouseEvents===!1&&It(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,o=this._handlers.length;r<o;r++)this._handlers[r].disable()},whenReady:function(r,o){return this._loaded?r.call(o||this,{target:this}):this.on("load",r,o),this},_getMapPanePos:function(){return Ei(this._mapPane)||new G(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,o){var h=r&&o!==void 0?this._getNewPixelOrigin(r,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,o){var h=this.getSize()._divideBy(2);return this.project(r,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,o,h){var x=this._getNewPixelOrigin(h,o);return this.project(r,o)._subtract(x)},_latLngBoundsToNewLayerBounds:function(r,o,h){var x=this._getNewPixelOrigin(h,o);return yt([this.project(r.getSouthWest(),o)._subtract(x),this.project(r.getNorthWest(),o)._subtract(x),this.project(r.getSouthEast(),o)._subtract(x),this.project(r.getNorthEast(),o)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,o,h){if(!h)return r;var x=this.project(r,o),T=this.getSize().divideBy(2),O=new it(x.subtract(T),x.add(T)),F=this._getBoundsOffset(O,h,o);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?r:this.unproject(x.add(F),o)},_limitOffset:function(r,o){if(!o)return r;var h=this.getPixelBounds(),x=new it(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(x,o))},_getBoundsOffset:function(r,o,h){var x=yt(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),T=x.min.subtract(r.min),O=x.max.subtract(r.max),F=this._rebound(T.x,-O.x),ut=this._rebound(T.y,-O.y);return new G(F,ut)},_rebound:function(r,o){return r+o>0?Math.round(r-o)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(o))},_limitZoom:function(r){var o=this.getMinZoom(),h=this.getMaxZoom(),x=Gt.any3d?this.options.zoomSnap:1;return x&&(r=Math.round(r/x)*x),Math.max(o,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,o){var h=this._getCenterOffset(r)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var r=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(o){var h=Wn,x=this._proxy.style[h];xi(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Oe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),o=this.getZoom();xi(this._proxy,this.project(r,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(o),T=this._getCenterOffset(r)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(T)?!1:(J(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,o,!0)},this),!0)},_animateZoom:function(r,o,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=o,Jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:o,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(N(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fi(r,o){return new $t(r,o)}var Nn=V.extend({options:{position:"topright"},initialize:function(r){kt(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var o=this._map;return o&&o.removeControl(this),this.options.position=r,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var o=this._container=this.onAdd(r),h=this.getPosition(),x=r._controlCorners[h];return Jt(o,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(o,x.firstChild):x.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Oe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),on=function(r){return new Nn(r)};$t.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},o="leaflet-",h=this._controlContainer=oe("div",o+"control-container",this._container);function x(T,O){var F=o+T+" "+o+O;r[T+O]=oe("div",F,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Oe(this._controlCorners[r]);Oe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yr=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,o,h,x){return h<x?-1:x<h?1:0}},initialize:function(r,o,h){kt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in r)this._addLayer(r[x],x);for(x in o)this._addLayer(o[x],x,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,o){return this._addLayer(r,o),this._map?this._update():this},addOverlay:function(r,o){return this._addLayer(r,o,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var o=this._getLayer(z(r));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",o=this._container=oe("div",r),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),pr(o),Yi(o);var x=this._section=oe("section",r+"-list");h&&(this._map.on("click",this.collapse,this),ee(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=oe("a",r+"-toggle",o);T.href="#",T.title="Layers",T.setAttribute("role","button"),ee(T,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Ae(O),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=oe("div",r+"-base",x),this._separator=oe("div",r+"-separator",x),this._overlaysList=oe("div",r+"-overlays",x),o.appendChild(x)},_getLayer:function(r){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&z(this._layers[o].layer)===r)return this._layers[o]},_addLayer:function(r,o,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(N(function(x,T){return this.options.sortFunction(x.layer,T.layer,x.name,T.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xn(this._baseLayersList),Xn(this._overlaysList),this._layerControlInputs=[];var r,o,h,x,T=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),o=o||x.overlay,r=r||!x.overlay,T+=x.overlay?0:1;return this.options.hideSingleBase&&(r=r&&T>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=o&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var o=this._getLayer(z(r.target)),h=o.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(r,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(o?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(r){var o=document.createElement("label"),h=this._map.hasLayer(r.layer),x;r.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+z(this),h),this._layerControlInputs.push(x),x.layerId=z(r.layer),ee(x,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+r.name;var O=document.createElement("span");o.appendChild(O),O.appendChild(x),O.appendChild(T);var F=r.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,o,h,x=[],T=[];this._handlingClick=!0;for(var O=r.length-1;O>=0;O--)o=r[O],h=this._getLayer(o.layerId).layer,o.checked?x.push(h):o.checked||T.push(h);for(O=0;O<T.length;O++)this._map.hasLayer(T[O])&&this._map.removeLayer(T[O]);for(O=0;O<x.length;O++)this._map.hasLayer(x[O])||this._map.addLayer(x[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,o,h,x=this._map.getZoom(),T=r.length-1;T>=0;T--)o=r[T],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ee(r,"click",Ae),this.expand();var o=this;setTimeout(function(){Te(r,"click",Ae),o._preventClick=!1})}}),Ku=function(r,o,h){return new yr(r,o,h)},Vi=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var o="leaflet-control-zoom",h=oe("div",o+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,o,h,x,T){var O=oe("a",h,x);return O.innerHTML=r,O.href="#",O.title=o,O.setAttribute("role","button"),O.setAttribute("aria-label",o),pr(O),ee(O,"click",ti),ee(O,"click",T,this),ee(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var r=this._map,o="leaflet-disabled";xe(this._zoomInButton,o),xe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Jt(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Jt(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vi,this.addControl(this.zoomControl))});var Fs=function(r){return new Vi(r)},xr=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var o="leaflet-control-scale",h=oe("div",o),x=this.options;return this._addScales(x,o+"-line",h),r.on(x.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,o,h){r.metric&&(this._mScale=oe("div",o,h)),r.imperial&&(this._iScale=oe("div",o,h))},_update:function(){var r=this._map,o=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,o]),r.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var o=this._getRoundNum(r),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/r)},_updateImperial:function(r){var o=r*3.2808399,h,x,T;o>5280?(h=o/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(T=this._getRoundNum(o),this._updateScale(this._iScale,T+" ft",T/o))},_updateScale:function(r,o,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=o},_getRoundNum:function(r){var o=Math.pow(10,(Math.floor(r)+"").length-1),h=r/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Ju=function(r){return new xr(r)},hi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vs=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?hi+" ":"")+"Leaflet</a>"},initialize:function(r){kt(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),pr(this._container);for(var o in r._layers)r._layers[o].getAttribution&&this.addAttribution(r._layers[o].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var o in this._attributions)this._attributions[o]&&r.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Vs().addTo(this)});var Wu=function(r){return new Vs(r)};Nn.Layers=yr,Nn.Zoom=Vi,Nn.Scale=xr,Nn.Attribution=Vs,on.layers=Ku,on.zoom=Fs,on.scale=Ju,on.attribution=Wu;var ei=V.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ei.addTo=function(r,o){return r.addHandler(o,this),this};var $u={Events:B},gu=Gt.touch?"touchstart mousedown":"mousedown",ji=Q.extend({options:{clickTolerance:3},initialize:function(r,o,h,x){kt(this,x),this._element=r,this._dragStartTarget=o||r,this._preventOutline=h},enable:function(){this._enabled||(ee(this._dragStartTarget,gu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ji._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,gu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ys(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ji._dragging===this&&this.finishDrag();return}if(!(ji._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ji._dragging=this,this._preventOutline&&Ir(this._element),Xs(),ci(),!this._moving)){this.fire("down");var o=r.touches?r.touches[0]:r,h=xn(this._element);this._startPoint=new G(o.clientX,o.clientY),this._startPos=Ei(this._element),this._parentScale=Xe(h);var x=r.type==="mousedown";ee(document,x?"mousemove":"touchmove",this._onMove,this),ee(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var o=r.touches&&r.touches.length===1?r.touches[0]:r,h=new G(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ae(r),this._moved||(this.fire("dragstart"),this._moved=!0,Jt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ce(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),_r(),$n();var o=this._moved&&this._moving;this._moving=!1,ji._dragging=!1,o&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function mu(r,o,h){var x,T=[1,4,2,8],O,F,ut,gt,Et,zt,Qt,se;for(O=0,zt=r.length;O<zt;O++)r[O]._code=Fe(r[O],o);for(ut=0;ut<4;ut++){for(Qt=T[ut],x=[],O=0,zt=r.length,F=zt-1;O<zt;F=O++)gt=r[O],Et=r[F],gt._code&Qt?Et._code&Qt||(se=gs(Et,gt,Qt,o,h),se._code=Fe(se,o),x.push(se)):(Et._code&Qt&&(se=gs(Et,gt,Qt,o,h),se._code=Fe(se,o),x.push(se)),x.push(gt));r=x}return r}function js(r,o){var h,x,T,O,F,ut,gt,Et,zt;if(!r||r.length===0)throw new Error("latlngs not passed");ln(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Qt=wt([0,0]),se=dt(r),cn=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());cn<1700&&(Qt=ki(r));var He=r.length,Mn=[];for(h=0;h<He;h++){var Gn=wt(r[h]);Mn.push(o.project(wt([Gn.lat-Qt.lat,Gn.lng-Qt.lng])))}for(ut=gt=Et=0,h=0,x=He-1;h<He;x=h++)T=Mn[h],O=Mn[x],F=T.y*O.x-O.y*T.x,gt+=(T.x+O.x)*F,Et+=(T.y+O.y)*F,ut+=F*3;ut===0?zt=Mn[0]:zt=[gt/ut,Et/ut];var Xr=o.unproject(R(zt));return wt([Xr.lat+Qt.lat,Xr.lng+Qt.lng])}function ki(r){for(var o=0,h=0,x=0,T=0;T<r.length;T++){var O=wt(r[T]);o+=O.lat,h+=O.lng,x++}return wt([o/x,h/x])}var zn={__proto__:null,clipPolygon:mu,polygonCenter:js,centroid:ki};function vu(r,o){if(!o||!r.length)return r.slice();var h=o*o;return r=Da(r,h),r=Ia(r,h),r}function Qs(r,o,h){return Math.sqrt(Er(r,o,h,!0))}function to(r,o,h){return Er(r,o,h)}function Ia(r,o){var h=r.length,x=typeof Uint8Array<"u"?Uint8Array:Array,T=new x(h);T[0]=T[h-1]=1,Ks(r,T,o,0,h-1);var O,F=[];for(O=0;O<h;O++)T[O]&&F.push(r[O]);return F}function Ks(r,o,h,x,T){var O=0,F,ut,gt;for(ut=x+1;ut<=T-1;ut++)gt=Er(r[ut],r[x],r[T],!0),gt>O&&(F=ut,O=gt);O>h&&(o[F]=1,Ks(r,o,h,x,F),Ks(r,o,h,F,T))}function Da(r,o){for(var h=[r[0]],x=1,T=0,O=r.length;x<O;x++)ms(r[x],r[T])>o&&(h.push(r[x]),T=x);return T<O-1&&h.push(r[O-1]),h}var za;function Vn(r,o,h,x,T){var O=x?za:Fe(r,h),F=Fe(o,h),ut,gt,Et;for(za=F;;){if(!(O|F))return[r,o];if(O&F)return!1;ut=O||F,gt=gs(r,o,ut,h,T),Et=Fe(gt,h),ut===O?(r=gt,O=Et):(o=gt,F=Et)}}function gs(r,o,h,x,T){var O=o.x-r.x,F=o.y-r.y,ut=x.min,gt=x.max,Et,zt;return h&8?(Et=r.x+O*(gt.y-r.y)/F,zt=gt.y):h&4?(Et=r.x+O*(ut.y-r.y)/F,zt=ut.y):h&2?(Et=gt.x,zt=r.y+F*(gt.x-r.x)/O):h&1&&(Et=ut.x,zt=r.y+F*(ut.x-r.x)/O),new G(Et,zt,T)}function Fe(r,o){var h=0;return r.x<o.min.x?h|=1:r.x>o.max.x&&(h|=2),r.y<o.min.y?h|=4:r.y>o.max.y&&(h|=8),h}function ms(r,o){var h=o.x-r.x,x=o.y-r.y;return h*h+x*x}function Er(r,o,h,x){var T=o.x,O=o.y,F=h.x-T,ut=h.y-O,gt=F*F+ut*ut,Et;return gt>0&&(Et=((r.x-T)*F+(r.y-O)*ut)/gt,Et>1?(T=h.x,O=h.y):Et>0&&(T+=F*Et,O+=ut*Et)),F=r.x-T,ut=r.y-O,x?F*F+ut*ut:new G(T,O)}function ln(r){return!mt(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Pa(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ln(r)}function Js(r,o){var h,x,T,O,F,ut,gt,Et;if(!r||r.length===0)throw new Error("latlngs not passed");ln(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var zt=wt([0,0]),Qt=dt(r),se=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());se<1700&&(zt=ki(r));var cn=r.length,He=[];for(h=0;h<cn;h++){var Mn=wt(r[h]);He.push(o.project(wt([Mn.lat-zt.lat,Mn.lng-zt.lng])))}for(h=0,x=0;h<cn-1;h++)x+=He[h].distanceTo(He[h+1])/2;if(x===0)Et=He[0];else for(h=0,O=0;h<cn-1;h++)if(F=He[h],ut=He[h+1],T=F.distanceTo(ut),O+=T,O>x){gt=(O-x)/T,Et=[ut.x-gt*(ut.x-F.x),ut.y-gt*(ut.y-F.y)];break}var Gn=o.unproject(R(Et));return wt([Gn.lat+zt.lat,Gn.lng+zt.lng])}var Ws={__proto__:null,simplify:vu,pointToSegmentDistance:Qs,closestPointOnSegment:to,clipSegment:Vn,_getEdgeIntersection:gs,_getBitCode:Fe,_sqClosestPointOnSegment:Er,isFlat:ln,_flat:Pa,polylineCenter:Js},$s={project:function(r){return new G(r.lng,r.lat)},unproject:function(r){return new Tt(r.y,r.x)},bounds:new it([-180,-90],[180,90])},ta={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var o=Math.PI/180,h=this.R,x=r.lat*o,T=this.R_MINOR/h,O=Math.sqrt(1-T*T),F=O*Math.sin(x),ut=Math.tan(Math.PI/4-x/2)/Math.pow((1-F)/(1+F),O/2);return x=-h*Math.log(Math.max(ut,1e-10)),new G(r.lng*o*h,x)},unproject:function(r){for(var o=180/Math.PI,h=this.R,x=this.R_MINOR/h,T=Math.sqrt(1-x*x),O=Math.exp(-r.y/h),F=Math.PI/2-2*Math.atan(O),ut=0,gt=.1,Et;ut<15&&Math.abs(gt)>1e-7;ut++)Et=T*Math.sin(F),Et=Math.pow((1-Et)/(1+Et),T/2),gt=Math.PI/2-2*Math.atan(O*Et)-F,F+=gt;return new Tt(F*o,r.x*o/h)}},_u={__proto__:null,LonLat:$s,Mercator:ta,SphericalMercator:Yt},zr=p({},W,{code:"EPSG:3395",projection:ta,transformation:function(){var r=.5/(Math.PI*ta.R);return Z(r,.5,-r,.5)}()}),pu=p({},W,{code:"EPSG:4326",projection:$s,transformation:Z(1/180,1,-1/180,.5)}),eo=p({},ne,{projection:$s,transformation:Z(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,o){var h=o.lng-r.lng,x=o.lat-r.lat;return Math.sqrt(h*h+x*x)},infinite:!0});ne.Earth=W,ne.EPSG3395=zr,ne.EPSG3857=_e,ne.EPSG900913=ze,ne.EPSG4326=pu,ne.Simple=eo;var ni=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[z(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[z(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var o=r.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var o=z(r);return this._layers[o]?this:(this._layers[o]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var o=z(r);return this._layers[o]?(this._loaded&&r.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return z(r)in this._layers},eachLayer:function(r,o){for(var h in this._layers)r.call(o,this._layers[h]);return this},_addLayers:function(r){r=r?mt(r)?r:[r]:[];for(var o=0,h=r.length;o<h;o++)this.addLayer(r[o])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[z(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var o=z(r);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,o=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var T=this._zoomBoundLayers[x].options;r=T.minZoom===void 0?r:Math.min(r,T.minZoom),o=T.maxZoom===void 0?o:Math.max(o,T.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sr=ni.extend({initialize:function(r,o){kt(this,o),this._layers={};var h,x;if(r)for(h=0,x=r.length;h<x;h++)this.addLayer(r[h])},addLayer:function(r){var o=this.getLayerId(r);return this._layers[o]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var o=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(r){var o=typeof r=="number"?r:this.getLayerId(r);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var o=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[r]&&x[r].apply(x,o);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,o){for(var h in this._layers)r.call(o,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return z(r)}}),Ba=function(r,o){return new Sr(r,o)},Pn=Sr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Sr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Sr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new bt;for(var o in this._layers){var h=this._layers[o];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Pr=function(r,o){return new Pn(r,o)},Br=V.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){kt(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,o){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(x,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(r,o){var h=this.options,x=h[o+"Size"];typeof x=="number"&&(x=[x,x]);var T=R(x),O=R(o==="shadow"&&h.shadowAnchor||h.iconAnchor||T&&T.divideBy(2,!0));r.className="leaflet-marker-"+o+" "+(h.className||""),O&&(r.style.marginLeft=-O.x+"px",r.style.marginTop=-O.y+"px"),T&&(r.style.width=T.x+"px",r.style.height=T.y+"px")},_createImg:function(r,o){return o=o||document.createElement("img"),o.src=r,o},_getIconUrl:function(r){return Gt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ea(r){return new Br(r)}var qr=Br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof qr.imagePath!="string"&&(qr.imagePath=this._detectIconPath()),(this.options.imagePath||qr.imagePath)+Br.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var o=function(h,x,T){var O=x.exec(h);return O&&O[T]};return r=o(r,/^url\((['"])?(.+)\1\)$/,2),r&&o(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=oe("div","leaflet-default-icon-path",document.body),o=li(r,"background-image")||li(r,"backgroundImage");if(document.body.removeChild(r),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),qa=ei.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ji(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Jt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var o=this._marker,h=o._map,x=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,O=Ei(o._icon),F=h.getPixelBounds(),ut=h.getPixelOrigin(),gt=yt(F.min._subtract(ut).add(T),F.max._subtract(ut).subtract(T));if(!gt.contains(O)){var Et=R((Math.max(gt.max.x,O.x)-gt.max.x)/(F.max.x-gt.max.x)-(Math.min(gt.min.x,O.x)-gt.min.x)/(F.min.x-gt.min.x),(Math.max(gt.max.y,O.y)-gt.max.y)/(F.max.y-gt.max.y)-(Math.min(gt.min.y,O.y)-gt.min.y)/(F.min.y-gt.min.y)).multiplyBy(x);h.panBy(Et,{animate:!1}),this._draggable._newPos._add(Et),this._draggable._startPos._add(Et),Ce(o._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=J(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,r)))},_onDrag:function(r){var o=this._marker,h=o._shadow,x=Ei(o._icon),T=o._map.layerPointToLatLng(x);h&&Ce(h,x),o._latlng=T,r.latlng=T,r.oldLatLng=this._oldLatLng,o.fire("move",r).fire("drag",r)},_onDragEnd:function(r){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ur=ni.extend({options:{icon:new qr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,o){kt(this,o),this._latlng=wt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var o=this._latlng;return this._latlng=wt(r),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),Jt(h,o),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(h,"focus",this._panOnFocus,this);var T=r.icon.createShadow(this._shadow),O=!1;T!==this._shadow&&(this._removeShadow(),O=!0),T&&(Jt(T,o),T.alt=""),this._shadow=T,r.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&O&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Oe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Oe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qa)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qa(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Se(this._icon,r),this._shadow&&Se(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var o=this.options.icon.options,h=o.iconSize?R(o.iconSize):R(0,0),x=o.iconAnchor?R(o.iconAnchor):R(0,0);r.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ua(r,o){return new Ur(r,o)}var Ni=ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return kt(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gr=Ni.extend({options:{fill:!0,radius:10},initialize:function(r,o){kt(this,o),this._latlng=wt(r),this._radius=this.options.radius},setLatLng:function(r){var o=this._latlng;return this._latlng=wt(r),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var o=r&&r.radius||this._radius;return Ni.prototype.setStyle.call(this,r),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,o=this._radiusY||r,h=this._clickTolerance(),x=[r+h,o+h];this._pxBounds=new it(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ga(r,o){return new Gr(r,o)}var na=Gr.extend({initialize:function(r,o,h){if(typeof o=="number"&&(o=p({},h,{radius:o})),kt(this,o),this._latlng=wt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new bt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ni.prototype.setStyle,_project:function(){var r=this._latlng.lng,o=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===W.distance){var T=Math.PI/180,O=this._mRadius/W.R/T,F=h.project([o+O,r]),ut=h.project([o-O,r]),gt=F.add(ut).divideBy(2),Et=h.unproject(gt).lat,zt=Math.acos((Math.cos(O*T)-Math.sin(o*T)*Math.sin(Et*T))/(Math.cos(o*T)*Math.cos(Et*T)))/T;(isNaN(zt)||zt===0)&&(zt=O/Math.cos(Math.PI/180*o)),this._point=gt.subtract(h.getPixelOrigin()),this._radius=isNaN(zt)?0:gt.x-h.project([Et,r-zt]).x,this._radiusY=gt.y-F.y}else{var Qt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Qt).x}this._updateBounds()}});function no(r,o,h){return new na(r,o,h)}var fi=Ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,o){kt(this,o),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var o=1/0,h=null,x=Er,T,O,F=0,ut=this._parts.length;F<ut;F++)for(var gt=this._parts[F],Et=1,zt=gt.length;Et<zt;Et++){T=gt[Et-1],O=gt[Et];var Qt=x(r,T,O,!0);Qt<o&&(o=Qt,h=x(r,T,O))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,o){return o=o||this._defaultShape(),r=wt(r),o.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new bt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var o=[],h=ln(r),x=0,T=r.length;x<T;x++)h?(o[x]=wt(r[x]),this._bounds.extend(o[x])):o[x]=this._convertLatLngs(r[x]);return o},_project:function(){var r=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),o=new G(r,r);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(r,o,h){var x=r[0]instanceof Tt,T=r.length,O,F;if(x){for(F=[],O=0;O<T;O++)F[O]=this._map.latLngToLayerPoint(r[O]),h.extend(F[O]);o.push(F)}else for(O=0;O<T;O++)this._projectLatlngs(r[O],o,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,x,T,O,F,ut,gt;for(h=0,T=0,O=this._rings.length;h<O;h++)for(gt=this._rings[h],x=0,F=gt.length;x<F-1;x++)ut=Vn(gt[x],gt[x+1],r,x,!0),ut&&(o[T]=o[T]||[],o[T].push(ut[0]),(ut[1]!==gt[x+1]||x===F-2)&&(o[T].push(ut[1]),T++))}},_simplifyPoints:function(){for(var r=this._parts,o=this.options.smoothFactor,h=0,x=r.length;h<x;h++)r[h]=vu(r[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,o){var h,x,T,O,F,ut,gt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,O=this._parts.length;h<O;h++)for(ut=this._parts[h],x=0,F=ut.length,T=F-1;x<F;T=x++)if(!(!o&&x===0)&&Qs(r,ut[T],ut[x])<=gt)return!0;return!1}});function Za(r,o){return new fi(r,o)}fi._flat=Pa;var Zr=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var o=fi.prototype._convertLatLngs.call(this,r),h=o.length;return h>=2&&o[0]instanceof Tt&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(r){fi.prototype._setLatLngs.call(this,r),ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,o=this.options.weight,h=new G(o,o);if(r=new it(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,T=this._rings.length,O;x<T;x++)O=mu(this._rings[x],r,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var o=!1,h,x,T,O,F,ut,gt,Et;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(O=0,gt=this._parts.length;O<gt;O++)for(h=this._parts[O],F=0,Et=h.length,ut=Et-1;F<Et;ut=F++)x=h[F],T=h[ut],x.y>r.y!=T.y>r.y&&r.x<(T.x-x.x)*(r.y-x.y)/(T.y-x.y)+x.x&&(o=!o);return o||fi.prototype._containsPoint.call(this,r,!0)}});function Ln(r,o){return new Zr(r,o)}var On=Pn.extend({initialize:function(r,o){kt(this,o),this._layers={},r&&this.addData(r)},addData:function(r){var o=mt(r)?r:r.features,h,x,T;if(o){for(h=0,x=o.length;h<x;h++)T=o[h],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var O=this.options;if(O.filter&&!O.filter(r))return this;var F=vs(r,O);return F?(F.feature=u(r),F.defaultOptions=F.options,this.resetStyle(F),O.onEachFeature&&O.onEachFeature(r,F),this.addLayer(F)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=p({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(o){this._setLayerStyle(o,r)},this)},_setLayerStyle:function(r,o){r.setStyle&&(typeof o=="function"&&(o=o(r.feature)),r.setStyle(o))}});function vs(r,o){var h=r.type==="Feature"?r.geometry:r,x=h?h.coordinates:null,T=[],O=o&&o.pointToLayer,F=o&&o.coordsToLatLng||Li,ut,gt,Et,zt;if(!x&&!h)return null;switch(h.type){case"Point":return ut=F(x),Ha(O,r,ut,o);case"MultiPoint":for(Et=0,zt=x.length;Et<zt;Et++)ut=F(x[Et]),T.push(Ha(O,r,ut,o));return new Pn(T);case"LineString":case"MultiLineString":return gt=_s(x,h.type==="LineString"?0:1,F),new fi(gt,o);case"Polygon":case"MultiPolygon":return gt=_s(x,h.type==="Polygon"?1:2,F),new Zr(gt,o);case"GeometryCollection":for(Et=0,zt=h.geometries.length;Et<zt;Et++){var Qt=vs({geometry:h.geometries[Et],type:"Feature",properties:r.properties},o);Qt&&T.push(Qt)}return new Pn(T);case"FeatureCollection":for(Et=0,zt=h.features.length;Et<zt;Et++){var se=vs(h.features[Et],o);se&&T.push(se)}return new Pn(T);default:throw new Error("Invalid GeoJSON object.")}}function Ha(r,o,h,x){return r?r(o,h):new Ur(h,x&&x.markersInheritOptions&&x)}function Li(r){return new Tt(r[1],r[0],r[2])}function _s(r,o,h){for(var x=[],T=0,O=r.length,F;T<O;T++)F=o?_s(r[T],o-1,h):(h||Li)(r[T]),x.push(F);return x}function Hr(r,o){return r=wt(r),r.alt!==void 0?[K(r.lng,o),K(r.lat,o),K(r.alt,o)]:[K(r.lng,o),K(r.lat,o)]}function En(r,o,h,x){for(var T=[],O=0,F=r.length;O<F;O++)T.push(o?En(r[O],ln(r[O])?0:o-1,h,x):Hr(r[O],x));return!o&&h&&T.length>0&&T.push(T[0].slice()),T}function Sn(r,o){return r.feature?p({},r.feature,{geometry:o}):u(o)}function u(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var e={toGeoJSON:function(r){return Sn(this,{type:"Point",coordinates:Hr(this.getLatLng(),r)})}};Ur.include(e),na.include(e),Gr.include(e),fi.include({toGeoJSON:function(r){var o=!ln(this._latlngs),h=En(this._latlngs,o?1:0,!1,r);return Sn(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),Zr.include({toGeoJSON:function(r){var o=!ln(this._latlngs),h=o&&!ln(this._latlngs[0]),x=En(this._latlngs,h?2:o?1:0,!0,r);return o||(x=[x]),Sn(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Sr.include({toMultiPoint:function(r){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(r).geometry.coordinates)}),Sn(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(r){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(r);var h=o==="GeometryCollection",x=[];return this.eachLayer(function(T){if(T.toGeoJSON){var O=T.toGeoJSON(r);if(h)x.push(O.geometry);else{var F=u(O);F.type==="FeatureCollection"?x.push.apply(x,F.features):x.push(F)}}}),h?Sn(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function i(r,o){return new On(r,o)}var a=i,c=ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,o,h){this._url=r,this._bounds=dt(o),kt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Oe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&an(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=dt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",o=this._image=r?this._url:oe("img");if(Jt(o,"leaflet-image-layer"),this._zoomAnimated&&Jt(o,"leaflet-zoom-animated"),this.options.className&&Jt(o,this.options.className),o.onselectstart=q,o.onmousemove=q,o.onload=N(this.fire,this,"load"),o.onerror=N(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(r){var o=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;xi(this._image,h,o)},_reset:function(){var r=this._image,o=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();Ce(r,o.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){Se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),_=function(r,o,h){return new c(r,o,h)},E=c.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",o=this._image=r?this._url:oe("video");if(Jt(o,"leaflet-image-layer"),this._zoomAnimated&&Jt(o,"leaflet-zoom-animated"),this.options.className&&Jt(o,this.options.className),o.onselectstart=q,o.onmousemove=q,o.onloadeddata=N(this.fire,this,"load"),r){for(var h=o.getElementsByTagName("source"),x=[],T=0;T<h.length;T++)x.push(h[T].src);this._url=h.length>0?x:[o.src];return}mt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var F=oe("source");F.src=this._url[O],o.appendChild(F)}}});function w(r,o,h){return new E(r,o,h)}var M=c.extend({_initImage:function(){var r=this._image=this._url;Jt(r,"leaflet-image-layer"),this._zoomAnimated&&Jt(r,"leaflet-zoom-animated"),this.options.className&&Jt(r,this.options.className),r.onselectstart=q,r.onmousemove=q}});function P(r,o,h){return new M(r,o,h)}var $=ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,o){r&&(r instanceof Tt||mt(r))?(this._latlng=wt(r),kt(this,o)):(kt(this,r),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Se(this._container,1),this.bringToFront(),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Se(this._container,0),this._removeTimeout=setTimeout(N(Oe,void 0,this._container),200)):Oe(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=wt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&an(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(r){var o=this._source;if(!o._map)return!1;if(o instanceof Pn){o=null;var h=this._source._layers;for(var x in h)if(h[x]._map){o=h[x];break}if(!o)return!1;this._source=o}if(!r)if(o.getCenter)r=o.getCenter();else if(o.getLatLng)r=o.getLatLng();else if(o.getBounds)r=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")r.innerHTML=o;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),o=R(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ce(this._container,r.add(h)):o=o.add(r).add(h);var x=this._containerBottom=-o.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=x+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(r,o,h,x){var T=o;return T instanceof r||(T=new r(x).setContent(o)),h&&T.setLatLng(h),T}}),ni.include({_initOverlay:function(r,o,h,x){var T=h;return T instanceof r?(kt(T,x),T._source=this):(T=o&&!x?o:new r(x,this),T.setContent(h)),T}});var lt=$.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,$.prototype.openOn.call(this,r)},onAdd:function(r){$.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ni||this._source.on("preclick",$e))},onRemove:function(r){$.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ni||this._source.off("preclick",$e))},getEvents:function(){var r=$.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",o=this._container=oe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=oe("div",r+"-content-wrapper",o);if(this._contentNode=oe("div",r+"-content",h),pr(o),Yi(this._contentNode),ee(o,"contextmenu",$e),this._tipContainer=oe("div",r+"-tip-container",o),this._tip=oe("div",r+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=oe("a",r+"-close-button",o);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',ee(x,"click",function(T){Ae(T),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,o=r.style;o.width="",o.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var x=r.offsetHeight,T=this.options.maxHeight,O="leaflet-popup-scrolled";T&&x>T?(o.height=T+"px",Jt(r,O)):xe(r,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();Ce(this._container,o.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,o=parseInt(li(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+o,x=this._containerWidth,T=new G(this._containerLeft,-h-this._containerBottom);T._add(Ei(this._container));var O=r.layerPointToContainerPoint(T),F=R(this.options.autoPanPadding),ut=R(this.options.autoPanPaddingTopLeft||F),gt=R(this.options.autoPanPaddingBottomRight||F),Et=r.getSize(),zt=0,Qt=0;O.x+x+gt.x>Et.x&&(zt=O.x+x-Et.x+gt.x),O.x-zt-ut.x<0&&(zt=O.x-ut.x),O.y+h+gt.y>Et.y&&(Qt=O.y+h-Et.y+gt.y),O.y-Qt-ut.y<0&&(Qt=O.y-ut.y),(zt||Qt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([zt,Qt]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xt=function(r,o){return new lt(r,o)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(r,o,h){return this._initOverlay(lt,r,o,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),ni.include({bindPopup:function(r,o){return this._popup=this._initOverlay(lt,this._popup,r,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Pn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ti(r);var o=r.layer||r.target;if(this._popup._source===o&&!(o instanceof Ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=o,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var At=$.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){$.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){$.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=$.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",o=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+z(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var o,h,x=this._map,T=this._container,O=x.latLngToContainerPoint(x.getCenter()),F=x.layerPointToContainerPoint(r),ut=this.options.direction,gt=T.offsetWidth,Et=T.offsetHeight,zt=R(this.options.offset),Qt=this._getAnchor();ut==="top"?(o=gt/2,h=Et):ut==="bottom"?(o=gt/2,h=0):ut==="center"?(o=gt/2,h=Et/2):ut==="right"?(o=0,h=Et/2):ut==="left"?(o=gt,h=Et/2):F.x<O.x?(ut="right",o=0,h=Et/2):(ut="left",o=gt+(zt.x+Qt.x)*2,h=Et/2),r=r.subtract(R(o,h,!0)).add(zt).add(Qt),xe(T,"leaflet-tooltip-right"),xe(T,"leaflet-tooltip-left"),xe(T,"leaflet-tooltip-top"),xe(T,"leaflet-tooltip-bottom"),Jt(T,"leaflet-tooltip-"+ut),Ce(T,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Se(this._container,r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(o)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bt=function(r,o){return new At(r,o)};$t.include({openTooltip:function(r,o,h){return this._initOverlay(At,r,o,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),ni.include({bindTooltip:function(r,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(At,this._tooltip,r,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var o=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Pn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&(ee(o,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ee(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var o=r.latlng,h,x;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),x=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(o)}});var Zt=Br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var o=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Xn(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=R(h.bgPos);o.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function de(r){return new Zt(r)}Br.Default=qr;var re=ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){kt(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Oe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(an(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=A(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof G?r:new G(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var o=this.getPane().children,h=-r(-1/0,1/0),x=0,T=o.length,O;x<T;x++)O=o[x].style.zIndex,o[x]!==this._container&&O&&(h=r(h,+O));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Se(this._container,this.options.opacity);var r=+new Date,o=!1,h=!1;for(var x in this._tiles){var T=this._tiles[x];if(!(!T.current||!T.loaded)){var O=Math.min(1,(r-T.loaded)/200);Se(T.el,O),O<1?o=!0:(T.active?h=!0:this._onOpaqueTile(T),T.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(j(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:q,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,o=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=o-Math.abs(r-h),this._onUpdateLevel(h)):(Oe(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[r],T=this._map;return x||(x=this._levels[r]={},x.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=o,x.origin=T.project(T.unproject(T.getPixelOrigin()),r).round(),x.zoom=r,this._setZoomTransform(x,T.getCenter(),T.getZoom()),q(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:q,_onRemoveLevel:q,_onCreateLevel:q,_pruneTiles:function(){if(this._map){var r,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)o=this._tiles[r],o.retain=o.current;for(r in this._tiles)if(o=this._tiles[r],o.current&&!o.active){var x=o.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var o in this._tiles)this._tiles[o].coords.z===r&&this._removeTile(o)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Oe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,o,h,x){var T=Math.floor(r/2),O=Math.floor(o/2),F=h-1,ut=new G(+T,+O);ut.z=+F;var gt=this._tileCoordsToKey(ut),Et=this._tiles[gt];return Et&&Et.active?(Et.retain=!0,!0):(Et&&Et.loaded&&(Et.retain=!0),F>x?this._retainParent(T,O,F,x):!1)},_retainChildren:function(r,o,h,x){for(var T=2*r;T<2*r+2;T++)for(var O=2*o;O<2*o+2;O++){var F=new G(T,O);F.z=h+1;var ut=this._tileCoordsToKey(F),gt=this._tiles[ut];if(gt&&gt.active){gt.retain=!0;continue}else gt&&gt.loaded&&(gt.retain=!0);h+1<x&&this._retainChildren(T,O,h+1,x)}},_resetView:function(r){var o=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var o=this.options;return o.minNativeZoom!==void 0&&r<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<r?o.maxNativeZoom:r},_setView:function(r,o,h,x){var T=Math.round(o);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var O=this.options.updateWhenZooming&&T!==this._tileZoom;(!x||O)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,o)},_setZoomTransforms:function(r,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,o)},_setZoomTransform:function(r,o,h){var x=this._map.getZoomScale(h,r.zoom),T=r.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(o,h)).round();Gt.any3d?xi(r.el,T,x):Ce(r.el,T)},_resetGrid:function(){var r=this._map,o=r.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,o.wrapLng[0]],x).x/h.x),Math.ceil(r.project([0,o.wrapLng[1]],x).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([o.wrapLat[0],0],x).y/h.x),Math.ceil(r.project([o.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),x=o.getZoomScale(h,this._tileZoom),T=o.project(r,this._tileZoom).floor(),O=o.getSize().divideBy(x*2);return new it(T.subtract(O),T.add(O))},_update:function(r){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(r===void 0&&(r=o.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(r),T=this._pxBoundsToTileRange(x),O=T.getCenter(),F=[],ut=this.options.keepBuffer,gt=new it(T.getBottomLeft().subtract([ut,-ut]),T.getTopRight().add([ut,-ut]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Et in this._tiles){var zt=this._tiles[Et].coords;(zt.z!==this._tileZoom||!gt.contains(new G(zt.x,zt.y)))&&(this._tiles[Et].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var Qt=T.min.y;Qt<=T.max.y;Qt++)for(var se=T.min.x;se<=T.max.x;se++){var cn=new G(se,Qt);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var He=this._tiles[this._tileCoordsToKey(cn)];He?He.current=!0:F.push(cn)}}if(F.sort(function(Gn,Xr){return Gn.distanceTo(O)-Xr.distanceTo(O)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(se=0;se<F.length;se++)this._addTile(F[se],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(r){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!o.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(r);return dt(this.options.bounds).overlaps(x)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var o=this._map,h=this.getTileSize(),x=r.scaleBy(h),T=x.add(h),O=o.unproject(x,r.z),F=o.unproject(T,r.z);return[O,F]},_tileCoordsToBounds:function(r){var o=this._tileCoordsToNwSe(r),h=new bt(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var o=r.split(":"),h=new G(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(r){var o=this._tiles[r];o&&(Oe(o.el),delete this._tiles[r],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Jt(r,"leaflet-tile");var o=this.getTileSize();r.style.width=o.x+"px",r.style.height=o.y+"px",r.onselectstart=q,r.onmousemove=q,Gt.ielt9&&this.options.opacity<1&&Se(r,this.options.opacity)},_addTile:function(r,o){var h=this._getTilePos(r),x=this._tileCoordsToKey(r),T=this.createTile(this._wrapCoords(r),N(this._tileReady,this,r));this._initTile(T),this.createTile.length<2&&J(N(this._tileReady,this,r,null,T)),Ce(T,h),this._tiles[x]={el:T,coords:r,current:!0},o.appendChild(T),this.fire("tileloadstart",{tile:T,coords:r})},_tileReady:function(r,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:r});var x=this._tileCoordsToKey(r);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Se(h.el,0),j(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(Jt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(N(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var o=new G(this._wrapX?H(r.x,this._wrapX):r.x,this._wrapY?H(r.y,this._wrapY):r.y);return o.z=r.z,o},_pxBoundsToTileRange:function(r){var o=this.getTileSize();return new it(r.min.unscaleBy(o).floor(),r.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function we(r){return new re(r)}var pe=re.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,o){this._url=r,o=kt(this,o),o.detectRetina&&Gt.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,o){return this._url===r&&o===void 0&&(o=!0),this._url=r,o||this.redraw(),this},createTile:function(r,o){var h=document.createElement("img");return ee(h,"load",N(this._tileOnLoad,this,o,h)),ee(h,"error",N(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var o={r:Gt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(o.y=h),o["-y"]=h}return st(this._url,p(o,this.options))},_tileOnLoad:function(r,o){Gt.ielt9?setTimeout(N(r,this,null,o),0):r(null,o)},_tileOnError:function(r,o,h){var x=this.options.errorTileUrl;x&&o.getAttribute("src")!==x&&(o.src=x),r(h,o)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(r=o-r),r+x},_getSubdomain:function(r){var o=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var r,o;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(o=this._tiles[r].el,o.onload=q,o.onerror=q,!o.complete)){o.src=pt;var h=this._tiles[r].coords;Oe(o),delete this._tiles[r],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(r){var o=this._tiles[r];if(o)return o.el.setAttribute("src",pt),re.prototype._removeTile.call(this,r)},_tileReady:function(r,o,h){if(!(!this._map||h&&h.getAttribute("src")===pt))return re.prototype._tileReady.call(this,r,o,h)}});function be(r,o){return new pe(r,o)}var Bn=pe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,o){this._url=r;var h=p({},this.defaultWmsParams);for(var x in o)x in this.options||(h[x]=o[x]);o=kt(this,o);var T=o.detectRetina&&Gt.retina?2:1,O=this.getTileSize();h.width=O.x*T,h.height=O.y*T,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,pe.prototype.onAdd.call(this,r)},getTileUrl:function(r){var o=this._tileCoordsToNwSe(r),h=this._crs,x=yt(h.project(o[0]),h.project(o[1])),T=x.min,O=x.max,F=(this._wmsVersion>=1.3&&this._crs===pu?[T.y,T.x,O.y,O.x]:[T.x,T.y,O.x,O.y]).join(","),ut=pe.prototype.getTileUrl.call(this,r);return ut+Mt(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(r,o){return p(this.wmsParams,r),o||this.redraw(),this}});function Tr(r,o){return new Bn(r,o)}pe.WMS=Bn,be.wms=Tr;var qn=ni.extend({options:{padding:.1},initialize:function(r){kt(this,r),z(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,o){var h=this._map.getZoomScale(o,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,o),O=x.multiplyBy(-h).add(T).subtract(this._map._getNewPixelOrigin(r,o));Gt.any3d?xi(this._container,O,h):Ce(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-r)).round();this._bounds=new it(h,h.add(o.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yr=qn.extend({options:{tolerance:0},getEvents:function(){var r=qn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ee(r,"mousemove",this._onMouseMove,this),ee(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,Oe(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var o in this._layers)r=this._layers[o],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var r=this._bounds,o=this._container,h=r.getSize(),x=Gt.retina?2:1;Ce(o,r.min),o.width=x*h.x,o.height=x*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[z(r)]=r;var o=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var o=r._order,h=o.next,x=o.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete r._order,delete this._layers[z(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var o=r.options.dashArray.split(/[, ]+/),h=[],x,T;for(T=0;T<o.length;T++){if(x=Number(o[T]),isNaN(x))return;h.push(x)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var o=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(r._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(r._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var o=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)r=x.layer,(!o||r._pxBounds&&r._pxBounds.intersects(o))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,o){if(this._drawing){var h,x,T,O,F=r._parts,ut=F.length,gt=this._ctx;if(ut){for(gt.beginPath(),h=0;h<ut;h++){for(x=0,T=F[h].length;x<T;x++)O=F[h][x],gt[x?"lineTo":"moveTo"](O.x,O.y);o&&gt.closePath()}this._fillStroke(gt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var o=r._point,h=this._ctx,x=Math.max(Math.round(r._radius),1),T=(Math.max(Math.round(r._radiusY),1)||x)/x;T!==1&&(h.save(),h.scale(1,T)),h.beginPath(),h.arc(o.x,o.y/T,x,0,Math.PI*2,!1),T!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,o){var h=o.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(o.options&&o.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var o=this._map.mouseEventToLayerPoint(r),h,x,T=this._drawFirst;T;T=T.next)h=T.layer,h.options.interactive&&h._containsPoint(o)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,o)}},_handleMouseOut:function(r){var o=this._hoveredLayer;o&&(xe(this._container,"leaflet-interactive"),this._fireEvent([o],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,o){if(!this._mouseHoverThrottled){for(var h,x,T=this._drawFirst;T;T=T.next)h=T.layer,h.options.interactive&&h._containsPoint(o)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(r),x&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([x],r,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(N(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,o,h){this._map._fireDOMEvent(o,h||o.type,r)},_bringToFront:function(r){var o=r._order;if(o){var h=o.next,x=o.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(r)}},_bringToBack:function(r){var o=r._order;if(o){var h=o.next,x=o.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(r)}}});function ps(r){return Gt.canvas?new Yr(r):null}var Un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ya={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var o=r._container=Un("shape");Jt(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",r._path=Un("path"),o.appendChild(r._path),this._updateStyle(r),this._layers[z(r)]=r},_addPath:function(r){var o=r._container;this._container.appendChild(o),r.options.interactive&&r.addInteractiveTarget(o)},_removePath:function(r){var o=r._container;Oe(o),r.removeInteractiveTarget(o),delete this._layers[z(r)]},_updateStyle:function(r){var o=r._stroke,h=r._fill,x=r.options,T=r._container;T.stroked=!!x.stroke,T.filled=!!x.fill,x.stroke?(o||(o=r._stroke=Un("stroke")),T.appendChild(o),o.weight=x.weight+"px",o.color=x.color,o.opacity=x.opacity,x.dashArray?o.dashStyle=mt(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=x.lineCap.replace("butt","flat"),o.joinstyle=x.lineJoin):o&&(T.removeChild(o),r._stroke=null),x.fill?(h||(h=r._fill=Un("fill")),T.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(T.removeChild(h),r._fill=null)},_updateCircle:function(r){var o=r._point.round(),h=Math.round(r._radius),x=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(r,o){r._path.v=o},_bringToFront:function(r){an(r._container)},_bringToBack:function(r){Gi(r._container)}},Qi=Gt.vml?Un:fe,jn=qn.extend({_initContainer:function(){this._container=Qi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Oe(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var r=this._bounds,o=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),Ce(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(r){var o=r._path=Qi("path");r.options.className&&Jt(o,r.options.className),r.options.interactive&&Jt(o,"leaflet-interactive"),this._updateStyle(r),this._layers[z(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Oe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[z(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var o=r._path,h=r.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(r,o){this._setPath(r,Ii(r._parts,o))},_updateCircle:function(r){var o=r._point,h=Math.max(Math.round(r._radius),1),x=Math.max(Math.round(r._radiusY),1)||h,T="a"+h+","+x+" 0 1,0 ",O=r._empty()?"M0 0":"M"+(o.x-h)+","+o.y+T+h*2+",0 "+T+-h*2+",0 ";this._setPath(r,O)},_setPath:function(r,o){r._path.setAttribute("d",o)},_bringToFront:function(r){an(r._path)},_bringToBack:function(r){Gi(r._path)}});Gt.vml&&jn.include(Ya);function ys(r){return Gt.svg||Gt.vml?new jn(r):null}$t.include({getRenderer:function(r){var o=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var o=this._paneRenderers[r];return o===void 0&&(o=this._createRenderer({pane:r}),this._paneRenderers[r]=o),o},_createRenderer:function(r){return this.options.preferCanvas&&ps(r)||ys(r)}});var ii=Zr.extend({initialize:function(r,o){Zr.prototype.initialize.call(this,this._boundsToLatLngs(r),o)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=dt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function ia(r,o){return new ii(r,o)}jn.create=Qi,jn.pointsToPath=Ii,On.geometryToLayer=vs,On.coordsToLatLng=Li,On.coordsToLatLngs=_s,On.latLngToCoords=Hr,On.latLngsToCoords=En,On.getFeature=Sn,On.asFeature=u,$t.mergeOptions({boxZoom:!0});var xs=ei.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Oe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ci(),Xs(),this._startPoint=this._map.mouseEventToContainerPoint(r),ee(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var o=new it(this._point,this._startPoint),h=o.getSize();Ce(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Oe(this._box),xe(this._container,"leaflet-crosshair")),$n(),_r(),Te(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(N(this._resetState,this),0);var o=new bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",xs),$t.mergeOptions({doubleClickZoom:!0});var Xa=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var o=this._map,h=o.getZoom(),x=o.options.zoomDelta,T=r.originalEvent.shiftKey?h-x:h+x;o.options.doubleClickZoom==="center"?o.setZoom(T):o.setZoomAround(r.containerPoint,T)}});$t.addInitHook("addHandler","doubleClickZoom",Xa),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fa=ei.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ji(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=dt(this._map.options.maxBounds);this._offsetLimit=yt(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,o){return r-(r-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;r.x<o.min.x&&(r.x=this._viscousLimit(r.x,o.min.x)),r.y<o.min.y&&(r.y=this._viscousLimit(r.y,o.min.y)),r.x>o.max.x&&(r.x=this._viscousLimit(r.x,o.max.x)),r.y>o.max.y&&(r.y=this._viscousLimit(r.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,o=Math.round(r/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,T=(x-o+h)%r+o-h,O=(x+o+h)%r-o-h,F=Math.abs(T+h)<Math.abs(O+h)?T:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(r){var o=this._map,h=o.options,x=!h.inertia||r.noInertia||this._times.length<2;if(o.fire("dragend",r),x)o.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,F=h.easeLinearity,ut=T.multiplyBy(F/O),gt=ut.distanceTo([0,0]),Et=Math.min(h.inertiaMaxSpeed,gt),zt=ut.multiplyBy(Et/gt),Qt=Et/(h.inertiaDeceleration*F),se=zt.multiplyBy(-Qt/2).round();!se.x&&!se.y?o.fire("moveend"):(se=o._limitOffset(se,o.options.maxBounds),J(function(){o.panBy(se,{duration:Qt,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",Fa),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ri=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ee(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,o=document.documentElement,h=r.scrollTop||o.scrollTop,x=r.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var o=this._panKeys={},h=this.keyCodes,x,T;for(x=0,T=h.left.length;x<T;x++)o[h.left[x]]=[-1*r,0];for(x=0,T=h.right.length;x<T;x++)o[h.right[x]]=[r,0];for(x=0,T=h.down.length;x<T;x++)o[h.down[x]]=[0,r];for(x=0,T=h.up.length;x<T;x++)o[h.up[x]]=[0,-1*r]},_setZoomDelta:function(r){var o=this._zoomKeys={},h=this.keyCodes,x,T;for(x=0,T=h.zoomIn.length;x<T;x++)o[h.zoomIn[x]]=r;for(x=0,T=h.zoomOut.length;x<T;x++)o[h.zoomOut[x]]=-r},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var o=r.keyCode,h=this._map,x;if(o in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[o],r.shiftKey&&(x=R(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(R(x),h.options.maxBounds)),h.options.worldCopyJump){var T=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(T)}else h.panBy(x)}else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ti(r)}}});$t.addInitHook("addHandler","keyboard",ri),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var si=ei.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var o=Dr(r),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(N(this._performZoom,this),x),ti(r)},_performZoom:function(){var r=this._map,o=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,O=h?Math.ceil(T/h)*h:T,F=r._limitZoom(o+(this._delta>0?O:-O))-o;this._delta=0,this._startTime=null,F&&(r.options.scrollWheelZoom==="center"?r.setZoom(o+F):r.setZoomAround(this._lastMousePos,o+F))}});$t.addInitHook("addHandler","scrollWheelZoom",si);var Es=600;$t.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var Ki=ei.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var o=r.touches[0];this._startPos=this._newPos=new G(o.clientX,o.clientY),this._holdTimeout=setTimeout(N(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Ae),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Es),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Te(document,"touchend",Ae),Te(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(r){var o=r.touches[0];this._newPos=new G(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,o){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});$t.addInitHook("addHandler","tapHold",Ki),$t.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var Ji=ei.extend({addHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var o=this._map;if(!(!r.touches||r.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(r.touches[0]),x=o.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Ae(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(r.touches[0]),x=o.mouseEventToContainerPoint(r.touches[1]),T=h.distanceTo(x)/this._startDist;if(this._zoom=o.getScaleZoom(T,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&T<1||this._zoom>o.getMaxZoom()&&T>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var O=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(T===1&&O.x===0&&O.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var F=N(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(F,this,!0),Ae(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",Ji),$t.BoxZoom=xs,$t.DoubleClickZoom=Xa,$t.Drag=Fa,$t.Keyboard=ri,$t.ScrollWheelZoom=si,$t.TapHold=Ki,$t.TouchZoom=Ji,g.Bounds=it,g.Browser=Gt,g.CRS=ne,g.Canvas=Yr,g.Circle=na,g.CircleMarker=Gr,g.Class=V,g.Control=Nn,g.DivIcon=Zt,g.DivOverlay=$,g.DomEvent=Qu,g.DomUtil=Ti,g.Draggable=ji,g.Evented=Q,g.FeatureGroup=Pn,g.GeoJSON=On,g.GridLayer=re,g.Handler=ei,g.Icon=Br,g.ImageOverlay=c,g.LatLng=Tt,g.LatLngBounds=bt,g.Layer=ni,g.LayerGroup=Sr,g.LineUtil=Ws,g.Map=$t,g.Marker=Ur,g.Mixin=$u,g.Path=Ni,g.Point=G,g.PolyUtil=zn,g.Polygon=Zr,g.Polyline=fi,g.Popup=lt,g.PosAnimation=ds,g.Projection=_u,g.Rectangle=ii,g.Renderer=qn,g.SVG=jn,g.SVGOverlay=M,g.TileLayer=pe,g.Tooltip=At,g.Transformation=Dt,g.Util=tt,g.VideoOverlay=E,g.bind=N,g.bounds=yt,g.canvas=ps,g.circle=no,g.circleMarker=Ga,g.control=on,g.divIcon=de,g.extend=p,g.featureGroup=Pr,g.geoJSON=i,g.geoJson=a,g.gridLayer=we,g.icon=ea,g.imageOverlay=_,g.latLng=wt,g.latLngBounds=dt,g.layerGroup=Ba,g.map=Fi,g.marker=Ua,g.point=R,g.polygon=Ln,g.polyline=Za,g.popup=xt,g.rectangle=ia,g.setOptions=kt,g.stamp=z,g.svg=ys,g.svgOverlay=P,g.tileLayer=be,g.tooltip=Bt,g.transformation=Z,g.version=v,g.videoOverlay=w;var Ss=window.L;g.noConflict=function(){return window.L=Ss,this},window.L=g})}(Po,Po.exports)),Po.exports}var hu=vp();function hc(d,m,g){return Object.freeze({instance:d,context:m,container:g})}function fc(d,m){return m==null?function(v,p){const b=te.useRef(void 0);return b.current||(b.current=d(v,p)),b}:function(v,p){const b=te.useRef(void 0);b.current||(b.current=d(v,p));const N=te.useRef(v),{instance:S}=b.current;return te.useEffect(function(){N.current!==v&&(m(S,v,N.current),N.current=v)},[S,v,m]),b}}function Wm(d,m){te.useEffect(function(){return(m.layerContainer??m.map).addLayer(d.instance),function(){var b;(b=m.layerContainer)==null||b.removeLayer(d.instance),m.map.removeLayer(d.instance)}},[m,d])}function $m(d){return function(g){const v=lc(),p=d(cc(g,v),v);return Qm(v.map,g.attribution),Ef(p.current,g.eventHandlers),Wm(p.current,v),p}}function _p(d,m){const g=te.useRef(void 0);te.useEffect(function(){if(m.pathOptions!==g.current){const p=m.pathOptions??{};d.instance.setStyle(p),g.current=p}},[d,m])}function pp(d){return function(g){const v=lc(),p=d(cc(g,v),v);return Ef(p.current,g.eventHandlers),Wm(p.current,v),_p(p.current,g),p}}function yp(d,m){const g=fc(d,m),v=$m(g);return Jm(v)}function xp(d,m){const g=fc(d),v=gp(g,m);return fp(v)}function Ep(d,m){const g=fc(d,m),v=pp(g);return Jm(v)}function Sp(d,m){const g=fc(d,m),v=$m(g);return dp(v)}function Tp(d,m,g){const{opacity:v,zIndex:p}=m;v!=null&&v!==g.opacity&&d.setOpacity(v),p!=null&&p!==g.zIndex&&d.setZIndex(p)}function wp(){return lc().map}const tv=Ep(function({data:m,...g},v){const p=new hu.GeoJSON(m,g);return hc(p,Km(v,{overlayContainer:p}))},function(m,g,v){g.style!==v.style&&(g.style==null?m.resetStyle():m.setStyle(g.style))}),ev=yp(function({children:m,...g},v){const p=new hu.LayerGroup([],g);return hc(p,Km(v,{layerContainer:p}))});function bp({bounds:d,boundsOptions:m,center:g,children:v,className:p,id:b,placeholder:N,style:S,whenReady:z,zoom:A,...H},q){const[K]=te.useState({className:p,id:b,style:S}),[nt,at]=te.useState(null),kt=te.useRef(void 0);te.useImperativeHandle(q,()=>(nt==null?void 0:nt.map)??null,[nt]);const Mt=te.useCallback(st=>{if(st!==null&&!kt.current){const mt=new hu.Map(st,H);kt.current=mt,g!=null&&A!=null?mt.setView(g,A):d!=null&&mt.fitBounds(d,m),z!=null&&mt.whenReady(z),at(hp(mt))}},[]);te.useEffect(()=>()=>{nt==null||nt.map.remove()},[nt]);const Pt=nt?af.createElement(xf,{value:nt},v):N??null;return af.createElement("div",{...K,ref:Mt},Pt)}const kp=te.forwardRef(bp),Np=Sp(function({url:m,...g},v){const p=new hu.TileLayer(m,cc(g,v));return hc(p,v)},function(m,g,v){Tp(m,g,v);const{url:p}=g;p!=null&&p!==v.url&&m.setUrl(p)}),Lp=xp(function(m,g){const v=new hu.Tooltip(m,g.overlayContainer);return hc(v,g)},function(m,g,{position:v},p){te.useEffect(function(){const N=g.overlayContainer;if(N==null)return;const{instance:S}=m,z=H=>{H.tooltip===S&&(v!=null&&S.setLatLng(v),S.update(),p(!0))},A=H=>{H.tooltip===S&&p(!1)};return N.on({tooltipopen:z,tooltipclose:A}),N.bindTooltip(S),function(){N.off({tooltipopen:z,tooltipclose:A}),N._map!=null&&N.unbindTooltip()}},[m,g,p,v])}),Op="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Mp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Rp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function Cp(){return ce.jsx("header",{className:"p-2 flex gap-4 border-b",children:ce.jsx("span",{children:"Jet Lag Companion"})})}const um={boundary:{points:[]},stations:{show:!0,busRouteThreshold:2,trainRouteThreshold:1}};function Ap(){const d=window.localStorage.getItem("stations_bus_routes"),m=window.localStorage.getItem("stations_train_routes");return{boundary:{points:JSON.parse(window.localStorage.getItem("boundary_points")??"[]")},stations:{show:window.localStorage.getItem("stations_show")==="true",busRouteThreshold:d?parseInt(d,10):um.stations.busRouteThreshold,trainRouteThreshold:m?parseInt(m,10):um.stations.trainRouteThreshold}}}function Ip(d){window.localStorage.setItem("boundary_points",JSON.stringify(d.boundary.points)),window.localStorage.setItem("stations_show",d.stations.show.toString()),window.localStorage.setItem("stations_bus_routes",d.stations.busRouteThreshold.toString()),window.localStorage.setItem("stations_train_routes",d.stations.trainRouteThreshold.toString())}const Fl=Ap(),Dp={boundaryPoints:[],setBoundaryPoints:()=>{},boundaryEditing:!1,setBoundaryEditing:()=>{},boundaryErrors:new Set,setBoundaryErrors:()=>{},showStations:Fl.stations.show,busRouteThreshold:2,trainRouteThreshold:1,stations:[],setStations:()=>{},hovering:"",setHovering:()=>{},save:()=>{}},zp=[[-122.432753,47.599258],[-122.13657886784392,47.59631121360593],[-122.13512227280195,47.356092023685264],[-122.43615191480433,47.360696681973934],[-122.432753,47.599258]],Ho=te.createContext(Dp);function Pp({children:d}){const[m,g]=te.useState(zp),[v,p]=te.useState(!1),[b,N]=te.useState(new Set),[S,z]=te.useState(Fl.stations.show),[A,H]=te.useState(Fl.stations.busRouteThreshold),[q,K]=te.useState(Fl.stations.trainRouteThreshold),[nt,at]=te.useState([]),[kt,Mt]=te.useState(""),Pt={boundaryPoints:m,setBoundaryPoints:g,boundaryEditing:v,setBoundaryEditing:p,boundaryErrors:b,setBoundaryErrors:N,showStations:S,busRouteThreshold:A,trainRouteThreshold:q,stations:nt,setStations:at,hovering:kt,setHovering:Mt,save:st=>{var mt,It,pt,Lt,Ct;((mt=st.boundary)==null?void 0:mt.points)!==void 0&&g(st.boundary.points),((It=st.stations)==null?void 0:It.show)!==void 0&&z(st.stations.show),((pt=st.stations)==null?void 0:pt.busRouteThreshold)!==void 0&&H(st.stations.busRouteThreshold),((Lt=st.stations)==null?void 0:Lt.trainRouteThreshold)!==void 0&&K(st.stations.trainRouteThreshold),Ip({boundary:{points:((Ct=st.boundary)==null?void 0:Ct.points)??[]},stations:{show:S,busRouteThreshold:A,trainRouteThreshold:q,...st.stations}})}};return ce.jsx(Ho.Provider,{value:Pt,children:d})}var gi=63710088e-1,nv={centimeters:gi*100,centimetres:gi*100,degrees:360/(2*Math.PI),feet:gi*3.28084,inches:gi*39.37,kilometers:gi/1e3,kilometres:gi/1e3,meters:gi,metres:gi,miles:gi/1609.344,millimeters:gi*1e3,millimetres:gi*1e3,nauticalmiles:gi/1852,radians:1,yards:gi*1.0936};function dc(d,m,g={}){const v={type:"Feature"};return(g.id===0||g.id)&&(v.id=g.id),g.bbox&&(v.bbox=g.bbox),v.properties=m||{},v.geometry=d,v}function gc(d,m,g={}){if(!d)throw new Error("coordinates is required");if(!Array.isArray(d))throw new Error("coordinates must be an Array");if(d.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lm(d[0])||!lm(d[1]))throw new Error("coordinates must contain numbers");return dc({type:"Point",coordinates:d},m,g)}function mc(d,m,g={}){for(const p of d){if(p.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(p[p.length-1].length!==p[0].length)throw new Error("First and last Position are not equivalent.");for(let b=0;b<p[p.length-1].length;b++)if(p[p.length-1][b]!==p[0][b])throw new Error("First and last Position are not equivalent.")}return dc({type:"Polygon",coordinates:d},m,g)}function lu(d,m={}){const g={type:"FeatureCollection"};return m.id&&(g.id=m.id),m.bbox&&(g.bbox=m.bbox),g.features=d,g}function Bp(d,m,g={}){return dc({type:"MultiPolygon",coordinates:d},m,g)}function qp(d,m="kilometers"){const g=nv[m];if(!g)throw new Error(m+" units is invalid");return d*g}function iv(d,m="kilometers"){const g=nv[m];if(!g)throw new Error(m+" units is invalid");return d/g}function om(d){return d%(2*Math.PI)*180/Math.PI}function $h(d){return d%360*Math.PI/180}function lm(d){return!isNaN(d)&&d!==null&&!Array.isArray(d)}function Up(d){if(!d)throw new Error("coord is required");if(!Array.isArray(d)){if(d.type==="Feature"&&d.geometry!==null&&d.geometry.type==="Point")return[...d.geometry.coordinates];if(d.type==="Point")return[...d.coordinates]}if(Array.isArray(d)&&d.length>=2&&!Array.isArray(d[0])&&!Array.isArray(d[1]))return[...d];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Gp(d,m,g,v={}){const p=Up(d),b=$h(p[0]),N=$h(p[1]),S=$h(g),z=iv(m,v.units),A=Math.asin(Math.sin(N)*Math.cos(z)+Math.cos(N)*Math.sin(z)*Math.cos(S)),H=b+Math.atan2(Math.sin(S)*Math.sin(z)*Math.cos(N),Math.cos(z)-Math.sin(N)*Math.sin(A)),q=om(H),K=om(A);return gc([q,K],v.properties)}function rv(d,m,g){if(d!==null)for(var v,p,b,N,S,z,A,H=0,q=0,K,nt=d.type,at=nt==="FeatureCollection",kt=nt==="Feature",Mt=at?d.features.length:1,Pt=0;Pt<Mt;Pt++){A=at?d.features[Pt].geometry:kt?d.geometry:d,K=A?A.type==="GeometryCollection":!1,S=K?A.geometries.length:1;for(var st=0;st<S;st++){var mt=0,It=0;if(N=K?A.geometries[st]:A,N!==null){z=N.coordinates;var pt=N.type;switch(H=0,pt){case null:break;case"Point":if(m(z,q,Pt,mt,It)===!1)return!1;q++,mt++;break;case"LineString":case"MultiPoint":for(v=0;v<z.length;v++){if(m(z[v],q,Pt,mt,It)===!1)return!1;q++,pt==="MultiPoint"&&mt++}pt==="LineString"&&mt++;break;case"Polygon":case"MultiLineString":for(v=0;v<z.length;v++){for(p=0;p<z[v].length-H;p++){if(m(z[v][p],q,Pt,mt,It)===!1)return!1;q++}pt==="MultiLineString"&&mt++,pt==="Polygon"&&It++}pt==="Polygon"&&mt++;break;case"MultiPolygon":for(v=0;v<z.length;v++){for(It=0,p=0;p<z[v].length;p++){for(b=0;b<z[v][p].length-H;b++){if(m(z[v][p][b],q,Pt,mt,It)===!1)return!1;q++}It++}mt++}break;case"GeometryCollection":for(v=0;v<N.geometries.length;v++)if(rv(N.geometries[v],m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function cm(d,m){if(d.type==="Feature")m(d,0);else if(d.type==="FeatureCollection")for(var g=0;g<d.features.length&&m(d.features[g],g)!==!1;g++);}function Sf(d,m){var g,v,p,b,N,S,z,A,H,q,K=0,nt=d.type==="FeatureCollection",at=d.type==="Feature",kt=nt?d.features.length:1;for(g=0;g<kt;g++){for(S=nt?d.features[g].geometry:at?d.geometry:d,A=nt?d.features[g].properties:at?d.properties:{},H=nt?d.features[g].bbox:at?d.bbox:void 0,q=nt?d.features[g].id:at?d.id:void 0,z=S?S.type==="GeometryCollection":!1,N=z?S.geometries.length:1,p=0;p<N;p++){if(b=z?S.geometries[p]:S,b===null){if(m(null,K,A,H,q)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(m(b,K,A,H,q)===!1)return!1;break}case"GeometryCollection":{for(v=0;v<b.geometries.length;v++)if(m(b.geometries[v],K,A,H,q)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}K++}}function sv(d,m={}){if(d.bbox!=null&&m.recompute!==!0)return d.bbox;const g=[1/0,1/0,-1/0,-1/0];return rv(d,v=>{g[0]>v[0]&&(g[0]=v[0]),g[1]>v[1]&&(g[1]=v[1]),g[2]<v[0]&&(g[2]=v[0]),g[3]<v[1]&&(g[3]=v[1])}),g}function Zp(d,m={}){const g=sv(d),v=(g[0]+g[2])/2,p=(g[1]+g[3])/2;return gc([v,p],m.properties,m)}var Vl={exports:{}},Hp=Vl.exports,hm;function Yp(){return hm||(hm=1,function(d,m){(function(g,v){d.exports=v()})(Hp,function(){function g(u,e){(e==null||e>u.length)&&(e=u.length);for(var i=0,a=Array(e);i<e;i++)a[i]=u[i];return a}function v(u,e,i){return e=H(e),function(a,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(a)}(u,K()?Reflect.construct(e,i||[],H(u).constructor):e.apply(u,i))}function p(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}function b(u,e,i){if(K())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,e);var c=new(u.bind.apply(u,a));return i&&nt(c,i.prototype),c}function N(u,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,Mt(a.key),a)}}function S(u,e,i){return e&&N(u.prototype,e),i&&N(u,i),Object.defineProperty(u,"prototype",{writable:!1}),u}function z(u,e){var i=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!i){if(Array.isArray(u)||(i=Pt(u))||e){i&&(u=i);var a=0,c=function(){};return{s:c,n:function(){return a>=u.length?{done:!0}:{done:!1,value:u[a++]}},e:function(M){throw M},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,E=!0,w=!1;return{s:function(){i=i.call(u)},n:function(){var M=i.next();return E=M.done,M},e:function(M){w=!0,_=M},f:function(){try{E||i.return==null||i.return()}finally{if(w)throw _}}}}function A(){return A=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,e,i){var a=function(_,E){for(;!{}.hasOwnProperty.call(_,E)&&(_=H(_))!==null;);return _}(u,e);if(a){var c=Object.getOwnPropertyDescriptor(a,e);return c.get?c.get.call(arguments.length<3?u:i):c.value}},A.apply(null,arguments)}function H(u){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(u)}function q(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),e&&nt(u,e)}function K(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K=function(){return!!u})()}function nt(u,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},nt(u,e)}function at(u,e,i,a){var c=A(H(1&a?u.prototype:u),e,i);return 2&a&&typeof c=="function"?function(_){return c.apply(i,_)}:c}function kt(u){return function(e){if(Array.isArray(e))return g(e)}(u)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(u)||Pt(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mt(u){var e=function(i,a){if(typeof i!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var _=c.call(i,a);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(u,"string");return typeof e=="symbol"?e:e+""}function Pt(u,e){if(u){if(typeof u=="string")return g(u,e);var i={}.toString.call(u).slice(8,-1);return i==="Object"&&u.constructor&&(i=u.constructor.name),i==="Map"||i==="Set"?Array.from(u):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(u,e):void 0}}function st(u){var e=typeof Map=="function"?new Map:void 0;return st=function(i){if(i===null||!function(c){try{return Function.toString.call(c).indexOf("[native code]")!==-1}catch{return typeof c=="function"}}(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,a)}function a(){return b(i,arguments,H(this).constructor)}return a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),nt(a,i)},st(u)}var mt=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=u.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=u.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==u.JOIN_ROUND&&(this._quadrantSegments=u.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=u.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=u.CAP_ROUND,this._joinStyle=u.JOIN_ROUND,this._mitreLimit=u.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=u.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setQuadrantSegments(e)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(_),this.setJoinStyle(E),this.setMitreLimit(w)}}}},{key:"bufferDistanceError",value:function(e){var i=Math.PI/2/e;return 1-Math.cos(i/2)}}])}();mt.CAP_ROUND=1,mt.CAP_FLAT=2,mt.CAP_SQUARE=3,mt.JOIN_ROUND=1,mt.JOIN_MITRE=2,mt.JOIN_BEVEL=3,mt.DEFAULT_QUADRANT_SEGMENTS=8,mt.DEFAULT_MITRE_LIMIT=5,mt.DEFAULT_SIMPLIFY_FACTOR=.01;var It=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({Exception:e})[0],a}return q(e,u),S(e,[{key:"toString",value:function(){return this.message}}])}(st(Error)),pt=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({IllegalArgumentException:e})[0],a}return q(e,u),S(e)}(It),Lt=function(){return S(function u(){p(this,u)},[{key:"filter",value:function(u){}}])}();function Ct(){}function I(){}function C(){}var U,J,j,tt,V,X,B,Q,G=function(){return S(function u(){p(this,u)},null,[{key:"equalsWithTolerance",value:function(u,e,i){return Math.abs(u-e)<=i}}])}(),ht=function(){return S(function u(e,i){p(this,u),this.low=i||0,this.high=e||0},null,[{key:"toBinaryString",value:function(u){var e,i="";for(e=2147483648;e>0;e>>>=1)i+=(u.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)i+=(u.low&e)===e?"1":"0";return i}}])}();function R(){}function it(){}R.NaN=NaN,R.isNaN=function(u){return Number.isNaN(u)},R.isInfinite=function(u){return!Number.isFinite(u)},R.MAX_VALUE=Number.MAX_VALUE,R.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,R.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(X=2146435072,B=new Float64Array(1),Q=new Int32Array(B.buffer),R.doubleToLongBits=function(u){B[0]=u;var e=0|Q[0],i=0|Q[1];return(i&X)===X&&1048575&i&&e!==0&&(e=0,i=2146959360),new ht(i,e)},R.longBitsToDouble=function(u){return Q[0]=u.low,Q[1]=u.high,B[0]}):(U=1023,J=Math.log2,j=Math.floor,tt=Math.pow,V=function(){for(var u=53;u>0;u--){var e=tt(2,u)-1;if(j(J(e))+1===u)return e}return 0}(),R.doubleToLongBits=function(u){var e,i,a,c,_,E,w,M,P;if(u<0||1/u===Number.NEGATIVE_INFINITY?(E=1<<31,u=-u):E=0,u===0)return new ht(M=E,P=0);if(u===1/0)return new ht(M=2146435072|E,P=0);if(u!=u)return new ht(M=2146959360,P=0);if(c=0,P=0,(e=j(u))>1)if(e<=V)(c=j(J(e)))<=20?(P=0,M=e<<20-c&1048575):(P=e%(i=tt(2,a=c-20))<<32-a,M=e/i&1048575);else for(a=e,P=0;(a=j(i=a/2))!==0;)c++,P>>>=1,P|=(1&M)<<31,M>>>=1,i!==a&&(M|=524288);if(w=c+U,_=e===0,e=u-e,c<52&&e!==0)for(a=0;;){if((i=2*e)>=1?(e=i-1,_?(w--,_=!1):(a<<=1,a|=1,c++)):(e=i,_?--w==0&&(c++,_=!1):(a<<=1,c++)),c===20)M|=a,a=0;else if(c===52){P|=a;break}if(i===1){c<20?M|=a<<20-c:c<52&&(P|=a<<52-c);break}}return M|=w<<20,new ht(M|=E,P)},R.longBitsToDouble=function(u){var e,i,a,c,_=u.high,E=u.low,w=_&1<<31?-1:1;for(a=((2146435072&_)>>20)-U,c=0,i=1<<19,e=1;e<=20;e++)_&i&&(c+=tt(2,-e)),i>>>=1;for(i=1<<31,e=21;e<=52;e++)E&i&&(c+=tt(2,-e)),i>>>=1;if(a===-1023){if(c===0)return 0*w;a=-1022}else{if(a===1024)return c===0?w/0:NaN;c+=1}return w*c*tt(2,a)});var yt=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({RuntimeException:e})[0],a}return q(e,u),S(e)}(It),bt=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,null,[{key:"constructor_",value:function(){if(arguments.length===0)yt.constructor_.call(this);else if(arguments.length===1){var i=arguments[0];yt.constructor_.call(this,i)}}}])}(yt),dt=function(){function u(){p(this,u)}return S(u,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)u.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new bt("Should never reach here"+(e!==null?": "+e:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var e=arguments[0];u.isTrue(e,null)}else if(arguments.length===2){var i=arguments[1];if(!arguments[0])throw i===null?new bt:new bt(i)}}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];u.equals(e,i,null)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],_=arguments[2];if(!c.equals(a))throw new bt("Expected "+a+" but encountered "+c+(_!==null?": "+_:""))}}}])}(),Tt=new ArrayBuffer(8),wt=new Float64Array(Tt),ne=new Int32Array(Tt),W=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getM",value:function(){return R.NaN}},{key:"setOrdinate",value:function(e,i){switch(e){case u.X:this.x=i;break;case u.Y:this.y=i;break;case u.Z:this.setZ(i);break;default:throw new pt("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var i=arguments[0],a=arguments[1];return!!G.equalsWithTolerance(this.x,i.x,a)&&!!G.equalsWithTolerance(this.y,i.y,a)}}},{key:"setM",value:function(e){throw new pt("Invalid ordinate index: "+u.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case u.X:return this.x;case u.Y:return this.y;case u.Z:return this.getZ()}throw new pt("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||R.isNaN(this.getZ())&&R.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof u&&this.equals2D(e)}},{key:"equalInZ",value:function(e,i){return G.equalsWithTolerance(this.getZ(),e.getZ(),i)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var i=e;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return dt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new u(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var i=this.x-e.x,a=this.y-e.y,c=this.getZ()-e.getZ();return Math.sqrt(i*i+a*a+c*c)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var i=this.x-e.x,a=this.y-e.y;return Math.sqrt(i*i+a*a)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*e+u.hashCode(this.x))+u.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[Ct,I,C]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)u.constructor_.call(this,0,0);else if(arguments.length===1){var e=arguments[0];u.constructor_.call(this,e.x,e.y,e.getZ())}else if(arguments.length===2){var i=arguments[0],a=arguments[1];u.constructor_.call(this,i,a,u.NULL_ORDINATE)}else if(arguments.length===3){var c=arguments[0],_=arguments[1],E=arguments[2];this.x=c,this.y=_,this.z=E}}},{key:"hashCode",value:function(e){return wt[0]=e,ne[0]^ne[1]}}])}(),Me=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"compare",value:function(e,i){var a=u.compare(e.x,i.x);if(a!==0)return a;var c=u.compare(e.y,i.y);return c!==0?c:this._dimensionsToTest<=2?0:u.compare(e.getZ(),i.getZ())}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)u.constructor_.call(this,2);else if(arguments.length===1){var e=arguments[0];if(e!==2&&e!==3)throw new pt("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,i){return e<i?-1:e>i?1:R.isNaN(e)?R.isNaN(i)?0:-1:R.isNaN(i)?1:0}}])}();W.DimensionalComparator=Me,W.NULL_ORDINATE=R.NaN,W.X=0,W.Y=1,W.Z=2,W.M=3;var Yt=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof u))return!1;var i=e;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new u;var i=this._minx>e._minx?this._minx:e._minx,a=this._miny>e._miny?this._miny:e._miny;return new u(i,this._maxx<e._maxx?this._maxx:e._maxx,a,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof W){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof u){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return!this.isNull()&&a>=this._minx&&a<=this._maxx&&c>=this._miny&&c<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof W){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){if(arguments[0]instanceof W&&arguments[1]instanceof W){var a=arguments[0],c=arguments[1];return!this.isNull()&&!((a.x<c.x?a.x:c.x)>this._maxx)&&!((a.x>c.x?a.x:c.x)<this._minx)&&!((a.y<c.y?a.y:c.y)>this._maxy)&&!((a.y>c.y?a.y:c.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var _=arguments[0],E=arguments[1];return!this.isNull()&&!(_>this._maxx||_<this._minx||E>this._maxy||E<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return Math.sqrt(e*e+i*i)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof W){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof u){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.isNull()?(this._minx=a,this._maxx=a,this._miny=c,this._maxy=c):(a<this._minx&&(this._minx=a),a>this._maxx&&(this._maxx=a),c<this._miny&&(this._miny=c),c>this._maxy&&(this._maxy=c))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e<i?e:i}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var i=e;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0}},{key:"translate",value:function(e,i){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+i,this.getMaxY()+i)}},{key:"copy",value:function(){return new u(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e>i?e:i}},{key:"expandBy",value:function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=a,this._maxy+=a,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof W){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return this.covers(a,c)}}},{key:"centre",value:function(){return this.isNull()?null:new W((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof W){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof u){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var _=arguments[0],E=arguments[1],w=arguments[2],M=arguments[3];_<E?(this._minx=_,this._maxx=E):(this._minx=E,this._maxx=_),w<M?(this._miny=w,this._maxy=M):(this._miny=M,this._maxy=w)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var i=0;this._maxx<e._minx?i=e._minx-this._maxx:this._minx>e._maxx&&(i=this._minx-e._maxx);var a=0;return this._maxy<e._miny?a=e._miny-this._maxy:this._miny>e._maxy&&(a=this._miny-e._maxy),i===0?a:a===0?i:Math.sqrt(i*i+a*a)}},{key:"hashCode",value:function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+W.hashCode(this._minx))+W.hashCode(this._maxx))+W.hashCode(this._miny))+W.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[Ct,C]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof W){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof u){var i=arguments[0];this.init(i)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var _=arguments[0],E=arguments[1],w=arguments[2],M=arguments[3];this.init(_,E,w,M)}}},{key:"intersects",value:function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],a=arguments[2];return a.x>=(e.x<i.x?e.x:i.x)&&a.x<=(e.x>i.x?e.x:i.x)&&a.y>=(e.y<i.y?e.y:i.y)&&a.y<=(e.y>i.y?e.y:i.y)}if(arguments.length===4){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3],M=Math.min(E.x,w.x),P=Math.max(E.x,w.x),$=Math.min(c.x,_.x),lt=Math.max(c.x,_.x);return!($>P)&&!(lt<M)&&(M=Math.min(E.y,w.y),P=Math.max(E.y,w.y),$=Math.min(c.y,_.y),lt=Math.max(c.y,_.y),!($>P)&&!(lt<M))}}}])}(),Dt=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(u.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return e!==null&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(arguments.length===1){var i=arguments[0];return e=i,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(i)}if(arguments.length===2){var a=arguments[0],c=arguments[1];return e=a,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(a,c)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION)throw new pt("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,i,a){return a===0?e.equals(i):e.distance(i)<=a}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return this.envelope!=null&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=this._envelope==null?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Yt(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,i){for(var a=e.iterator(),c=i.iterator();a.hasNext()&&c.hasNext();){var _=a.next(),E=c.next(),w=_.compareTo(E);if(w!==0)return w}return a.hasNext()?1:c.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===u.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===u.TYPECODE_MULTIPOINT||this.getTypeCode()===u.TYPECODE_MULTILINESTRING||this.getTypeCode()===u.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[I,Ct,C]}},{key:"getClass",value:function(){return u}}],[{key:"hasNonEmptyElements",value:function(e){for(var i=0;i<e.length;i++)if(!e[i].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var i=0;i<e.length;i++)if(e[i]===null)return!0;return!1}}])}();Dt.constructor_=function(u){u&&(this._envelope=null,this._userData=null,this._factory=u,this._SRID=u.getSRID())},Dt.TYPECODE_POINT=0,Dt.TYPECODE_MULTIPOINT=1,Dt.TYPECODE_LINESTRING=2,Dt.TYPECODE_LINEARRING=3,Dt.TYPECODE_MULTILINESTRING=4,Dt.TYPECODE_POLYGON=5,Dt.TYPECODE_MULTIPOLYGON=6,Dt.TYPECODE_GEOMETRYCOLLECTION=7,Dt.TYPENAME_POINT="Point",Dt.TYPENAME_MULTIPOINT="MultiPoint",Dt.TYPENAME_LINESTRING="LineString",Dt.TYPENAME_LINEARRING="LinearRing",Dt.TYPENAME_MULTILINESTRING="MultiLineString",Dt.TYPENAME_POLYGON="Polygon",Dt.TYPENAME_MULTIPOLYGON="MultiPolygon",Dt.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Dt.geometryChangedFilter={get interfaces_(){return[Lt]},filter:function(u){u.geometryChangedAction()}};var Z=function(){function u(){p(this,u)}return S(u,null,[{key:"toLocationSymbol",value:function(e){switch(e){case u.EXTERIOR:return"e";case u.BOUNDARY:return"b";case u.INTERIOR:return"i";case u.NONE:return"-"}throw new pt("Unknown location value: "+e)}}])}();Z.INTERIOR=0,Z.BOUNDARY=1,Z.EXTERIOR=2,Z.NONE=-1;var _e=function(){return S(function u(){p(this,u)},[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),ze=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({NoSuchElementException:e})[0],a}return q(e,u),S(e)}(It),fe=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({UnsupportedOperationException:e})[0],a}return q(e,u),S(e)}(It),Ii=function(u){function e(){return p(this,e),v(this,e,arguments)}return q(e,u),S(e,[{key:"contains",value:function(){}}])}(_e),cr=function(u){function e(i){var a;return p(this,e),(a=v(this,e)).map=new Map,i instanceof _e&&a.addAll(i),a}return q(e,u),S(e,[{key:"contains",value:function(i){var a=i.hashCode?i.hashCode():i;return!!this.map.has(a)}},{key:"add",value:function(i){var a=i.hashCode?i.hashCode():i;return!this.map.has(a)&&!!this.map.set(a,i)}},{key:"addAll",value:function(i){var a,c=z(i);try{for(c.s();!(a=c.n()).done;){var _=a.value;this.add(_)}}catch(E){c.e(E)}finally{c.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new hr(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}(Ii),hr=function(){return S(function u(e){p(this,u),this.iterator=e.values();var i=this.iterator.next(),a=i.done,c=i.value;this.done=a,this.value=c},[{key:"next",value:function(){if(this.done)throw new ze;var u=this.value,e=this.iterator.next(),i=e.done,a=e.value;return this.done=i,this.value=a,u}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new fe}}])}(),Ot=function(){function u(){p(this,u)}return S(u,null,[{key:"opposite",value:function(e){return e===u.LEFT?u.RIGHT:e===u.RIGHT?u.LEFT:e}}])}();Ot.ON=0,Ot.LEFT=1,Ot.RIGHT=2;var is=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({EmptyStackException:e})[0],a}return q(e,u),S(e)}(It),Nr=function(u){function e(i){var a;return p(this,e),(a=v(this,e,[i])).name=Object.keys({IndexOutOfBoundsException:e})[0],a}return q(e,u),S(e)}(It),Di=function(u){function e(){return p(this,e),v(this,e,arguments)}return q(e,u),S(e,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(_e),fu=function(u){function e(){var i;return p(this,e),(i=v(this,e)).array=[],i}return q(e,u),S(e,[{key:"add",value:function(i){return this.array.push(i),!0}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new Nr;return this.array[i]}},{key:"push",value:function(i){return this.array.push(i),i}},{key:"pop",value:function(){if(this.array.length===0)throw new is;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new is;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(i){return this.array.indexOf(i)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(Di);function Vt(u,e){return u.interfaces_&&u.interfaces_.indexOf(e)>-1}var rs=function(){return S(function u(e){p(this,u),this.str=e},[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,e){this.str=this.str.substr(0,u)+e+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}])}(),fr=function(){function u(e){p(this,u),this.value=e}return S(u,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,i){return e<i?-1:e>i?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new u(e)}}])}(),ss=function(){return S(function u(){p(this,u)},null,[{key:"isWhitespace",value:function(u){return u<=32&&u>=0||u===127}},{key:"toUpperCase",value:function(u){return u.toUpperCase()}}])}(),Xt=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,i){var a=this.abs(),c=u.magnitude(a._hi),_=u.TEN.pow(c);(a=a.divide(_)).gt(u.TEN)?(a=a.divide(u.TEN),c+=1):a.lt(u.ONE)&&(a=a.multiply(u.TEN),c-=1);for(var E=c+1,w=new rs,M=u.MAX_PRINT_DIGITS-1,P=0;P<=M;P++){e&&P===E&&w.append(".");var $=Math.trunc(a._hi);if($<0)break;var lt=!1,xt=0;$>9?(lt=!0,xt="9"):xt="0"+$,w.append(xt),a=a.subtract(u.valueOf($)).multiply(u.TEN),lt&&a.selfAdd(u.TEN);var At=!0,Bt=u.magnitude(a._hi);if(Bt<0&&Math.abs(Bt)>=M-P&&(At=!1),!At)break}return i[0]=c,w.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof u){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var a,c,_,E,w=arguments[0],M=arguments[1],P=null,$=null,lt=null,xt=null;return _=this._hi/w,xt=(P=(lt=u.SPLIT*_)-(P=lt-_))*($=(xt=u.SPLIT*w)-($=xt-w))-(E=_*w)+P*(c=w-$)+(a=_-P)*$+a*c,xt=_+(lt=(this._hi-E-xt+this._lo-_*M)/w),this._hi=xt,this._lo=_-xt+lt,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof u){var e,i,a,c,_=arguments[0],E=null,w=null,M=null,P=null;return e=(a=this._hi/_._hi)-(E=(M=u.SPLIT*a)-(E=M-a)),P=E*(w=(P=u.SPLIT*_._hi)-(w=P-_._hi))-(c=a*_._hi)+E*(i=_._hi-w)+e*w+e*i,new u(P=a+(M=(this._hi-c-P+this._lo-a*_._lo)/_._hi),a-P+M)}if(typeof arguments[0]=="number"){var $=arguments[0];return R.isNaN($)?u.createNaN():u.copy(this).selfDivide($,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(e===0)return u.valueOf(1);var i=new u(this),a=u.valueOf(1),c=Math.abs(e);if(c>1)for(;c>0;)c%2==1&&a.selfMultiply(i),(c/=2)>0&&(i=i.sqr());else a=i;return e<0?a.reciprocal():a}},{key:"ceil",value:function(){if(this.isNaN())return u.NaN;var e=Math.ceil(this._hi),i=0;return e===this._hi&&(i=Math.ceil(this._lo)),new u(e,i)}},{key:"compareTo",value:function(e){var i=e;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return u.valueOf(0);if(this.isNegative())return u.NaN;var e=1/Math.sqrt(this._hi),i=this._hi*e,a=u.valueOf(i),c=this.subtract(a.sqr())._hi*(.5*e);return a.add(c)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i,a,c,_,E,w=arguments[0],M=null;return M=(c=this._hi+w)-(_=c-this._hi),a=(E=(M=w-_+(this._hi-M))+this._lo)+(c-(i=c+E)),this._hi=i+a,this._lo=a+(i-this._hi),this}}else if(arguments.length===2){var P,$,lt,xt,At=arguments[0],Bt=arguments[1],Zt=null,de=null,re=null;lt=this._hi+At,$=this._lo+Bt,de=lt-(re=lt-this._hi),Zt=$-(xt=$-this._lo);var we=(P=lt+(re=(de=At-re+(this._hi-de))+$))+(re=(Zt=Bt-xt+(this._lo-Zt))+(re+(lt-P))),pe=re+(P-we);return this._hi=we,this._lo=pe,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof u){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var a,c,_=arguments[0],E=arguments[1],w=null,M=null,P=null,$=null;w=(P=u.SPLIT*this._hi)-this._hi,$=u.SPLIT*_,w=P-w,a=this._hi-w,M=$-_;var lt=(P=this._hi*_)+($=w*(M=$-M)-P+w*(c=_-M)+a*M+a*c+(this._hi*E+this._lo*_)),xt=$+(w=P-lt);return this._hi=lt,this._lo=xt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return u.NaN;var e=Math.floor(this._hi),i=0;return e===this._hi&&(i=Math.floor(this._lo)),new u(e,i)}},{key:"negate",value:function(){return this.isNaN()?this:new u(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return e.isNaN()?u.createNaN():u.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return R.isNaN(i)?u.createNaN():u.copy(this).selfMultiply(i,0)}}},{key:"isNaN",value:function(){return R.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=u.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),a=this.extractSignificantDigits(!0,i),c=i[0]+1,_=a;if(a.charAt(0)===".")_="0"+a;else if(c<0)_="0."+u.stringOfChar("0",-c)+a;else if(a.indexOf(".")===-1){var E=c-a.length;_=a+u.stringOfChar("0",E)+".0"}return this.isNegative()?"-"+_:_}},{key:"reciprocal",value:function(){var e,i,a,c,_=null,E=null,w=null,M=null;e=(a=1/this._hi)-(_=(w=u.SPLIT*a)-(_=w-a)),E=(M=u.SPLIT*this._hi)-this._hi;var P=a+(w=(1-(c=a*this._hi)-(M=_*(E=M-E)-c+_*(i=this._hi-E)+e*E+e*i)-a*this._lo)/this._hi);return new u(P,a-P+w)}},{key:"toSciNotation",value:function(){if(this.isZero())return u.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),a=this.extractSignificantDigits(!1,i),c=u.SCI_NOT_EXPONENT_CHAR+i[0];if(a.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+a);var _="";a.length>1&&(_=a.substring(1));var E=a.charAt(0)+"."+_;return this.isNegative()?"-"+E+c:E+c}},{key:"abs",value:function(){return this.isNaN()?u.NaN:this.isNegative()?this.negate():new u(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return u.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return u.copy(this).selfAdd(i)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof u){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this._hi=a,this._lo=c}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?u.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[C,Ct,I]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof u){var i=arguments[0];this.init(i)}else if(typeof arguments[0]=="string"){var a=arguments[0];u.constructor_.call(this,u.parse(a))}}else if(arguments.length===2){var c=arguments[0],_=arguments[1];this.init(c,_)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],a=arguments[2],c=arguments[3];return u.determinant(u.valueOf(e),u.valueOf(i),u.valueOf(a),u.valueOf(c))}if(arguments[3]instanceof u&&arguments[2]instanceof u&&arguments[0]instanceof u&&arguments[1]instanceof u){var _=arguments[1],E=arguments[2],w=arguments[3];return arguments[0].multiply(w).selfSubtract(_.multiply(E))}}},{key:"sqr",value:function(e){return u.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var e=arguments[0];return u.parse(e)}if(typeof arguments[0]=="number")return new u(arguments[0])}},{key:"sqrt",value:function(e){return u.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var i=0,a=e.length;ss.isWhitespace(e.charAt(i));)i++;var c=!1;if(i<a){var _=e.charAt(i);_!=="-"&&_!=="+"||(i++,_==="-"&&(c=!0))}for(var E=new u,w=0,M=0,P=0,$=!1;!(i>=a);){var lt=e.charAt(i);if(i++,ss.isDigit(lt)){var xt=lt-"0";E.selfMultiply(u.TEN),E.selfAdd(xt),w++}else{if(lt!=="."){if(lt==="e"||lt==="E"){var At=e.substring(i);try{P=fr.parseInt(At)}catch(we){throw we instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+At+" in string "+e):we}break}throw new NumberFormatException("Unexpected character '"+lt+"' at position "+i+" in string "+e)}M=w,$=!0}}var Bt=E;$||(M=w);var Zt=w-M-P;if(Zt===0)Bt=E;else if(Zt>0){var de=u.TEN.pow(Zt);Bt=E.divide(de)}else if(Zt<0){var re=u.TEN.pow(-Zt);Bt=E.multiply(re)}return c?Bt.negate():Bt}},{key:"createNaN",value:function(){return new u(R.NaN,R.NaN)}},{key:"copy",value:function(e){return new u(e)}},{key:"magnitude",value:function(e){var i=Math.abs(e),a=Math.log(i)/Math.log(10),c=Math.trunc(Math.floor(a));return 10*Math.pow(10,c)<=i&&(c+=1),c}},{key:"stringOfChar",value:function(e,i){for(var a=new rs,c=0;c<i;c++)a.append(e);return a.toString()}}])}();Xt.PI=new Xt(3.141592653589793,12246467991473532e-32),Xt.TWO_PI=new Xt(6.283185307179586,24492935982947064e-32),Xt.PI_2=new Xt(1.5707963267948966,6123233995736766e-32),Xt.E=new Xt(2.718281828459045,14456468917292502e-32),Xt.NaN=new Xt(R.NaN,R.NaN),Xt.EPS=123259516440783e-46,Xt.SPLIT=134217729,Xt.MAX_PRINT_DIGITS=32,Xt.TEN=Xt.valueOf(10),Xt.ONE=Xt.valueOf(1),Xt.SCI_NOT_EXPONENT_CHAR="E",Xt.SCI_NOT_ZERO="0.0E0";var Oa=function(){function u(){p(this,u)}return S(u,null,[{key:"orientationIndex",value:function(e,i,a){var c=u.orientationIndexFilter(e,i,a);if(c<=1)return c;var _=Xt.valueOf(i.x).selfAdd(-e.x),E=Xt.valueOf(i.y).selfAdd(-e.y),w=Xt.valueOf(a.x).selfAdd(-i.x),M=Xt.valueOf(a.y).selfAdd(-i.y);return _.selfMultiply(M).selfSubtract(E.selfMultiply(w)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Xt&&arguments[2]instanceof Xt&&arguments[0]instanceof Xt&&arguments[1]instanceof Xt){var e=arguments[1],i=arguments[2],a=arguments[3];return arguments[0].multiply(a).selfSubtract(e.multiply(i)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3],M=Xt.valueOf(c),P=Xt.valueOf(_),$=Xt.valueOf(E),lt=Xt.valueOf(w);return M.multiply(lt).selfSubtract(P.multiply($)).signum()}}},{key:"intersection",value:function(e,i,a,c){var _=new Xt(e.y).selfSubtract(i.y),E=new Xt(i.x).selfSubtract(e.x),w=new Xt(e.x).selfMultiply(i.y).selfSubtract(new Xt(i.x).selfMultiply(e.y)),M=new Xt(a.y).selfSubtract(c.y),P=new Xt(c.x).selfSubtract(a.x),$=new Xt(a.x).selfMultiply(c.y).selfSubtract(new Xt(c.x).selfMultiply(a.y)),lt=E.multiply($).selfSubtract(P.multiply(w)),xt=M.multiply(w).selfSubtract(_.multiply($)),At=_.multiply(P).selfSubtract(M.multiply(E)),Bt=lt.selfDivide(At).doubleValue(),Zt=xt.selfDivide(At).doubleValue();return R.isNaN(Bt)||R.isInfinite(Bt)||R.isNaN(Zt)||R.isInfinite(Zt)?null:new W(Bt,Zt)}},{key:"orientationIndexFilter",value:function(e,i,a){var c=null,_=(e.x-a.x)*(i.y-a.y),E=(e.y-a.y)*(i.x-a.x),w=_-E;if(_>0){if(E<=0)return u.signum(w);c=_+E}else{if(!(_<0)||E>=0)return u.signum(w);c=-_-E}var M=u.DP_SAFE_EPSILON*c;return w>=M||-w>=M?u.signum(w):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}])}();Oa.DP_SAFE_EPSILON=1e-15;var he=function(){return S(function u(){p(this,u)},[{key:"getM",value:function(u){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(u,e)}return R.NaN}},{key:"setOrdinate",value:function(u,e,i){}},{key:"getZ",value:function(u){return this.hasZ()?this.getOrdinate(u,2):R.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(u,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(u){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(u){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(u){}},{key:"copy",value:function(){}},{key:"getY",value:function(u){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[I]}}])}();he.X=0,he.Y=1,he.Z=2,he.M=3;var Kt=function(){function u(){p(this,u)}return S(u,null,[{key:"index",value:function(e,i,a){return Oa.orientationIndex(e,i,a)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],i=e.length-1;if(i<3)throw new pt("Ring has fewer than 4 points, so orientation cannot be determined");for(var a=e[0],c=0,_=1;_<=i;_++){var E=e[_];E.y>a.y&&(a=E,c=_)}var w=c;do(w-=1)<0&&(w=i);while(e[w].equals2D(a)&&w!==c);var M=c;do M=(M+1)%i;while(e[M].equals2D(a)&&M!==c);var P=e[w],$=e[M];if(P.equals2D(a)||$.equals2D(a)||P.equals2D($))return!1;var lt=u.index(P,a,$);return lt===0?P.x>$.x:lt>0}if(Vt(arguments[0],he)){var xt=arguments[0],At=xt.size()-1;if(At<3)throw new pt("Ring has fewer than 4 points, so orientation cannot be determined");for(var Bt=xt.getCoordinate(0),Zt=0,de=1;de<=At;de++){var re=xt.getCoordinate(de);re.y>Bt.y&&(Bt=re,Zt=de)}var we=null,pe=Zt;do(pe-=1)<0&&(pe=At),we=xt.getCoordinate(pe);while(we.equals2D(Bt)&&pe!==Zt);var be=null,Bn=Zt;do Bn=(Bn+1)%At,be=xt.getCoordinate(Bn);while(be.equals2D(Bt)&&Bn!==Zt);if(we.equals2D(Bt)||be.equals2D(Bt)||we.equals2D(be))return!1;var Tr=u.index(we,Bt,be);return Tr===0?we.x>be.x:Tr>0}}}])}();Kt.CLOCKWISE=-1,Kt.RIGHT=Kt.CLOCKWISE,Kt.COUNTERCLOCKWISE=1,Kt.LEFT=Kt.COUNTERCLOCKWISE,Kt.COLLINEAR=0,Kt.STRAIGHT=Kt.COLLINEAR;var ju=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(u,e){var i=this.getRightmostSideOfSegment(u,e);return i<0&&(i=this.getRightmostSideOfSegment(u,e-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(u)),i}},{key:"findRightmostEdgeAtVertex",value:function(){var u=this._minDe.getEdge().getCoordinates();dt.isTrue(this._minIndex>0&&this._minIndex<u.length,"rightmost point expected to be interior vertex of edge");var e=u[this._minIndex-1],i=u[this._minIndex+1],a=Kt.index(this._minCoord,i,e),c=!1;(e.y<this._minCoord.y&&i.y<this._minCoord.y&&a===Kt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&i.y>this._minCoord.y&&a===Kt.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(u,e){var i=u.getEdge().getCoordinates();if(e<0||e+1>=i.length||i[e].y===i[e+1].y)return-1;var a=Ot.LEFT;return i[e].y<i[e+1].y&&(a=Ot.RIGHT),a}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(u){for(var e=u.getEdge().getCoordinates(),i=0;i<e.length-1;i++)(this._minCoord===null||e[i].x>this._minCoord.x)&&(this._minDe=u,this._minIndex=i,this._minCoord=e[i])}},{key:"findRightmostEdgeAtNode",value:function(){var u=this._minDe.getNode().getEdges();this._minDe=u.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(u){for(var e=u.iterator();e.hasNext();){var i=e.next();i.isForward()&&this.checkForRightmostCoordinate(i)}dt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ot.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),bn=function(u){function e(i,a){var c;return p(this,e),(c=v(this,e,[a?i+" [ "+a+" ]":i])).pt=a?new W(a):void 0,c.name=Object.keys({TopologyException:e})[0],c}return q(e,u),S(e,[{key:"getCoordinate",value:function(){return this.pt}}])}(yt),_n=function(){return S(function u(){p(this,u),this.array=[]},[{key:"addLast",value:function(u){this.array.push(u)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])}(),jt=function(u){function e(i){var a;return p(this,e),(a=v(this,e)).array=[],i instanceof _e&&a.addAll(i),a}return q(e,u),S(e,[{key:"interfaces_",get:function(){return[Di,_e]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(i){return arguments.length===1?this.array.push(i):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(i){var a,c=z(i);try{for(c.s();!(a=c.n()).done;){var _=a.value;this.array.push(_)}}catch(E){c.e(E)}finally{c.f()}}},{key:"set",value:function(i,a){var c=this.array[i];return this.array[i]=a,c}},{key:"iterator",value:function(){return new zi(this)}},{key:"get",value:function(i){if(i<0||i>=this.size())throw new Nr;return this.array[i]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(i){i?this.array.sort(function(a,c){return i.compare(a,c)}):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(i){for(var a=0,c=this.array.length;a<c;a++)if(this.array[a]===i)return!!this.array.splice(a,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(Di),zi=function(){return S(function u(e){p(this,u),this.arrayList=e,this.position=0},[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ze;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(u){return this.arrayList.set(this.position-1,u)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),rn=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"clearVisitedEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();)u.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(u){for(var e=null,i=u.getEdges().iterator();i.hasNext();){var a=i.next();if(a.isVisited()||a.getSym().isVisited()){e=a;break}}if(e===null)throw new bn("unable to find edge to compute depths at "+u.getCoordinate());u.getEdges().computeDepths(e);for(var c=u.getEdges().iterator();c.hasNext();){var _=c.next();_.setVisited(!0),this.copySymDepths(_)}}},{key:"computeDepth",value:function(u){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Ot.RIGHT,u),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(u){this.addReachable(u),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var u=this._dirEdgeList.iterator();u.hasNext();){var e=u.next();e.getDepth(Ot.RIGHT)>=1&&e.getDepth(Ot.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(u){var e=new cr,i=new _n,a=u.getNode();for(i.addLast(a),e.add(a),u.setVisited(!0);!i.isEmpty();){var c=i.removeFirst();e.add(c),this.computeNodeDepth(c);for(var _=c.getEdges().iterator();_.hasNext();){var E=_.next().getSym();if(!E.isVisited()){var w=E.getNode();e.contains(w)||(i.addLast(w),e.add(w))}}}}},{key:"compareTo",value:function(u){var e=u;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var u=new Yt,e=this._dirEdgeList.iterator();e.hasNext();)for(var i=e.next().getEdge().getCoordinates(),a=0;a<i.length-1;a++)u.expandToInclude(i[a]);this._env=u}return this._env}},{key:"addReachable",value:function(u){var e=new fu;for(e.add(u);!e.empty();){var i=e.pop();this.add(i,e)}}},{key:"copySymDepths",value:function(u){var e=u.getSym();e.setDepth(Ot.LEFT,u.getDepth(Ot.RIGHT)),e.setDepth(Ot.RIGHT,u.getDepth(Ot.LEFT))}},{key:"add",value:function(u,e){u.setVisited(!0),this._nodes.add(u);for(var i=u.getEdges().iterator();i.hasNext();){var a=i.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||e.push(c)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new jt,this._nodes=new jt,this._rightMostCoord=null,this._env=null,this._finder=new ju}}])}(),Ma=function(){return S(function u(){p(this,u)},null,[{key:"intersection",value:function(u,e,i,a){var c=u.x<e.x?u.x:e.x,_=u.y<e.y?u.y:e.y,E=u.x>e.x?u.x:e.x,w=u.y>e.y?u.y:e.y,M=i.x<a.x?i.x:a.x,P=i.y<a.y?i.y:a.y,$=i.x>a.x?i.x:a.x,lt=i.y>a.y?i.y:a.y,xt=((c>M?c:M)+(E<$?E:$))/2,At=((_>P?_:P)+(w<lt?w:lt))/2,Bt=u.x-xt,Zt=u.y-At,de=e.x-xt,re=e.y-At,we=i.x-xt,pe=i.y-At,be=a.x-xt,Bn=a.y-At,Tr=Zt-re,qn=de-Bt,Yr=Bt*re-de*Zt,ps=pe-Bn,Un=be-we,Ya=we*Bn-be*pe,Qi=Tr*Un-ps*qn,jn=(qn*Ya-Un*Yr)/Qi,ys=(ps*Yr-Tr*Ya)/Qi;return R.isNaN(jn)||R.isInfinite(jn)||R.isNaN(ys)||R.isInfinite(ys)?null:new W(jn+xt,ys+At)}}])}(),Yn=function(){return S(function u(){p(this,u)},null,[{key:"arraycopy",value:function(u,e,i,a,c){for(var _=0,E=e;E<e+c;E++)i[a+_]=u[E],_++}},{key:"getProperty",value:function(u){return{"line.separator":`
`}[u]}}])}(),Lr=function(){function u(){p(this,u)}return S(u,null,[{key:"log10",value:function(e){var i=Math.log(e);return R.isInfinite(i)||R.isNaN(i)?i:i/u.LOG_10}},{key:"min",value:function(e,i,a,c){var _=e;return i<_&&(_=i),a<_&&(_=a),c<_&&(_=c),_}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],a=arguments[2];return e<i?i:e>a?a:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var c=arguments[0],_=arguments[1],E=arguments[2];return c<_?_:c>E?E:c}}},{key:"wrap",value:function(e,i){return e<0?i- -e%i:e%i}},{key:"max",value:function(){if(arguments.length===3){var e=arguments[1],i=arguments[2],a=arguments[0];return e>a&&(a=e),i>a&&(a=i),a}if(arguments.length===4){var c=arguments[1],_=arguments[2],E=arguments[3],w=arguments[0];return c>w&&(w=c),_>w&&(w=_),E>w&&(w=E),w}}},{key:"average",value:function(e,i){return(e+i)/2}}])}();Lr.LOG_10=Math.log(10);var kn=function(){function u(){p(this,u)}return S(u,null,[{key:"segmentToSegment",value:function(e,i,a,c){if(e.equals(i))return u.pointToSegment(e,a,c);if(a.equals(c))return u.pointToSegment(c,e,i);var _=!1;if(Yt.intersects(e,i,a,c)){var E=(i.x-e.x)*(c.y-a.y)-(i.y-e.y)*(c.x-a.x);if(E===0)_=!0;else{var w=(e.y-a.y)*(c.x-a.x)-(e.x-a.x)*(c.y-a.y),M=((e.y-a.y)*(i.x-e.x)-(e.x-a.x)*(i.y-e.y))/E,P=w/E;(P<0||P>1||M<0||M>1)&&(_=!0)}}else _=!0;return _?Lr.min(u.pointToSegment(e,a,c),u.pointToSegment(i,a,c),u.pointToSegment(a,e,i),u.pointToSegment(c,e,i)):0}},{key:"pointToSegment",value:function(e,i,a){if(i.x===a.x&&i.y===a.y)return e.distance(i);var c=(a.x-i.x)*(a.x-i.x)+(a.y-i.y)*(a.y-i.y),_=((e.x-i.x)*(a.x-i.x)+(e.y-i.y)*(a.y-i.y))/c;if(_<=0)return e.distance(i);if(_>=1)return e.distance(a);var E=((i.y-e.y)*(a.x-i.x)-(i.x-e.x)*(a.y-i.y))/c;return Math.abs(E)*Math.sqrt(c)}},{key:"pointToLinePerpendicular",value:function(e,i,a){var c=(a.x-i.x)*(a.x-i.x)+(a.y-i.y)*(a.y-i.y),_=((i.y-e.y)*(a.x-i.x)-(i.x-e.x)*(a.y-i.y))/c;return Math.abs(_)*Math.sqrt(c)}},{key:"pointToSegmentString",value:function(e,i){if(i.length===0)throw new pt("Line array must contain at least one vertex");for(var a=e.distance(i[0]),c=0;c<i.length-1;c++){var _=u.pointToSegment(e,i[c],i[c+1]);_<a&&(a=_)}return a}}])}(),Or=function(){return S(function u(){p(this,u)},[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Vt(arguments[0],he);else if(arguments.length!==2){if(arguments.length===3){var u=arguments[0],e=arguments[1];return this.create(u,e)}}}}])}(),ui=function(){return S(function u(){p(this,u)},[{key:"filter",value:function(u){}}])}(),Gs=function(){return S(function u(){p(this,u)},null,[{key:"ofLine",value:function(u){var e=u.size();if(e<=1)return 0;var i=0,a=new W;u.getCoordinate(0,a);for(var c=a.x,_=a.y,E=1;E<e;E++){u.getCoordinate(E,a);var w=a.x,M=a.y,P=w-c,$=M-_;i+=Math.sqrt(P*P+$*$),c=w,_=M}return i}}])}(),Mr=S(function u(){p(this,u)}),dr=function(){function u(){p(this,u)}return S(u,null,[{key:"copyCoord",value:function(e,i,a,c){for(var _=Math.min(e.getDimension(),a.getDimension()),E=0;E<_;E++)a.setOrdinate(c,E,e.getOrdinate(i,E))}},{key:"isRing",value:function(e){var i=e.size();return i===0||!(i<=3)&&e.getOrdinate(0,he.X)===e.getOrdinate(i-1,he.X)&&e.getOrdinate(0,he.Y)===e.getOrdinate(i-1,he.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Vt(arguments[0],he)&&Number.isInteger(arguments[1])){var e=arguments[0],i=arguments[1];u.scroll(e,i,u.isRing(e))}else if(Vt(arguments[0],he)&&arguments[1]instanceof W){var a=arguments[0],c=arguments[1],_=u.indexOf(c,a);if(_<=0)return null;u.scroll(a,_)}}else if(arguments.length===3){var E=arguments[0],w=arguments[1],M=arguments[2];if(w<=0)return null;for(var P=E.copy(),$=M?E.size()-1:E.size(),lt=0;lt<$;lt++)for(var xt=0;xt<E.getDimension();xt++)E.setOrdinate(lt,xt,P.getOrdinate((w+lt)%$,xt));if(M)for(var At=0;At<E.getDimension();At++)E.setOrdinate($,At,E.getOrdinate(0,At))}}},{key:"isEqual",value:function(e,i){var a=e.size();if(a!==i.size())return!1;for(var c=Math.min(e.getDimension(),i.getDimension()),_=0;_<a;_++)for(var E=0;E<c;E++){var w=e.getOrdinate(_,E),M=i.getOrdinate(_,E);if(e.getOrdinate(_,E)!==i.getOrdinate(_,E)&&(!R.isNaN(w)||!R.isNaN(M)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var e=arguments[0];return u.minCoordinateIndex(e,0,e.size()-1)}if(arguments.length===3){for(var i=arguments[0],a=arguments[2],c=-1,_=null,E=arguments[1];E<=a;E++){var w=i.getCoordinate(E);(_===null||_.compareTo(w)>0)&&(_=w,c=E)}return c}}},{key:"extend",value:function(e,i,a){var c=e.create(a,i.getDimension()),_=i.size();if(u.copy(i,0,c,0,_),_>0)for(var E=_;E<a;E++)u.copy(i,_-1,c,E,1);return c}},{key:"reverse",value:function(e){for(var i=e.size()-1,a=Math.trunc(i/2),c=0;c<=a;c++)u.swap(e,c,i-c)}},{key:"swap",value:function(e,i,a){if(i===a)return null;for(var c=0;c<e.getDimension();c++){var _=e.getOrdinate(i,c);e.setOrdinate(i,c,e.getOrdinate(a,c)),e.setOrdinate(a,c,_)}}},{key:"copy",value:function(e,i,a,c,_){for(var E=0;E<_;E++)u.copyCoord(e,i+E,a,c+E)}},{key:"ensureValidRing",value:function(e,i){var a=i.size();return a===0?i:a<=3?u.createClosedRing(e,i,4):i.getOrdinate(0,he.X)===i.getOrdinate(a-1,he.X)&&i.getOrdinate(0,he.Y)===i.getOrdinate(a-1,he.Y)?i:u.createClosedRing(e,i,a+1)}},{key:"indexOf",value:function(e,i){for(var a=0;a<i.size();a++)if(e.x===i.getOrdinate(a,he.X)&&e.y===i.getOrdinate(a,he.Y))return a;return-1}},{key:"createClosedRing",value:function(e,i,a){var c=e.create(a,i.getDimension()),_=i.size();u.copy(i,0,c,0,_);for(var E=_;E<a;E++)u.copy(i,0,c,E,1);return c}},{key:"minCoordinate",value:function(e){for(var i=null,a=0;a<e.size();a++){var c=e.getCoordinate(a);(i===null||i.compareTo(c)>0)&&(i=c)}return i}}])}(),Rt=function(){function u(){p(this,u)}return S(u,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case u.FALSE:return u.SYM_FALSE;case u.TRUE:return u.SYM_TRUE;case u.DONTCARE:return u.SYM_DONTCARE;case u.P:return u.SYM_P;case u.L:return u.SYM_L;case u.A:return u.SYM_A}throw new pt("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(ss.toUpperCase(e)){case u.SYM_FALSE:return u.FALSE;case u.SYM_TRUE:return u.TRUE;case u.SYM_DONTCARE:return u.DONTCARE;case u.SYM_P:return u.P;case u.SYM_L:return u.L;case u.SYM_A:return u.A}throw new pt("Unknown dimension symbol: "+e)}}])}();Rt.P=0,Rt.L=1,Rt.A=2,Rt.FALSE=-1,Rt.TRUE=-2,Rt.DONTCARE=-3,Rt.SYM_FALSE="F",Rt.SYM_TRUE="T",Rt.SYM_DONTCARE="*",Rt.SYM_P="0",Rt.SYM_L="1",Rt.SYM_A="2";var as=function(){return S(function u(){p(this,u)},[{key:"filter",value:function(u){}}])}(),Pi=function(){return S(function u(){p(this,u)},[{key:"filter",value:function(u,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),vi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Yt:this._points.expandEnvelope(new Yt)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i;if(this._points.size()!==c._points.size())return!1;for(var _=0;_<this._points.size();_++)if(!this.equal(this._points.getCoordinate(_),c._points.getCoordinate(_),a))return!1;return!0}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<Math.trunc(this._points.size()/2);i++){var a=this._points.size()-1-i;if(!this._points.getCoordinate(i).equals(this._points.getCoordinate(a))){if(this._points.getCoordinate(i).compareTo(this._points.getCoordinate(a))>0){var c=this._points.copy();dr.reverse(c),this._points=c}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Rt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var i=this._points.copy();return dr.reverse(i),this.getFactory().createLineString(i)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Gs.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var i=arguments[0],a=0,c=0;a<this._points.size()&&c<i._points.size();){var _=this._points.getCoordinate(a).compareTo(i._points.getCoordinate(c));if(_!==0)return _;a++,c++}return a<this._points.size()?1:c<i._points.size()?-1:0}if(arguments.length===2){var E=arguments[0];return arguments[1].compare(this._points,E._points)}}},{key:"apply",value:function(){if(Vt(arguments[0],ui))for(var i=arguments[0],a=0;a<this._points.size();a++)i.filter(this._points.getCoordinate(a));else if(Vt(arguments[0],Pi)){var c=arguments[0];if(this._points.size()===0)return null;for(var _=0;_<this._points.size()&&(c.filter(this._points,_),!c.isDone());_++);c.isGeometryChanged()&&this.geometryChanged()}else Vt(arguments[0],as)?arguments[0].filter(this):Vt(arguments[0],Lt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new fe}},{key:"isEquivalentClass",value:function(i){return i instanceof e}},{key:"getCoordinateN",value:function(i){return this._points.getCoordinate(i)}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new pt("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i}},{key:"isCoordinate",value:function(i){for(var a=0;a<this._points.size();a++)if(this._points.getCoordinate(a).equals(i))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))}},{key:"interfaces_",get:function(){return[Mr]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],a=arguments[1];Dt.constructor_.call(this,a),this.init(i)}}}}])}(Dt),du=S(function u(){p(this,u)}),Zs=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Yt;var i=new Yt;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new e(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];return!!this.isEquivalentClass(i)&&(!(!this.isEmpty()||!i.isEmpty())||this.isEmpty()===i.isEmpty()&&this.equal(i.getCoordinate(),this.getCoordinate(),a))}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0];return this.getCoordinate().compareTo(i.getCoordinate())}if(arguments.length===2){var a=arguments[0];return arguments[1].compare(this._coordinates,a._coordinates)}}},{key:"apply",value:function(){if(Vt(arguments[0],ui)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(Vt(arguments[0],Pi)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else Vt(arguments[0],as)?arguments[0].filter(this):Vt(arguments[0],Lt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),dt.isTrue(i.size()<=1),this._coordinates=i}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[du]}}],[{key:"constructor_",value:function(){this._coordinates=null;var i=arguments[0],a=arguments[1];Dt.constructor_.call(this,a),this.init(i)}}])}(Dt),Ra=function(){function u(){p(this,u)}return S(u,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(u.ofRingSigned(e))}if(Vt(arguments[0],he)){var i=arguments[0];return Math.abs(u.ofRingSigned(i))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var i=0,a=e[0].x,c=1;c<e.length-1;c++){var _=e[c].x-a,E=e[c+1].y;i+=_*(e[c-1].y-E)}return i/2}if(Vt(arguments[0],he)){var w=arguments[0],M=w.size();if(M<3)return 0;var P=new W,$=new W,lt=new W;w.getCoordinate(0,$),w.getCoordinate(1,lt);var xt=$.x;lt.x-=xt;for(var At=0,Bt=1;Bt<M-1;Bt++)P.y=$.y,$.x=lt.x,$.y=lt.y,w.getCoordinate(Bt+1,lt),lt.x-=xt,At+=$.x*(P.y-lt.y);return At/2}}}])}(),sn=function(){return S(function u(){p(this,u)},null,[{key:"sort",value:function(){var u=arguments,e=arguments[0];if(arguments.length===1)e.sort(function(xt,At){return xt.compareTo(At)});else if(arguments.length===2)e.sort(function(xt,At){return u[1].compare(xt,At)});else if(arguments.length===3){var i=e.slice(arguments[1],arguments[2]);i.sort();var a=e.slice(0,arguments[1]).concat(i,e.slice(arguments[2],e.length));e.splice(0,e.length);var c,_=z(a);try{for(_.s();!(c=_.n()).done;){var E=c.value;e.push(E)}}catch(xt){_.e(xt)}finally{_.f()}}else if(arguments.length===4){var w=e.slice(arguments[1],arguments[2]);w.sort(function(xt,At){return u[3].compare(xt,At)});var M=e.slice(0,arguments[1]).concat(w,e.slice(arguments[2],e.length));e.splice(0,e.length);var P,$=z(M);try{for($.s();!(P=$.n()).done;){var lt=P.value;e.push(lt)}}catch(xt){$.e(xt)}finally{$.f()}}}},{key:"asList",value:function(u){var e,i=new jt,a=z(u);try{for(a.s();!(e=a.n()).done;){var c=e.value;i.add(c)}}catch(_){a.e(_)}finally{a.f()}return i}},{key:"copyOf",value:function(u,e){return u.slice(0,e)}}])}(),Gt=S(function u(){p(this,u)}),us=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var i=new Array(this.getNumPoints()).fill(null),a=-1,c=this._shell.getCoordinates(),_=0;_<c.length;_++)i[++a]=c[_];for(var E=0;E<this._holes.length;E++)for(var w=this._holes[E].getCoordinates(),M=0;M<w.length;M++)i[++a]=w[M];return i}},{key:"getArea",value:function(){var i=0;i+=Ra.ofRing(this._shell.getCoordinateSequence());for(var a=0;a<this._holes.length;a++)i-=Ra.ofRing(this._holes[a].getCoordinateSequence());return i}},{key:"copyInternal",value:function(){for(var i=this._shell.copy(),a=new Array(this._holes.length).fill(null),c=0;c<this._holes.length;c++)a[c]=this._holes[c].copy();return new e(i,a,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),a=this.getEnvelopeInternal(),c=0;c<5;c++){var _=i.getX(c);if(_!==a.getMinX()&&_!==a.getMaxX())return!1;var E=i.getY(c);if(E!==a.getMinY()&&E!==a.getMaxY())return!1}for(var w=i.getX(0),M=i.getY(0),P=1;P<=4;P++){var $=i.getX(P),lt=i.getY(P);if($!==w==(lt!==M))return!1;w=$,M=lt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i,_=this._shell,E=c._shell;if(!_.equalsExact(E,a)||this._holes.length!==c._holes.length)return!1;for(var w=0;w<this._holes.length;w++)if(!this._holes[w].equalsExact(c._holes[w],a))return!1;return!0}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var i=0;i<this._holes.length;i++)this._holes[i]=this.normalized(this._holes[i],!1);sn.sort(this._holes)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];if(a.isEmpty())return null;var _=a.getCoordinateSequence(),E=dr.minCoordinateIndex(_,0,_.size()-2);dr.scroll(_,E,!0),Kt.isCCW(_)===c&&dr.reverse(_)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var i=this.getExteriorRing().reverse(),a=new Array(this.getNumInteriorRing()).fill(null),c=0;c<a.length;c++)a[c]=this.getInteriorRingN(c).reverse();return this.getFactory().createPolygon(i,a)}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var i=0;i+=this._shell.getLength();for(var a=0;a<this._holes.length;a++)i+=this._holes[a].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=this._shell.getNumPoints(),a=0;a<this._holes.length;a++)i+=this._holes[a].getNumPoints();return i}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(i,a){var c=i.copy();return this.normalize(c,a),c}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],a=this._shell,c=i._shell;return a.compareToSameClass(c)}if(arguments.length===2){var _=arguments[1],E=arguments[0],w=this._shell,M=E._shell,P=w.compareToSameClass(M,_);if(P!==0)return P;for(var $=this.getNumInteriorRing(),lt=E.getNumInteriorRing(),xt=0;xt<$&&xt<lt;){var At=this.getInteriorRingN(xt),Bt=E.getInteriorRingN(xt),Zt=At.compareToSameClass(Bt,_);if(Zt!==0)return Zt;xt++}return xt<$?1:xt<lt?-1:0}}},{key:"apply",value:function(){if(Vt(arguments[0],ui)){var i=arguments[0];this._shell.apply(i);for(var a=0;a<this._holes.length;a++)this._holes[a].apply(i)}else if(Vt(arguments[0],Pi)){var c=arguments[0];if(this._shell.apply(c),!c.isDone())for(var _=0;_<this._holes.length&&(this._holes[_].apply(c),!c.isDone());_++);c.isGeometryChanged()&&this.geometryChanged()}else if(Vt(arguments[0],as))arguments[0].filter(this);else if(Vt(arguments[0],Lt)){var E=arguments[0];E.filter(this),this._shell.apply(E);for(var w=0;w<this._holes.length;w++)this._holes[w].apply(E)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var i=new Array(this._holes.length+1).fill(null);i[0]=this._shell;for(var a=0;a<this._holes.length;a++)i[a+1]=this._holes[a];return i.length<=1?this.getFactory().createLinearRing(i[0].getCoordinateSequence()):this.getFactory().createMultiLineString(i)}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(i){return this._holes[i]}},{key:"interfaces_",get:function(){return[Gt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var i=arguments[0],a=arguments[1],c=arguments[2];if(Dt.constructor_.call(this,c),i===null&&(i=this.getFactory().createLinearRing()),a===null&&(a=[]),Dt.hasNullElements(a))throw new pt("holes must not contain null elements");if(i.isEmpty()&&Dt.hasNonEmptyElements(a))throw new pt("shell is empty but holes are not");this._shell=i,this._holes=a}}])}(Dt),_i=function(u){function e(){return p(this,e),v(this,e,arguments)}return q(e,u),S(e)}(Ii),We=function(u){function e(i){var a;return p(this,e),(a=v(this,e)).array=[],i instanceof _e&&a.addAll(i),a}return q(e,u),S(e,[{key:"contains",value:function(i){var a,c=z(this.array);try{for(c.s();!(a=c.n()).done;)if(a.value.compareTo(i)===0)return!0}catch(_){c.e(_)}finally{c.f()}return!1}},{key:"add",value:function(i){if(this.contains(i))return!1;for(var a=0,c=this.array.length;a<c;a++)if(this.array[a].compareTo(i)===1)return!!this.array.splice(a,0,i);return this.array.push(i),!0}},{key:"addAll",value:function(i){var a,c=z(i);try{for(c.s();!(a=c.n()).done;){var _=a.value;this.add(_)}}catch(E){c.e(E)}finally{c.f()}return!0}},{key:"remove",value:function(){throw new fe}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new pn(this.array)}}])}(_i),pn=function(){return S(function u(e){p(this,u),this.array=e,this.position=0},[{key:"next",value:function(){if(this.position===this.array.length)throw new ze;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new fe}}])}(),Ze=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"computeEnvelopeInternal",value:function(){for(var i=new Yt,a=0;a<this._geometries.length;a++)i.expandToInclude(this._geometries[a].getEnvelopeInternal());return i}},{key:"getGeometryN",value:function(i){return this._geometries[i]}},{key:"getCoordinates",value:function(){for(var i=new Array(this.getNumPoints()).fill(null),a=-1,c=0;c<this._geometries.length;c++)for(var _=this._geometries[c].getCoordinates(),E=0;E<_.length;E++)i[++a]=_[E];return i}},{key:"getArea",value:function(){for(var i=0,a=0;a<this._geometries.length;a++)i+=this._geometries[a].getArea();return i}},{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),a=0;a<i.length;a++)i[a]=this._geometries[a].copy();return new e(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];if(!this.isEquivalentClass(i))return!1;var c=i;if(this._geometries.length!==c._geometries.length)return!1;for(var _=0;_<this._geometries.length;_++)if(!this._geometries[_].equalsExact(c._geometries[_],a))return!1;return!0}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var i=0;i<this._geometries.length;i++)this._geometries[i].normalize();sn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var i=Rt.FALSE,a=0;a<this._geometries.length;a++)i=Math.max(i,this._geometries[a].getBoundaryDimension());return i}},{key:"reverseInternal",value:function(){for(var i=this._geometries.length,a=new jt(i),c=0;c<i;c++)a.add(this._geometries[c].reverse());return this.getFactory().buildGeometry(a)}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var i=Rt.FALSE,a=0;a<this._geometries.length;a++)i=Math.max(i,this._geometries[a].getDimension());return i}},{key:"getLength",value:function(){for(var i=0,a=0;a<this._geometries.length;a++)i+=this._geometries[a].getLength();return i}},{key:"getNumPoints",value:function(){for(var i=0,a=0;a<this._geometries.length;a++)i+=this._geometries[a].getNumPoints();return i}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var i=arguments[0],a=new We(sn.asList(this._geometries)),c=new We(sn.asList(i._geometries));return this.compare(a,c)}if(arguments.length===2){for(var _=arguments[1],E=arguments[0],w=this.getNumGeometries(),M=E.getNumGeometries(),P=0;P<w&&P<M;){var $=this.getGeometryN(P),lt=E.getGeometryN(P),xt=$.compareToSameClass(lt,_);if(xt!==0)return xt;P++}return P<w?1:P<M?-1:0}}},{key:"apply",value:function(){if(Vt(arguments[0],ui))for(var i=arguments[0],a=0;a<this._geometries.length;a++)this._geometries[a].apply(i);else if(Vt(arguments[0],Pi)){var c=arguments[0];if(this._geometries.length===0)return null;for(var _=0;_<this._geometries.length&&(this._geometries[_].apply(c),!c.isDone());_++);c.isGeometryChanged()&&this.geometryChanged()}else if(Vt(arguments[0],as)){var E=arguments[0];E.filter(this);for(var w=0;w<this._geometries.length;w++)this._geometries[w].apply(E)}else if(Vt(arguments[0],Lt)){var M=arguments[0];M.filter(this);for(var P=0;P<this._geometries.length;P++)this._geometries[P].apply(M)}}},{key:"getBoundary",value:function(){return Dt.checkNotGeometryCollection(this),dt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var i=arguments[0],a=arguments[1];if(Dt.constructor_.call(this,a),i===null&&(i=[]),Dt.hasNullElements(i))throw new pt("geometries must not contain null elements");this._geometries=i}}}}])}(Dt),Rr=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),a=0;a<i.length;a++)i[a]=this._geometries[a].copy();return new e(i,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];return!!this.isEquivalentClass(i)&&at(e,"equalsExact",this,1).call(this,i,a)}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var i=arguments[0];return this._geometries[i].getCoordinate()}return at(e,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[du]}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];Ze.constructor_.call(this,i,a)}}])}(Ze),oi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"copyInternal",value:function(){return new e(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Rt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||at(e,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var i=this._points.copy();return dr.reverse(i),this.getFactory().createLinearRing(i)}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!at(e,"isClosed",this,1).call(this))throw new pt("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new pt("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];vi.constructor_.call(this,i,a),this.validateConstruction()}}])}(vi);oi.MINIMUM_VALID_SIZE=4;var Bi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"setOrdinate",value:function(i,a){switch(i){case e.X:this.x=a;break;case e.Y:this.y=a;break;default:throw new pt("Invalid ordinate index: "+i)}}},{key:"getZ",value:function(){return W.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case e.X:return this.x;case e.Y:return this.y}throw new pt("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new pt("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)W.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof e){var i=arguments[0];W.constructor_.call(this,i.x,i.y)}else if(arguments[0]instanceof W){var a=arguments[0];W.constructor_.call(this,a.x,a.y)}}else if(arguments.length===2){var c=arguments[0],_=arguments[1];W.constructor_.call(this,c,_,W.NULL_ORDINATE)}}}])}(W);Bi.X=0,Bi.Y=1,Bi.Z=-1,Bi.M=-1;var qi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,a){switch(i){case e.X:this.x=a;break;case e.Y:this.y=a;break;case e.M:this._m=a;break;default:throw new pt("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getZ",value:function(){return W.NULL_ORDINATE}},{key:"getOrdinate",value:function(i){switch(i){case e.X:return this.x;case e.Y:return this.y;case e.M:return this._m}throw new pt("Invalid ordinate index: "+i)}},{key:"setZ",value:function(i){throw new pt("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)W.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var i=arguments[0];W.constructor_.call(this,i.x,i.y),this._m=i._m}else if(arguments[0]instanceof W){var a=arguments[0];W.constructor_.call(this,a.x,a.y),this._m=this.getM()}}else if(arguments.length===3){var c=arguments[0],_=arguments[1],E=arguments[2];W.constructor_.call(this,c,_,W.NULL_ORDINATE),this._m=E}}}])}(W);qi.X=0,qi.Y=1,qi.Z=-1,qi.M=2;var gr=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(i,a){switch(i){case W.X:this.x=a;break;case W.Y:this.y=a;break;case W.Z:this.z=a;break;case W.M:this._m=a;break;default:throw new pt("Invalid ordinate index: "+i)}}},{key:"setM",value:function(i){this._m=i}},{key:"getOrdinate",value:function(i){switch(i){case W.X:return this.x;case W.Y:return this.y;case W.Z:return this.getZ();case W.M:return this.getM()}throw new pt("Invalid ordinate index: "+i)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(i){this.x=i.x,this.y=i.y,this.z=i.getZ(),this._m=i.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)W.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof e){var i=arguments[0];W.constructor_.call(this,i),this._m=i._m}else if(arguments[0]instanceof W){var a=arguments[0];W.constructor_.call(this,a),this._m=this.getM()}}else if(arguments.length===4){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3];W.constructor_.call(this,c,_,E),this._m=w}}}])}(W),Cr=function(){function u(){p(this,u)}return S(u,null,[{key:"measures",value:function(e){return e instanceof Bi?0:e instanceof qi||e instanceof gr?1:0}},{key:"dimension",value:function(e){return e instanceof Bi?2:e instanceof qi?3:e instanceof gr?4:3}},{key:"create",value:function(){if(arguments.length===1){var e=arguments[0];return u.create(e,0)}if(arguments.length===2){var i=arguments[0],a=arguments[1];return i===2?new Bi:i===3&&a===0?new W:i===3&&a===1?new qi:i===4&&a===1?new gr:new W}}}])}(),Jn=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getCoordinate",value:function(i){return this.get(i)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Vt(arguments[0],_e)){for(var i=arguments[1],a=!1,c=arguments[0].iterator();c.hasNext();)this.add(c.next(),i),a=!0;return a}return at(e,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var i=at(e,"clone",this,1).call(this),a=0;a<this.size();a++)i.add(a,this.get(a).clone());return i}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(e.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(e.coordArrayType);for(var i=this.size(),a=new Array(i).fill(null),c=0;c<i;c++)a[c]=this.get(i-c-1);return a}}},{key:"add",value:function(){if(arguments.length===1){var i=arguments[0];return at(e,"add",this,1).call(this,i)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var a=arguments[0],c=arguments[1];return this.add(a,c,!0),!0}if(arguments[0]instanceof W&&typeof arguments[1]=="boolean"){var _=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(_))return null;at(e,"add",this,1).call(this,_)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var E=arguments[0],w=arguments[1];return this.add(E,w),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var M=arguments[0],P=arguments[1];if(arguments[2])for(var $=0;$<M.length;$++)this.add(M[$],P);else for(var lt=M.length-1;lt>=0;lt--)this.add(M[lt],P);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof W){var xt=arguments[0],At=arguments[1];if(!arguments[2]){var Bt=this.size();if(Bt>0&&(xt>0&&this.get(xt-1).equals2D(At)||xt<Bt&&this.get(xt).equals2D(At)))return null}at(e,"add",this,1).call(this,xt,At)}}else if(arguments.length===4){var Zt=arguments[0],de=arguments[1],re=arguments[2],we=arguments[3],pe=1;re>we&&(pe=-1);for(var be=re;be!==we;be+=pe)this.add(Zt[be],de);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var i=this.get(0).copy();this.add(i,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.ensureCapacity(a.length),this.add(a,c)}}}}])}(jt);Jn.coordArrayType=new Array(0).fill(null);var Re=function(){function u(){p(this,u)}return S(u,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(e,i){for(var a=0;a<e.length;a++){var c=e[a];if(u.indexOf(c,i)<0)return c}return null}},{key:"scroll",value:function(e,i){var a=u.indexOf(i,e);if(a<0)return null;var c=new Array(e.length).fill(null);Yn.arraycopy(e,a,c,0,e.length-a),Yn.arraycopy(e,0,c,e.length-a,a),Yn.arraycopy(c,0,e,0,e.length)}},{key:"equals",value:function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(e===i)return!0;if(e===null||i===null||e.length!==i.length)return!1;for(var a=0;a<e.length;a++)if(!e[a].equals(i[a]))return!1;return!0}if(arguments.length===3){var c=arguments[0],_=arguments[1],E=arguments[2];if(c===_)return!0;if(c===null||_===null||c.length!==_.length)return!1;for(var w=0;w<c.length;w++)if(E.compare(c[w],_[w])!==0)return!1;return!0}}},{key:"intersection",value:function(e,i){for(var a=new Jn,c=0;c<e.length;c++)i.intersects(e[c])&&a.add(e[c],!0);return a.toCoordinateArray()}},{key:"measures",value:function(e){if(e===null||e.length===0)return 0;var i,a=0,c=z(e);try{for(c.s();!(i=c.n()).done;){var _=i.value;a=Math.max(a,Cr.measures(_))}}catch(E){c.e(E)}finally{c.f()}return a}},{key:"hasRepeatedPoints",value:function(e){for(var i=1;i<e.length;i++)if(e[i-1].equals(e[i]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return u.hasRepeatedPoints(e)?new Jn(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var i=e.length-1,a=Math.trunc(i/2),c=0;c<=a;c++){var _=e[c];e[c]=e[i-c],e[i-c]=_}}},{key:"removeNull",value:function(e){for(var i=0,a=0;a<e.length;a++)e[a]!==null&&i++;var c=new Array(i).fill(null);if(i===0)return c;for(var _=0,E=0;E<e.length;E++)e[E]!==null&&(c[_++]=e[E]);return c}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var e=arguments[0],i=new Array(e.length).fill(null),a=0;a<e.length;a++)i[a]=e[a].copy();return i}if(arguments.length===5)for(var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3],M=arguments[4],P=0;P<M;P++)E[w+P]=c[_+P].copy()}},{key:"isEqualReversed",value:function(e,i){for(var a=0;a<e.length;a++){var c=e[a],_=i[e.length-a-1];if(c.compareTo(_)!==0)return!1}return!0}},{key:"envelope",value:function(e){for(var i=new Yt,a=0;a<e.length;a++)i.expandToInclude(e[a]);return i}},{key:"toCoordinateArray",value:function(e){return e.toArray(u.coordArrayType)}},{key:"dimension",value:function(e){if(e===null||e.length===0)return 3;var i,a=0,c=z(e);try{for(c.s();!(i=c.n()).done;){var _=i.value;a=Math.max(a,Cr.dimension(_))}}catch(E){c.e(E)}finally{c.f()}return a}},{key:"atLeastNCoordinatesOrNothing",value:function(e,i){return i.length>=e?i:[]}},{key:"indexOf",value:function(e,i){for(var a=0;a<i.length;a++)if(e.equals(i[a]))return a;return-1}},{key:"increasingDirection",value:function(e){for(var i=0;i<Math.trunc(e.length/2);i++){var a=e.length-1-i,c=e[i].compareTo(e[a]);if(c!==0)return c}return 1}},{key:"compare",value:function(e,i){for(var a=0;a<e.length&&a<i.length;){var c=e[a].compareTo(i[a]);if(c!==0)return c;a++}return a<i.length?-1:a<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var i=null,a=0;a<e.length;a++)(i===null||i.compareTo(e[a])>0)&&(i=e[a]);return i}},{key:"extract",value:function(e,i,a){i=Lr.clamp(i,0,e.length);var c=(a=Lr.clamp(a,-1,e.length))-i+1;a<0&&(c=0),i>=e.length&&(c=0),a<i&&(c=0);var _=new Array(c).fill(null);if(c===0)return _;for(var E=0,w=i;w<=a;w++)_[E++]=e[w];return _}}])}(),os=function(){return S(function u(){p(this,u)},[{key:"compare",value:function(u,e){var i=u,a=e;return Re.compare(i,a)}},{key:"interfaces_",get:function(){return[it]}}])}(),pi=function(){return S(function u(){p(this,u)},[{key:"compare",value:function(u,e){var i=u,a=e;if(i.length<a.length)return-1;if(i.length>a.length)return 1;if(i.length===0)return 0;var c=Re.compare(i,a);return Re.isEqualReversed(i,a)?0:c}},{key:"OLDcompare",value:function(u,e){var i=u,a=e;if(i.length<a.length)return-1;if(i.length>a.length)return 1;if(i.length===0)return 0;for(var c=Re.increasingDirection(i),_=Re.increasingDirection(a),E=c>0?0:i.length-1,w=_>0?0:i.length-1,M=0;M<i.length;M++){var P=i[E].compareTo(a[w]);if(P!==0)return P;E+=c,w+=_}return 0}},{key:"interfaces_",get:function(){return[it]}}])}();Re.ForwardComparator=os,Re.BidirectionalComparator=pi,Re.coordArrayType=new Array(0).fill(null);var Ge=function(){return S(function u(e){p(this,u),this.str=e},[{key:"append",value:function(u){this.str+=u}},{key:"setCharAt",value:function(u,e){this.str=this.str.substr(0,u)+e+this.str.substr(u+1)}},{key:"toString",value:function(){return this.str}}])}(),Ar=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():R.NaN}},{key:"setOrdinate",value:function(e,i,a){switch(i){case he.X:this._coordinates[e].x=a;break;case he.Y:this._coordinates[e].y=a;break;default:this._coordinates[e].setOrdinate(i,a)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():R.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,i){switch(i){case he.X:return this._coordinates[e].x;case he.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(i)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var i=arguments[0];arguments[1].setCoordinate(this._coordinates[i])}}},{key:"getCoordinateCopy",value:function(e){var i=this.createCoordinate();return i.setCoordinate(this._coordinates[e]),i}},{key:"createCoordinate",value:function(){return Cr.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var i=0;i<this._coordinates.length;i++)e.expandToInclude(this._coordinates[i]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++){var a=this.createCoordinate();a.setCoordinate(this._coordinates[i]),e[i]=a}return new u(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new Ge(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)e.append(", "),e.append(this._coordinates[i]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[he,C]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];u.constructor_.call(this,e,Re.dimension(e),Re.measures(e))}else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var a=0;a<i;a++)this._coordinates[a]=new W}else if(Vt(arguments[0],he)){var c=arguments[0];if(c===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=c.getDimension(),this._measures=c.getMeasures(),this._coordinates=new Array(c.size()).fill(null);for(var _=0;_<this._coordinates.length;_++)this._coordinates[_]=c.getCoordinateCopy(_)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var E=arguments[0],w=arguments[1];u.constructor_.call(this,E,w,Re.measures(E))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var M=arguments[0],P=arguments[1];this._coordinates=new Array(M).fill(null),this._dimension=P;for(var $=0;$<M;$++)this._coordinates[$]=Cr.create(P)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var lt=arguments[0],xt=arguments[1],At=arguments[2];this._dimension=xt,this._measures=At,this._coordinates=lt===null?new Array(0).fill(null):lt}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Bt=arguments[0],Zt=arguments[1],de=arguments[2];this._coordinates=new Array(Bt).fill(null),this._dimension=Zt,this._measures=de;for(var re=0;re<Bt;re++)this._coordinates[re]=this.createCoordinate()}}}}])}(),Hs=function(){function u(){p(this,u)}return S(u,[{key:"readResolve",value:function(){return u.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ar(arguments[0]);if(Vt(arguments[0],he))return new Ar(arguments[0])}else{if(arguments.length===2){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Ar(arguments[0],e)}if(arguments.length===3){var i=arguments[2],a=arguments[1]-i;return i>1&&(i=1),a>3&&(a=3),a<2&&(a=2),new Ar(arguments[0],a+i,i)}}}},{key:"interfaces_",get:function(){return[Or,C]}}],[{key:"instance",value:function(){return u.instanceObject}}])}();Hs.instanceObject=new Hs;var yi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),a=0;a<i.length;a++)i[a]=this._geometries[a].copy();return new e(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];return!!this.isEquivalentClass(i)&&at(e,"equalsExact",this,1).call(this,i,a)}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var i=new jt,a=0;a<this._geometries.length;a++)for(var c=this._geometries[a].getBoundary(),_=0;_<c.getNumGeometries();_++)i.add(c.getGeometryN(_));var E=new Array(i.size()).fill(null);return this.getFactory().createMultiLineString(i.toArray(E))}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Gt]}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];Ze.constructor_.call(this,i,a)}}])}(Ze),mr=function(){return S(function u(){p(this,u)},[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),Wn=function(u){function e(){var i;return p(this,e),(i=v(this,e)).map=new Map,i}return q(e,u),S(e,[{key:"get",value:function(i){return this.map.get(i)||null}},{key:"put",value:function(i,a){return this.map.set(i,a),a}},{key:"values",value:function(){for(var i=new jt,a=this.map.values(),c=a.next();!c.done;)i.add(c.value),c=a.next();return i}},{key:"entrySet",value:function(){var i=new cr;return this.map.entries().forEach(function(a){return i.add(a)}),i}},{key:"size",value:function(){return this.map.size()}}])}(mr),yn=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"equals",value:function(e){if(!(e instanceof u))return!1;var i=e;return this._modelType===i._modelType&&this._scale===i._scale}},{key:"compareTo",value:function(e){var i=e,a=this.getMaximumSignificantDigits(),c=i.getMaximumSignificantDigits();return fr.compare(a,c)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===u.FLOATING||this._modelType===u.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===u.FLOATING?e="Floating":this._modelType===u.FLOATING_SINGLE?e="Floating-Single":this._modelType===u.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var e=arguments[0];return R.isNaN(e)||this._modelType===u.FLOATING_SINGLE?e:this._modelType===u.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof W){var i=arguments[0];if(this._modelType===u.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===u.FLOATING?e=16:this._modelType===u.FLOATING_SINGLE?e=6:this._modelType===u.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[C,Ct]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=u.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ui){var e=arguments[0];this._modelType=e,e===u.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var i=arguments[0];this._modelType=u.FIXED,this.setScale(i)}else if(arguments[0]instanceof u){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}}},{key:"mostPrecise",value:function(e,i){return e.compareTo(i)>=0?e:i}}])}(),Ui=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"readResolve",value:function(){return u.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,u.nameToTypeMap.put(e,this)}}])}();Ui.nameToTypeMap=new Wn,yn.Type=Ui,yn.FIXED=new Ui("FIXED"),yn.FLOATING=new Ui("FLOATING"),yn.FLOATING_SINGLE=new Ui("FLOATING SINGLE"),yn.maximumPreciseValue=9007199254740992;var ls=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"copyInternal",value:function(){for(var i=new Array(this._geometries.length).fill(null),a=0;a<i.length;a++)i[a]=this._geometries[a].copy();return new e(i,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Dt){var i=arguments[0],a=arguments[1];return!!this.isEquivalentClass(i)&&at(e,"equalsExact",this,1).call(this,i,a)}return at(e,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Rt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Dt.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new fe}},{key:"getGeometryType",value:function(){return Dt.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Mr]}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];Ze.constructor_.call(this,i,a)}}])}(Ze),li=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new pt("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new W(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new W(e.getMinX(),e.getMinY()),new W(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new W(e.getMinX(),e.getMinY()),new W(e.getMinX(),e.getMaxY()),new W(e.getMaxX(),e.getMaxY()),new W(e.getMaxX(),e.getMinY()),new W(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(Vt(arguments[0],he))return new vi(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new ls(null,this):arguments.length===1?new ls(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var i=null,a=!1,c=!1,_=e.iterator();_.hasNext();){var E=_.next(),w=E.getTypeCode();i===null&&(i=w),w!==i&&(a=!0),E instanceof Ze&&(c=!0)}if(i===null)return this.createGeometryCollection();if(a||c)return this.createGeometryCollection(u.toGeometryArray(e));var M=e.iterator().next();if(e.size()>1){if(M instanceof us)return this.createMultiPolygon(u.toPolygonArray(e));if(M instanceof vi)return this.createMultiLineString(u.toLineStringArray(e));if(M instanceof Zs)return this.createMultiPoint(u.toPointArray(e));dt.shouldNeverReachHere("Unhandled geometry type: "+M.getGeometryType())}return M}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof W){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(Vt(arguments[0],he))return new Zs(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Vt(arguments[0],he)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof oi){var a=arguments[0];return this.createPolygon(a,null)}}else if(arguments.length===2)return new us(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new Ze(null,this):arguments.length===1?new Ze(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(Vt(arguments[0],he))return new oi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new yi(null,this):arguments.length===1?new yi(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Rr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Rr(arguments[0],this);if(Vt(arguments[0],he)){var e=arguments[0];if(e===null)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(e.size()).fill(null),a=0;a<e.size();a++){var c=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());dr.copy(e,a,c,0,1),i[a]=this.createPoint(c)}return this.createMultiPoint(i)}}}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)u.constructor_.call(this,new yn,0);else if(arguments.length===1){if(Vt(arguments[0],Or)){var e=arguments[0];u.constructor_.call(this,new yn,0,e)}else if(arguments[0]instanceof yn){var i=arguments[0];u.constructor_.call(this,i,0,u.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];u.constructor_.call(this,a,c,u.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var _=arguments[0],E=arguments[1],w=arguments[2];this._precisionModel=_,this._coordinateSequenceFactory=w,this._SRID=E}}},{key:"toMultiPolygonArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toGeometryArray",value:function(e){if(e===null)return null;var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Hs.instance()}},{key:"toMultiLineStringArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toLineStringArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toMultiPointArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toLinearRingArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toPointArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"toPolygonArray",value:function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)}},{key:"createPointFromInternalCoord",value:function(e,i){return i.getPrecisionModel().makePrecise(e),i.getFactory().createPoint(e)}}])}(),oe="XY",Oe="XYZ",Xn="XYM",an="XYZM",Gi={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ys="EMPTY",Jt=1,xe=2,Dn=3,cs=4,Se=5,Ca=6;for(var hs in Gi)Gi[hs].toUpperCase();var xi=function(){return S(function u(e){p(this,u),this.wkt=e,this.index_=-1},[{key:"isAlpha_",value:function(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"}},{key:"isNumeric_",value:function(u,e){return u>="0"&&u<="9"||u=="."&&!(e!==void 0&&e)}},{key:"isWhiteSpace_",value:function(u){return u==" "||u=="	"||u=="\r"||u==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var u,e=this.nextChar_(),i=this.index_,a=e;if(e=="(")u=xe;else if(e==",")u=Se;else if(e==")")u=Dn;else if(this.isNumeric_(e)||e=="-")u=cs,a=this.readNumber_();else if(this.isAlpha_(e))u=Jt,a=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(e!=="")throw new Error("Unexpected character: "+e);u=Ca}return{position:i,value:a,type:u}}},{key:"readNumber_",value:function(){var u,e=this.index_,i=!1,a=!1;do u=="."?i=!0:u!="e"&&u!="E"||(a=!0),u=this.nextChar_();while(this.isNumeric_(u,i)||!a&&(u=="e"||u=="E")||a&&(u=="-"||u=="+"));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var u,e=this.index_;do u=this.nextChar_();while(this.isAlpha_(u));return this.wkt.substring(e,this.index_--).toUpperCase()}}])}(),Ce=function(){return S(function u(e,i){p(this,u),this.lexer_=e,this.token_,this.layout_=oe,this.factory=i},[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(u){return this.token_.type==u}},{key:"match",value:function(u){var e=this.isTokenType(u);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var u=oe,e=this.token_;if(this.isTokenType(Jt)){var i=e.value;i==="Z"?u=Oe:i==="M"?u=Xn:i==="ZM"&&(u=an),u!==oe&&this.consume_()}return u}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(xe)){var u=[];do u.push(this.parseGeometry_());while(this.match(Se));if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(xe)){var u=this.parsePoint_();if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(xe)){var u=this.parsePointList_();if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(xe)){var u=this.parseLineStringTextList_();if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var u;if(this.match(xe)){if(u=this.token_.type==xe?this.parsePointTextList_():this.parsePointList_(),this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(xe)){var u=this.parseLineStringTextList_();if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(xe)){var u=this.parsePolygonTextList_();if(this.match(Dn))return u}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var u=[],e=this.layout_.length,i=0;i<e;++i){var a=this.token_;if(!this.match(cs))break;u.push(a.value)}if(u.length==e)return u;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var u=[this.parsePoint_()];this.match(Se);)u.push(this.parsePoint_());return u}},{key:"parsePointTextList_",value:function(){for(var u=[this.parsePointText_()];this.match(Se);)u.push(this.parsePointText_());return u}},{key:"parseLineStringTextList_",value:function(){for(var u=[this.parseLineStringText_()];this.match(Se);)u.push(this.parseLineStringText_());return u}},{key:"parsePolygonTextList_",value:function(){for(var u=[this.parsePolygonText_()];this.match(Se);)u.push(this.parsePolygonText_());return u}},{key:"isEmptyGeometry_",value:function(){var u=this.isTokenType(Jt)&&this.token_.value==Ys;return u&&this.consume_(),u}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var u=this.factory,e=function(Zt){return b(W,kt(Zt))},i=function(Zt){var de=Zt.map(function(re){return u.createLinearRing(re.map(e))});return de.length>1?u.createPolygon(de[0],de.slice(1)):u.createPolygon(de[0])},a=this.token_;if(this.match(Jt)){var c=a.value;if(this.layout_=this.parseGeometryLayout_(),c=="GEOMETRYCOLLECTION"){var _=this.parseGeometryCollectionText_();return u.createGeometryCollection(_)}switch(c){case"POINT":var E=this.parsePointText_();return E?u.createPoint(b(W,kt(E))):u.createPoint();case"LINESTRING":var w=this.parseLineStringText_().map(e);return u.createLineString(w);case"LINEARRING":var M=this.parseLineStringText_().map(e);return u.createLinearRing(M);case"POLYGON":var P=this.parsePolygonText_();return P&&P.length!==0?i(P):u.createPolygon();case"MULTIPOINT":var $=this.parseMultiPointText_();if(!$||$.length===0)return u.createMultiPoint();var lt=$.map(e).map(function(Zt){return u.createPoint(Zt)});return u.createMultiPoint(lt);case"MULTILINESTRING":var xt=this.parseMultiLineStringText_().map(function(Zt){return u.createLineString(Zt.map(e))});return u.createMultiLineString(xt);case"MULTIPOLYGON":var At=this.parseMultiPolygonText_();if(!At||At.length===0)return u.createMultiPolygon();var Bt=At.map(i);return u.createMultiPolygon(Bt);default:throw new Error("Invalid geometry type: "+c)}}throw new Error(this.formatErrorMessage_())}}])}();function Ei(u){if(u.isEmpty())return"";var e=u.getCoordinate(),i=[e.x,e.y];return e.z===void 0||Number.isNaN(e.z)||i.push(e.z),e.m===void 0||Number.isNaN(e.m)||i.push(e.m),i.join(" ")}function ci(u){for(var e=u.getCoordinates().map(function(_){var E=[_.x,_.y];return _.z===void 0||Number.isNaN(_.z)||E.push(_.z),_.m===void 0||Number.isNaN(_.m)||E.push(_.m),E}),i=[],a=0,c=e.length;a<c;++a)i.push(e[a].join(" "));return i.join(", ")}function $n(u){var e=[];e.push("("+ci(u.getExteriorRing())+")");for(var i=0,a=u.getNumInteriorRing();i<a;++i)e.push("("+ci(u.getInteriorRingN(i))+")");return e.join(", ")}var Aa={Point:Ei,LineString:ci,LinearRing:ci,Polygon:$n,MultiPoint:function(u){for(var e=[],i=0,a=u.getNumGeometries();i<a;++i)e.push("("+Ei(u.getGeometryN(i))+")");return e.join(", ")},MultiLineString:function(u){for(var e=[],i=0,a=u.getNumGeometries();i<a;++i)e.push("("+ci(u.getGeometryN(i))+")");return e.join(", ")},MultiPolygon:function(u){for(var e=[],i=0,a=u.getNumGeometries();i<a;++i)e.push("("+$n(u.getGeometryN(i))+")");return e.join(", ")},GeometryCollection:function(u){for(var e=[],i=0,a=u.getNumGeometries();i<a;++i)e.push(vr(u.getGeometryN(i)));return e.join(", ")}};function vr(u){var e=u.getGeometryType(),i=Aa[e];e=e.toUpperCase();var a=function(c){var _="";if(c.isEmpty())return _;var E=c.getCoordinate();return E.z===void 0||Number.isNaN(E.z)||(_+="Z"),E.m===void 0||Number.isNaN(E.m)||(_+="M"),_}(u);return a.length>0&&(e+=" "+a),u.isEmpty()?e+" "+Ys:e+" ("+i(u)+")"}var Xs=function(){return S(function u(e){p(this,u),this.geometryFactory=e||new li,this.precisionModel=this.geometryFactory.getPrecisionModel()},[{key:"read",value:function(u){var e=new xi(u);return new Ce(e,this.geometryFactory).parse()}},{key:"write",value:function(u){return vr(u)}}])}(),_r=function(){return S(function u(e){p(this,u),this.parser=new Xs(e)},[{key:"write",value:function(u){return this.parser.write(u)}}],[{key:"toLineString",value:function(u,e){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+u.x+" "+u.y+", "+e.x+" "+e.y+" )"}}])}(),Le=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getIndexAlongSegment",value:function(e,i){return this.computeIntLineIndex(),this._intLineIndex[e][i]}},{key:"getTopologySummary",value:function(){var e=new Ge;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,i,a,c){this._inputLines[0][0]=e,this._inputLines[0][1]=i,this._inputLines[1][0]=a,this._inputLines[1][1]=c,this._result=this.computeIntersect(e,i,a,c)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var e=arguments[0],i=0;i<this._result;i++)if(!this._intPt[i].equals2D(this._inputLines[e][0])&&!this._intPt[i].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==u.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,i){return u.computeEdgeDistance(this._intPt[i],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===u.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return _r.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+_r.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,i){return this._inputLines[e][i]}},{key:"isIntersection",value:function(e){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][i]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new W,this._intPt[1]=new W,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,i,a){var c=Math.abs(a.x-i.x),_=Math.abs(a.y-i.y),E=-1;if(e.equals(i))E=0;else if(e.equals(a))E=c>_?c:_;else{var w=Math.abs(e.x-i.x),M=Math.abs(e.y-i.y);(E=c>_?w:M)!==0||e.equals(i)||(E=Math.max(w,M))}return dt.isTrue(!(E===0&&!e.equals(i)),"Bad distance calculation"),E}},{key:"nonRobustComputeEdgeDistance",value:function(e,i,a){var c=e.x-i.x,_=e.y-i.y,E=Math.sqrt(c*c+_*_);return dt.isTrue(!(E===0&&!e.equals(i)),"Invalid distance calculation"),E}}])}();Le.DONT_INTERSECT=0,Le.DO_INTERSECT=1,Le.COLLINEAR=2,Le.NO_INTERSECTION=0,Le.POINT_INTERSECTION=1,Le.COLLINEAR_INTERSECTION=2;var Si=function(u){function e(){return p(this,e),v(this,e)}return q(e,u),S(e,[{key:"isInSegmentEnvelopes",value:function(i){var a=new Yt(this._inputLines[0][0],this._inputLines[0][1]),c=new Yt(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(i)&&c.contains(i)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return at(e,"computeIntersection",this,1).apply(this,arguments);var i=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,Yt.intersects(a,c,i)&&Kt.index(a,c,i)===0&&Kt.index(c,a,i)===0)return this._isProper=!0,(i.equals(a)||i.equals(c))&&(this._isProper=!1),this._result=Le.POINT_INTERSECTION,null;this._result=Le.NO_INTERSECTION}},{key:"intersection",value:function(i,a,c,_){var E=this.intersectionSafe(i,a,c,_);return this.isInSegmentEnvelopes(E)||(E=new W(e.nearestEndpoint(i,a,c,_))),this._precisionModel!==null&&this._precisionModel.makePrecise(E),E}},{key:"checkDD",value:function(i,a,c,_,E){var w=Oa.intersection(i,a,c,_),M=this.isInSegmentEnvelopes(w);Yn.out.println("DD in env = "+M+"  --------------------- "+w),E.distance(w)>1e-4&&Yn.out.println("Distance = "+E.distance(w))}},{key:"intersectionSafe",value:function(i,a,c,_){var E=Ma.intersection(i,a,c,_);return E===null&&(E=e.nearestEndpoint(i,a,c,_)),E}},{key:"computeCollinearIntersection",value:function(i,a,c,_){var E=Yt.intersects(i,a,c),w=Yt.intersects(i,a,_),M=Yt.intersects(c,_,i),P=Yt.intersects(c,_,a);return E&&w?(this._intPt[0]=c,this._intPt[1]=_,Le.COLLINEAR_INTERSECTION):M&&P?(this._intPt[0]=i,this._intPt[1]=a,Le.COLLINEAR_INTERSECTION):E&&M?(this._intPt[0]=c,this._intPt[1]=i,!c.equals(i)||w||P?Le.COLLINEAR_INTERSECTION:Le.POINT_INTERSECTION):E&&P?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||w||M?Le.COLLINEAR_INTERSECTION:Le.POINT_INTERSECTION):w&&M?(this._intPt[0]=_,this._intPt[1]=i,!_.equals(i)||E||P?Le.COLLINEAR_INTERSECTION:Le.POINT_INTERSECTION):w&&P?(this._intPt[0]=_,this._intPt[1]=a,!_.equals(a)||E||M?Le.COLLINEAR_INTERSECTION:Le.POINT_INTERSECTION):Le.NO_INTERSECTION}},{key:"computeIntersect",value:function(i,a,c,_){if(this._isProper=!1,!Yt.intersects(i,a,c,_))return Le.NO_INTERSECTION;var E=Kt.index(i,a,c),w=Kt.index(i,a,_);if(E>0&&w>0||E<0&&w<0)return Le.NO_INTERSECTION;var M=Kt.index(c,_,i),P=Kt.index(c,_,a);return M>0&&P>0||M<0&&P<0?Le.NO_INTERSECTION:E===0&&w===0&&M===0&&P===0?this.computeCollinearIntersection(i,a,c,_):(E===0||w===0||M===0||P===0?(this._isProper=!1,i.equals2D(c)||i.equals2D(_)?this._intPt[0]=i:a.equals2D(c)||a.equals2D(_)?this._intPt[0]=a:E===0?this._intPt[0]=new W(c):w===0?this._intPt[0]=new W(_):M===0?this._intPt[0]=new W(i):P===0&&(this._intPt[0]=new W(a))):(this._isProper=!0,this._intPt[0]=this.intersection(i,a,c,_)),Le.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(i,a,c,_){var E=i,w=kn.pointToSegment(i,c,_),M=kn.pointToSegment(a,c,_);return M<w&&(w=M,E=a),(M=kn.pointToSegment(c,i,a))<w&&(w=M,E=c),(M=kn.pointToSegment(_,i,a))<w&&(w=M,E=_),E}}])}(Le),Ir=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"countSegment",value:function(e,i){if(e.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&i.y===this._p.y){var a=e.x,c=i.x;return a>c&&(a=i.x,c=e.x),this._p.x>=a&&this._p.x<=c&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&e.y<=this._p.y){var _=Kt.index(e,i,this._p);if(_===Kt.COLLINEAR)return this._isPointOnSegment=!0,null;i.y<e.y&&(_=-_),_===Kt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Z.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Z.BOUNDARY:this._crossingCount%2==1?Z.INTERIOR:Z.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof W&&Vt(arguments[1],he)){for(var e=arguments[1],i=new u(arguments[0]),a=new W,c=new W,_=1;_<e.size();_++)if(e.getCoordinate(_,a),e.getCoordinate(_-1,c),i.countSegment(a,c),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof W&&arguments[1]instanceof Array){for(var E=arguments[1],w=new u(arguments[0]),M=1;M<E.length;M++){var P=E[M],$=E[M-1];if(w.countSegment(P,$),w.isOnSegment())return w.getLocation()}return w.getLocation()}}}])}(),Zi=function(){function u(){p(this,u)}return S(u,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof W&&Vt(arguments[1],he)){for(var e=arguments[0],i=arguments[1],a=new Si,c=new W,_=new W,E=i.size(),w=1;w<E;w++)if(i.getCoordinate(w-1,c),i.getCoordinate(w,_),a.computeIntersection(e,c,_),a.hasIntersection())return!0;return!1}if(arguments[0]instanceof W&&arguments[1]instanceof Array){for(var M=arguments[0],P=arguments[1],$=new Si,lt=1;lt<P.length;lt++){var xt=P[lt-1],At=P[lt];if($.computeIntersection(M,xt,At),$.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,i){return Ir.locatePointInRing(e,i)}},{key:"isInRing",value:function(e,i){return u.locateInRing(e,i)!==Z.EXTERIOR}}])}(),xn=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"setAllLocations",value:function(e){for(var i=0;i<this.location.length;i++)this.location[i]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Z.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var i=0;i<this.location.length;i++)this.location[i]===Z.NONE&&(this.location[i]=e)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[Ot.ON]=this.location[Ot.ON],i[Ot.LEFT]=Z.NONE,i[Ot.RIGHT]=Z.NONE,this.location=i}for(var a=0;a<this.location.length;a++)this.location[a]===Z.NONE&&a<e.location.length&&(this.location[a]=e.location[a])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[Ot.LEFT];this.location[Ot.LEFT]=this.location[Ot.RIGHT],this.location[Ot.RIGHT]=e}},{key:"toString",value:function(){var e=new rs;return this.location.length>1&&e.append(Z.toLocationSymbol(this.location[Ot.LEFT])),e.append(Z.toLocationSymbol(this.location[Ot.ON])),this.location.length>1&&e.append(Z.toLocationSymbol(this.location[Ot.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,i,a){this.location[Ot.ON]=e,this.location[Ot.LEFT]=i,this.location[Ot.RIGHT]=a}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:Z.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Z.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var e=arguments[0];this.setLocation(Ot.ON,e)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.location[i]=a}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(Z.NONE)}},{key:"isEqualOnSide",value:function(e,i){return this.location[i]===e.location[i]}},{key:"allPositionsEqual",value:function(e){for(var i=0;i<this.location.length;i++)if(this.location[i]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Ot.ON]=i}else if(arguments[0]instanceof u){var a=arguments[0];if(this.init(a.location.length),a!==null)for(var c=0;c<this.location.length;c++)this.location[c]=a.location[c]}}else if(arguments.length===3){var _=arguments[0],E=arguments[1],w=arguments[2];this.init(3),this.location[Ot.ON]=_,this.location[Ot.LEFT]=E,this.location[Ot.RIGHT]=w}}}])}(),Xe=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,i){this.elt[e].setAllLocations(i)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.elt[i].setAllLocationsIfNull(a)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var i=0;i<2;i++)this.elt[i]===null&&e.elt[i]!==null?this.elt[i]=new xn(e.elt[i]):this.elt[i].merge(e.elt[i])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(Ot.ON)}if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.elt[i].get(a)}}},{key:"toString",value:function(){var e=new rs;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.elt[e].setLocation(Ot.ON,i)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],_=arguments[2];this.elt[a].setLocation(c,_)}}},{key:"isEqualOnSide",value:function(e,i){return this.elt[0].isEqualOnSide(e.elt[0],i)&&this.elt[1].isEqualOnSide(e.elt[1],i)}},{key:"allPositionsEqual",value:function(e,i){return this.elt[e].allPositionsEqual(i)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new xn(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new xn(e),this.elt[1]=new xn(e)}else if(arguments[0]instanceof u){var i=arguments[0];this.elt[0]=new xn(i.elt[0]),this.elt[1]=new xn(i.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new xn(Z.NONE),this.elt[1]=new xn(Z.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var _=arguments[0],E=arguments[1],w=arguments[2];this.elt[0]=new xn(_,E,w),this.elt[1]=new xn(_,E,w)}else if(arguments.length===4){var M=arguments[0],P=arguments[1],$=arguments[2],lt=arguments[3];this.elt[0]=new xn(Z.NONE,Z.NONE,Z.NONE),this.elt[1]=new xn(Z.NONE,Z.NONE,Z.NONE),this.elt[M].setLocations(P,$,lt)}}},{key:"toLineLabel",value:function(e){for(var i=new u(Z.NONE),a=0;a<2;a++)i.setLocation(a,e.getLocation(a));return i}}])}(),Ti=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var u=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)u[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(u),this._isHole=Kt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(u){this._startDe=u;var e=u,i=!0;do{if(e===null)throw new bn("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new bn("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var a=e.getLabel();dt.isTrue(a.isArea()),this.mergeLabel(a),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(u){return this._pts.get(u)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var u=this._startDe;do{var e=u.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),u=this.getNext(u)}while(u!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(u,e,i){var a=u.getCoordinates();if(e){var c=1;i&&(c=0);for(var _=c;_<a.length;_++)this._pts.add(a[_])}else{var E=a.length-2;i&&(E=a.length-1);for(var w=E;w>=0;w--)this._pts.add(a[w])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var u=this._startDe;do u.getEdge().setInResult(!0),u=u.getNext();while(u!==this._startDe)}},{key:"containsPoint",value:function(u){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(u)||!Zi.isInRing(u,e.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(u))return!1;return!0}},{key:"addHole",value:function(u){this._holes.add(u)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var u=arguments[0];this.mergeLabel(u,0),this.mergeLabel(u,1)}else if(arguments.length===2){var e=arguments[1],i=arguments[0].getLocation(e,Ot.RIGHT);if(i===Z.NONE)return null;if(this._label.getLocation(e)===Z.NONE)return this._label.setLocation(e,i),null}}},{key:"setShell",value:function(u){this._shell=u,u!==null&&u.addHole(this)}},{key:"toPolygon",value:function(u){for(var e=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)e[i]=this._holes.get(i).getLinearRing();return u.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new jt,this._pts=new jt,this._label=new Xe(Z.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new jt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var u=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(u),this.computeRing()}}}}])}(),ee=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"setEdgeRing",value:function(i,a){i.setMinEdgeRing(a)}},{key:"getNext",value:function(i){return i.getNextMin()}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];Ti.constructor_.call(this,i,a)}}])}(Ti),Fn=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"buildMinimalRings",value:function(){var i=new jt,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new ee(a,this._geometryFactory);i.add(c)}a=a.getNext()}while(a!==this._startDe);return i}},{key:"setEdgeRing",value:function(i,a){i.setEdgeRing(a)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var i=this._startDe;do i.getNode().getEdges().linkMinimalDirectedEdges(this),i=i.getNext();while(i!==this._startDe)}},{key:"getNext",value:function(i){return i.getNext()}}],[{key:"constructor_",value:function(){var i=arguments[0],a=arguments[1];Ti.constructor_.call(this,i,a)}}])}(Ti),Te=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"setVisited",value:function(u){this._isVisited=u}},{key:"setInResult",value:function(u){this._isInResult=u}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(u){this._label=u}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(u){this._isCovered=u,this._isCoveredSet=!0}},{key:"updateIM",value:function(u){dt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(u)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._label=u}}}}])}(),wi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"isIncidentEdgeInResult",value:function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();)if(i.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(i){i.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(i){}},{key:"computeMergedLocation",value:function(i,a){var c=Z.NONE;if(c=this._label.getLocation(a),!i.isNull(a)){var _=i.getLocation(a);c!==Z.BOUNDARY&&(c=_)}return c}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return at(e,"setLabel",this,1).apply(this,arguments);var i=arguments[0],a=arguments[1];this._label===null?this._label=new Xe(i,a):this._label.setLocation(i,a)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof e){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof Xe)for(var a=arguments[0],c=0;c<2;c++){var _=this.computeMergedLocation(a,c);this._label.getLocation(c)===Z.NONE&&this._label.setLocation(c,_)}}},{key:"add",value:function(i){this._edges.insert(i),i.setNode(this)}},{key:"setLabelBoundary",value:function(i){if(this._label===null)return null;var a=Z.NONE;this._label!==null&&(a=this._label.getLocation(i));var c=null;switch(a){case Z.BOUNDARY:c=Z.INTERIOR;break;case Z.INTERIOR:default:c=Z.BOUNDARY}this._label.setLocation(i,c)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var i=arguments[0],a=arguments[1];this._coord=i,this._edges=a,this._label=new Xe(0,Z.NONE)}}])}(Te),fs=function(u){function e(){return p(this,e),v(this,e,arguments)}return q(e,u),S(e)}(mr);function Hi(u){return u==null?0:u.color}function ie(u){return u==null?null:u.parent}function $e(u,e){u!==null&&(u.color=e)}function Yi(u){return u==null?null:u.left}function pr(u){return u==null?null:u.right}var Ae=function(u){function e(){var i;return p(this,e),(i=v(this,e)).root_=null,i.size_=0,i}return q(e,u),S(e,[{key:"get",value:function(i){for(var a=this.root_;a!==null;){var c=i.compareTo(a.key);if(c<0)a=a.left;else{if(!(c>0))return a.value;a=a.right}}return null}},{key:"put",value:function(i,a){if(this.root_===null)return this.root_={key:i,value:a,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,_,E=this.root_;do if(c=E,(_=i.compareTo(E.key))<0)E=E.left;else{if(!(_>0)){var w=E.value;return E.value=a,w}E=E.right}while(E!==null);var M={key:i,left:null,right:null,value:a,parent:c,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return _<0?c.left=M:c.right=M,this.fixAfterInsertion(M),this.size_++,null}},{key:"fixAfterInsertion",value:function(i){var a;for(i.color=1;i!=null&&i!==this.root_&&i.parent.color===1;)ie(i)===Yi(ie(ie(i)))?Hi(a=pr(ie(ie(i))))===1?($e(ie(i),0),$e(a,0),$e(ie(ie(i)),1),i=ie(ie(i))):(i===pr(ie(i))&&(i=ie(i),this.rotateLeft(i)),$e(ie(i),0),$e(ie(ie(i)),1),this.rotateRight(ie(ie(i)))):Hi(a=Yi(ie(ie(i))))===1?($e(ie(i),0),$e(a,0),$e(ie(ie(i)),1),i=ie(ie(i))):(i===Yi(ie(i))&&(i=ie(i),this.rotateRight(i)),$e(ie(i),0),$e(ie(ie(i)),1),this.rotateLeft(ie(ie(i))));this.root_.color=0}},{key:"values",value:function(){var i=new jt,a=this.getFirstEntry();if(a!==null)for(i.add(a.value);(a=e.successor(a))!==null;)i.add(a.value);return i}},{key:"entrySet",value:function(){var i=new cr,a=this.getFirstEntry();if(a!==null)for(i.add(a);(a=e.successor(a))!==null;)i.add(a);return i}},{key:"rotateLeft",value:function(i){if(i!=null){var a=i.right;i.right=a.left,a.left!=null&&(a.left.parent=i),a.parent=i.parent,i.parent==null?this.root_=a:i.parent.left===i?i.parent.left=a:i.parent.right=a,a.left=i,i.parent=a}}},{key:"rotateRight",value:function(i){if(i!=null){var a=i.left;i.left=a.right,a.right!=null&&(a.right.parent=i),a.parent=i.parent,i.parent==null?this.root_=a:i.parent.right===i?i.parent.right=a:i.parent.left=a,a.right=i,i.parent=a}}},{key:"getFirstEntry",value:function(){var i=this.root_;if(i!=null)for(;i.left!=null;)i=i.left;return i}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(i){for(var a=this.root_;a!==null;){var c=i.compareTo(a.key);if(c<0)a=a.left;else{if(!(c>0))return!0;a=a.right}}return!1}}],[{key:"successor",value:function(i){var a;if(i===null)return null;if(i.right!==null){for(a=i.right;a.left!==null;)a=a.left;return a}a=i.parent;for(var c=i;a!==null&&c===a.right;)c=a,a=a.parent;return a}}])}(fs),ti=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"find",value:function(u){return this.nodeMap.get(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof W){var u=arguments[0],e=this.nodeMap.get(u);return e===null&&(e=this.nodeFact.createNode(u),this.nodeMap.put(u,e)),e}if(arguments[0]instanceof wi){var i=arguments[0],a=this.nodeMap.get(i.getCoordinate());return a===null?(this.nodeMap.put(i.getCoordinate(),i),i):(a.mergeLabel(i),a)}}},{key:"print",value:function(u){for(var e=this.iterator();e.hasNext();)e.next().print(u)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(u){for(var e=new jt,i=this.iterator();i.hasNext();){var a=i.next();a.getLabel().getLocation(u)===Z.BOUNDARY&&e.add(a)}return e}},{key:"add",value:function(u){var e=u.getCoordinate();this.addNode(e).add(u)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ae,this.nodeFact=null;var u=arguments[0];this.nodeFact=u}}])}(),un=function(){function u(){p(this,u)}return S(u,null,[{key:"isNorthern",value:function(e){return e===u.NE||e===u.NW}},{key:"isOpposite",value:function(e,i){return e!==i&&(e-i+4)%4===2}},{key:"commonHalfPlane",value:function(e,i){if(e===i)return e;if((e-i+4)%4===2)return-1;var a=e<i?e:i;return a===0&&(e>i?e:i)===3?3:a}},{key:"isInHalfPlane",value:function(e,i){return i===u.SE?e===u.SE||e===u.SW:e===i||e===i+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new pt("Cannot compute the quadrant for point ( "+e+", "+i+" )");return e>=0?i>=0?u.NE:u.SE:i>=0?u.NW:u.SW}if(arguments[0]instanceof W&&arguments[1]instanceof W){var a=arguments[0],c=arguments[1];if(c.x===a.x&&c.y===a.y)throw new pt("Cannot compute the quadrant for two identical points "+a);return c.x>=a.x?c.y>=a.y?u.NE:u.SE:c.y>=a.y?u.NW:u.SW}}}])}();un.NE=0,un.NW=1,un.SW=2,un.SE=3;var dn=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:Kt.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var i=Math.atan2(this._dy,this._dx),a=this.getClass().getName(),c=a.lastIndexOf("."),_=a.substring(c+1);e.print("  "+_+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)}},{key:"compareTo",value:function(e){var i=e;return this.compareDirection(i)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),a=i.lastIndexOf(".");return"  "+i.substring(a+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,i){this._p0=e,this._p1=i,this._dx=i.x-e.x,this._dy=i.y-e.y,this._quadrant=un.quadrant(this._dx,this._dy),dt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var i=arguments[0],a=arguments[1],c=arguments[2];u.constructor_.call(this,i,a,c,null)}else if(arguments.length===4){var _=arguments[0],E=arguments[1],w=arguments[2],M=arguments[3];u.constructor_.call(this,_),this.init(E,w),this._label=M}}}])}(),bi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(i){return this._depth[i]}},{key:"setVisited",value:function(i){this._isVisited=i}},{key:"computeDirectedLabel",value:function(){this._label=new Xe(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(i,a){if(this._depth[i]!==-999&&this._depth[i]!==a)throw new bn("assigned depths do not match",this.getCoordinate());this._depth[i]=a}},{key:"isInteriorAreaEdge",value:function(){for(var i=!0,a=0;a<2;a++)this._label.isArea(a)&&this._label.getLocation(a,Ot.LEFT)===Z.INTERIOR&&this._label.getLocation(a,Ot.RIGHT)===Z.INTERIOR||(i=!1);return i}},{key:"setNextMin",value:function(i){this._nextMin=i}},{key:"print",value:function(i){at(e,"print",this,1).call(this,i),i.print(" "+this._depth[Ot.LEFT]+"/"+this._depth[Ot.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")}},{key:"setMinEdgeRing",value:function(i){this._minEdgeRing=i}},{key:"isLineEdge",value:function(){var i=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,Z.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,Z.EXTERIOR);return i&&a&&c}},{key:"setEdgeRing",value:function(i){this._edgeRing=i}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i}},{key:"setInResult",value:function(i){this._isInResult=i}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)}},{key:"setSym",value:function(i){this._sym=i}},{key:"setVisitedEdge",value:function(i){this.setVisited(i),this._sym.setVisited(i)}},{key:"setEdgeDepths",value:function(i,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var _=1;i===Ot.LEFT&&(_=-1);var E=Ot.opposite(i),w=a+c*_;this.setDepth(i,a),this.setDepth(E,w)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(i){this._next=i}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var i=arguments[0],a=arguments[1];if(dn.constructor_.call(this,i),this._isForward=a,a)this.init(i.getCoordinate(0),i.getCoordinate(1));else{var c=i.getNumPoints()-1;this.init(i.getCoordinate(c),i.getCoordinate(c-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(i,a){return i===Z.EXTERIOR&&a===Z.INTERIOR?1:i===Z.INTERIOR&&a===Z.EXTERIOR?-1:0}}])}(dn),Dr=function(){return S(function u(){p(this,u)},[{key:"createNode",value:function(u){return new wi(u,null)}}])}(),Xi=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"printEdges",value:function(u){u.println("Edges:");for(var e=0;e<this._edges.size();e++){u.println("edge "+e+":");var i=this._edges.get(e);i.print(u),i.eiList.print(u)}}},{key:"find",value:function(u){return this._nodes.find(u)}},{key:"addNode",value:function(){if(arguments[0]instanceof wi){var u=arguments[0];return this._nodes.addNode(u)}if(arguments[0]instanceof W){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(u){Yn.out.println(u)}},{key:"isBoundaryNode",value:function(u,e){var i=this._nodes.find(e);if(i===null)return!1;var a=i.getLabel();return a!==null&&a.getLocation(u)===Z.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var u=this._nodes.iterator();u.hasNext();)u.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(u,e,i,a){return!!u.equals(i)&&Kt.index(u,e,a)===Kt.COLLINEAR&&un.quadrant(u,e)===un.quadrant(i,a)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(u){Yn.out.print(u)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(u,e){for(var i=0;i<this._edges.size();i++){var a=this._edges.get(i),c=a.getCoordinates();if(this.matchInSameDirection(u,e,c[0],c[1])||this.matchInSameDirection(u,e,c[c.length-1],c[c.length-2]))return a}return null}},{key:"insertEdge",value:function(u){this._edges.add(u)}},{key:"findEdgeEnd",value:function(u){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var i=e.next();if(i.getEdge()===u)return i}return null}},{key:"addEdges",value:function(u){for(var e=u.iterator();e.hasNext();){var i=e.next();this._edges.add(i);var a=new bi(i,!0),c=new bi(i,!1);a.setSym(c),c.setSym(a),this.add(a),this.add(c)}}},{key:"add",value:function(u){this._nodes.add(u),this._edgeEndList.add(u)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(u,e){for(var i=0;i<this._edges.size();i++){var a=this._edges.get(i),c=a.getCoordinates();if(u.equals(c[0])&&e.equals(c[1]))return a}return null}}],[{key:"constructor_",value:function(){if(this._edges=new jt,this._nodes=null,this._edgeEndList=new jt,arguments.length===0)this._nodes=new ti(new Dr);else if(arguments.length===1){var u=arguments[0];this._nodes=new ti(u)}}},{key:"linkResultDirectedEdges",value:function(u){for(var e=u.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}])}(),Qu=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"sortShellsAndHoles",value:function(e,i,a){for(var c=e.iterator();c.hasNext();){var _=c.next();_.isHole()?a.add(_):i.add(_)}}},{key:"computePolygons",value:function(e){for(var i=new jt,a=e.iterator();a.hasNext();){var c=a.next().toPolygon(this._geometryFactory);i.add(c)}return i}},{key:"placeFreeHoles",value:function(e,i){for(var a=i.iterator();a.hasNext();){var c=a.next();if(c.getShell()===null){var _=u.findEdgeRingContaining(c,e);if(_===null)throw new bn("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(_)}}}},{key:"buildMinimalEdgeRings",value:function(e,i,a){for(var c=new jt,_=e.iterator();_.hasNext();){var E=_.next();if(E.getMaxNodeDegree()>2){E.linkDirectedEdgesForMinimalEdgeRings();var w=E.buildMinimalRings(),M=this.findShell(w);M!==null?(this.placePolygonHoles(M,w),i.add(M)):a.addAll(w)}else c.add(E)}return c}},{key:"buildMaximalEdgeRings",value:function(e){for(var i=new jt,a=e.iterator();a.hasNext();){var c=a.next();if(c.isInResult()&&c.getLabel().isArea()&&c.getEdgeRing()===null){var _=new Fn(c,this._geometryFactory);i.add(_),_.setInResult()}}return i}},{key:"placePolygonHoles",value:function(e,i){for(var a=i.iterator();a.hasNext();){var c=a.next();c.isHole()&&c.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var i=0,a=null,c=e.iterator();c.hasNext();){var _=c.next();_.isHole()||(a=_,i++)}return dt.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),a}},{key:"add",value:function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var i=arguments[0],a=arguments[1];Xi.linkResultDirectedEdges(a);var c=this.buildMaximalEdgeRings(i),_=new jt,E=this.buildMinimalEdgeRings(c,this._shellList,_);this.sortShellsAndHoles(E,this._shellList,_),this.placeFreeHoles(this._shellList,_)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new jt;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,i){for(var a=e.getLinearRing(),c=a.getEnvelopeInternal(),_=a.getCoordinateN(0),E=null,w=null,M=i.iterator();M.hasNext();){var P=M.next(),$=P.getLinearRing(),lt=$.getEnvelopeInternal();if(!lt.equals(c)&&lt.contains(c)){_=Re.ptNotInList(a.getCoordinates(),$.getCoordinates());var xt=!1;Zi.isInRing(_,$.getCoordinates())&&(xt=!0),xt&&(E===null||w.contains(lt))&&(w=(E=P).getLinearRing().getEnvelopeInternal())}}return E}}])}(),ds=function(){return S(function u(){p(this,u)},[{key:"getBounds",value:function(){}}])}(),$t=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[ds,C]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var u=arguments[0],e=arguments[1];this._bounds=u,this._item=e}}])}(),Fi=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"poll",value:function(){if(this.isEmpty())return null;var u=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),u}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(u){for(var e=null,i=this._items.get(u);2*u<=this._size&&((e=2*u)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(i)<0);u=e)this._items.set(u,this._items.get(e));this._items.set(u,i)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(u){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,u);u.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,u)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new jt,this._items.add(null)}}])}(),Nn=function(){return S(function u(){p(this,u)},[{key:"insert",value:function(u,e){}},{key:"remove",value:function(u,e){}},{key:"query",value:function(){}}])}(),on=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(u){dt.isTrue(this._bounds===null),this._childBoundables.add(u)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[ds,C]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new jt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this._level=u}}}}])}(),yr={reverseOrder:function(){return{compare:function(u,e){return e.compareTo(u)}}},min:function(u){return yr.sort(u),u.get(0)},sort:function(u,e){var i=u.toArray();e?sn.sort(i,e):sn.sort(i);for(var a=u.iterator(),c=0,_=i.length;c<_;c++)a.next(),a.set(i[c])},singletonList:function(u){var e=new jt;return e.add(u),e}},Ku=function(){function u(){p(this,u)}return S(u,null,[{key:"maxDistance",value:function(e,i,a,c,_,E,w,M){var P=u.distance(e,i,_,E);return P=Math.max(P,u.distance(e,i,w,M)),P=Math.max(P,u.distance(a,c,_,E)),P=Math.max(P,u.distance(a,c,w,M))}},{key:"distance",value:function(e,i,a,c){var _=a-e,E=c-i;return Math.sqrt(_*_+E*E)}},{key:"maximumDistance",value:function(e,i){var a=Math.min(e.getMinX(),i.getMinX()),c=Math.min(e.getMinY(),i.getMinY()),_=Math.max(e.getMaxX(),i.getMaxX()),E=Math.max(e.getMaxY(),i.getMaxY());return u.distance(a,c,_,E)}},{key:"minMaxDistance",value:function(e,i){var a=e.getMinX(),c=e.getMinY(),_=e.getMaxX(),E=e.getMaxY(),w=i.getMinX(),M=i.getMinY(),P=i.getMaxX(),$=i.getMaxY(),lt=u.maxDistance(a,c,a,E,w,M,w,$);return lt=Math.min(lt,u.maxDistance(a,c,a,E,w,M,P,M)),lt=Math.min(lt,u.maxDistance(a,c,a,E,P,$,w,$)),lt=Math.min(lt,u.maxDistance(a,c,a,E,P,$,P,M)),lt=Math.min(lt,u.maxDistance(a,c,_,c,w,M,w,$)),lt=Math.min(lt,u.maxDistance(a,c,_,c,w,M,P,M)),lt=Math.min(lt,u.maxDistance(a,c,_,c,P,$,w,$)),lt=Math.min(lt,u.maxDistance(a,c,_,c,P,$,P,M)),lt=Math.min(lt,u.maxDistance(_,E,a,E,w,M,w,$)),lt=Math.min(lt,u.maxDistance(_,E,a,E,w,M,P,M)),lt=Math.min(lt,u.maxDistance(_,E,a,E,P,$,w,$)),lt=Math.min(lt,u.maxDistance(_,E,a,E,P,$,P,M)),lt=Math.min(lt,u.maxDistance(_,E,_,c,w,M,w,$)),lt=Math.min(lt,u.maxDistance(_,E,_,c,w,M,P,M)),lt=Math.min(lt,u.maxDistance(_,E,_,c,P,$,w,$)),lt=Math.min(lt,u.maxDistance(_,E,_,c,P,$,P,M))}}])}(),Vi=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"maximumDistance",value:function(){return Ku.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,i){var a=u.isComposite(this._boundable1),c=u.isComposite(this._boundable2);if(a&&c)return u.area(this._boundable1)>u.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,i),null):(this.expand(this._boundable2,this._boundable1,!0,e,i),null);if(a)return this.expand(this._boundable1,this._boundable2,!1,e,i),null;if(c)return this.expand(this._boundable2,this._boundable1,!0,e,i),null;throw new pt("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(u.isComposite(this._boundable1)||u.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var i=e;return this._distance<i._distance?-1:this._distance>i._distance?1:0}},{key:"expand",value:function(e,i,a,c,_){for(var E=e.getChildBoundables().iterator();E.hasNext();){var w=E.next(),M=null;(M=a?new u(i,w,this._itemDistance):new u(w,i,this._itemDistance)).getDistance()<_&&c.add(M)}}},{key:"getBoundable",value:function(e){return e===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],i=arguments[1],a=arguments[2];this._boundable1=e,this._boundable2=i,this._itemDistance=a,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof on}}])}(),Fs=function(){return S(function u(){p(this,u)},[{key:"visitItem",value:function(u){}}])}(),xr=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"queryInternal",value:function(){if(Vt(arguments[2],Fs)&&arguments[0]instanceof Object&&arguments[1]instanceof on)for(var e=arguments[0],i=arguments[2],a=arguments[1].getChildBoundables(),c=0;c<a.size();c++){var _=a.get(c);this.getIntersectsOp().intersects(_.getBounds(),e)&&(_ instanceof on?this.queryInternal(e,_,i):_ instanceof $t?i.visitItem(_.getItem()):dt.shouldNeverReachHere())}else if(Vt(arguments[2],Di)&&arguments[0]instanceof Object&&arguments[1]instanceof on)for(var E=arguments[0],w=arguments[2],M=arguments[1].getChildBoundables(),P=0;P<M.size();P++){var $=M.get(P);this.getIntersectsOp().intersects($.getBounds(),E)&&($ instanceof on?this.queryInternal(E,$,w):$ instanceof $t?w.add($.getItem()):dt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var e=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof on?e+=this.size(a):a instanceof $t&&(e+=1)}return e}}},{key:"removeItem",value:function(e,i){for(var a=null,c=e.getChildBoundables().iterator();c.hasNext();){var _=c.next();_ instanceof $t&&_.getItem()===i&&(a=_)}return a!==null&&(e.getChildBoundables().remove(a),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var e=this.itemsTree(this._root);return e===null?new jt:e}if(arguments.length===1){for(var i=arguments[0],a=new jt,c=i.getChildBoundables().iterator();c.hasNext();){var _=c.next();if(_ instanceof on){var E=this.itemsTree(_);E!==null&&a.add(E)}else _ instanceof $t?a.add(_.getItem()):dt.shouldNeverReachHere()}return a.size()<=0?null:a}}},{key:"insert",value:function(e,i){dt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new $t(e,i))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var e=arguments[0],i=new jt;return this.boundablesAtLevel(e,this._root,i),i}if(arguments.length===3){var a=arguments[0],c=arguments[1],_=arguments[2];if(dt.isTrue(a>-2),c.getLevel()===a)return _.add(c),null;for(var E=c.getChildBoundables().iterator();E.hasNext();){var w=E.next();w instanceof on?this.boundablesAtLevel(a,w,_):(dt.isTrue(w instanceof $t),a===-1&&_.add(w))}return null}}},{key:"query",value:function(){if(arguments.length===1){var e=arguments[0];this.build();var i=new jt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,i),i}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.queryInternal(a,this._root,c)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,i)}if(arguments.length===3){var a=arguments[0],c=arguments[1],_=arguments[2],E=this.removeItem(c,_);if(E)return!0;for(var w=null,M=c.getChildBoundables().iterator();M.hasNext();){var P=M.next();if(this.getIntersectsOp().intersects(P.getBounds(),a)&&P instanceof on&&(E=this.remove(a,P,_))){w=P;break}}return w!==null&&w.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(w),E}}},{key:"createHigherLevels",value:function(e,i){dt.isTrue(!e.isEmpty());var a=this.createParentBoundables(e,i+1);return a.size()===1?a.get(0):this.createHigherLevels(a,i+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var e=0,i=arguments[0].getChildBoundables().iterator();i.hasNext();){var a=i.next();if(a instanceof on){var c=this.depth(a);c>e&&(e=c)}}return e+1}}},{key:"createParentBoundables",value:function(e,i){dt.isTrue(!e.isEmpty());var a=new jt;a.add(this.createNode(i));var c=new jt(e);yr.sort(c,this.getComparator());for(var _=c.iterator();_.hasNext();){var E=_.next();this.lastNode(a).getChildBoundables().size()===this.getNodeCapacity()&&a.add(this.createNode(i)),this.lastNode(a).addChildBoundable(E)}return a}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[C]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new jt,this._nodeCapacity=null,arguments.length===0)u.constructor_.call(this,u.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var e=arguments[0];dt.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,i){return e>i?1:e<i?-1:0}}])}();xr.IntersectsOp=function(){},xr.DEFAULT_NODE_CAPACITY=10;var Ju=function(){return S(function u(){p(this,u)},[{key:"distance",value:function(u,e){}}])}(),hi=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"createParentBoundablesFromVerticalSlices",value:function(i,a){dt.isTrue(i.length>0);for(var c=new jt,_=0;_<i.length;_++)c.addAll(this.createParentBoundablesFromVerticalSlice(i[_],a));return c}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.nearestNeighbourK(i,R.POSITIVE_INFINITY,a)}if(arguments.length===3){var c=arguments[0],_=arguments[2],E=arguments[1],w=new Fi;w.add(c);for(var M=new Fi;!w.isEmpty()&&E>=0;){var P=w.poll(),$=P.getDistance();if($>=E)break;P.isLeaves()?M.size()<_?M.add(P):(M.peek().getDistance()>$&&(M.poll(),M.add(P)),E=M.peek().getDistance()):P.expandToQueue(w,E)}return e.getItems(M)}}},{key:"createNode",value:function(i){return new Vs(i)}},{key:"size",value:function(){return arguments.length===0?at(e,"size",this,1).call(this):at(e,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Yt))return at(e,"insert",this,1).apply(this,arguments);var i=arguments[0],a=arguments[1];if(i.isNull())return null;at(e,"insert",this,1).call(this,i,a)}},{key:"getIntersectsOp",value:function(){return e.intersectsOp}},{key:"verticalSlices",value:function(i,a){for(var c=Math.trunc(Math.ceil(i.size()/a)),_=new Array(a).fill(null),E=i.iterator(),w=0;w<a;w++){_[w]=new jt;for(var M=0;E.hasNext()&&M<c;){var P=E.next();_[w].add(P),M++}}return _}},{key:"query",value:function(){if(arguments.length===1){var i=arguments[0];return at(e,"query",this,1).call(this,i)}if(arguments.length===2){var a=arguments[0],c=arguments[1];at(e,"query",this,1).call(this,a,c)}}},{key:"getComparator",value:function(){return e.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(i,a){return at(e,"createParentBoundables",this,1).call(this,i,a)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Yt){var i=arguments[0],a=arguments[1];return at(e,"remove",this,1).call(this,i,a)}return at(e,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?at(e,"depth",this,1).call(this):at(e,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(i,a){dt.isTrue(!i.isEmpty());var c=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),_=new jt(i);yr.sort(_,e.xComparator);var E=this.verticalSlices(_,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(E,a)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Vt(arguments[0],Ju)){var i=arguments[0];if(this.isEmpty())return null;var a=new Vi(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(a)}if(arguments[0]instanceof Vi){var c=arguments[0],_=R.POSITIVE_INFINITY,E=null,w=new Fi;for(w.add(c);!w.isEmpty()&&_>0;){var M=w.poll(),P=M.getDistance();if(P>=_)break;M.isLeaves()?(_=P,E=M):M.expandToQueue(w,_)}return E===null?null:[E.getBoundable(0).getItem(),E.getBoundable(1).getItem()]}}else{if(arguments.length===2){var $=arguments[0],lt=arguments[1];if(this.isEmpty()||$.isEmpty())return null;var xt=new Vi(this.getRoot(),$.getRoot(),lt);return this.nearestNeighbour(xt)}if(arguments.length===3){var At=arguments[2],Bt=new $t(arguments[0],arguments[1]),Zt=new Vi(this.getRoot(),Bt,At);return this.nearestNeighbour(Zt)[0]}if(arguments.length===4){var de=arguments[2],re=arguments[3],we=new $t(arguments[0],arguments[1]),pe=new Vi(this.getRoot(),we,de);return this.nearestNeighbourK(pe,re)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var i=arguments[0],a=arguments[1],c=R.POSITIVE_INFINITY,_=new Fi;for(_.add(i);!_.isEmpty();){var E=_.poll(),w=E.getDistance();if(w>a)return!1;if(E.maximumDistance()<=a)return!0;if(E.isLeaves()){if((c=w)<=a)return!0}else E.expandToQueue(_,c)}return!1}if(arguments.length===3){var M=arguments[0],P=arguments[1],$=arguments[2],lt=new Vi(this.getRoot(),M.getRoot(),P);return this.isWithinDistance(lt,$)}}},{key:"interfaces_",get:function(){return[Nn,C]}}],[{key:"constructor_",value:function(){if(arguments.length===0)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var i=arguments[0];xr.constructor_.call(this,i)}}},{key:"centreX",value:function(i){return e.avg(i.getMinX(),i.getMaxX())}},{key:"avg",value:function(i,a){return(i+a)/2}},{key:"getItems",value:function(i){for(var a=new Array(i.size()).fill(null),c=0;!i.isEmpty();){var _=i.poll();a[c]=_.getBoundable(0).getItem(),c++}return a}},{key:"centreY",value:function(i){return e.avg(i.getMinY(),i.getMaxY())}}])}(xr),Vs=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"computeBounds",value:function(){for(var i=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();i===null?i=new Yt(c.getBounds()):i.expandToInclude(c.getBounds())}return i}}],[{key:"constructor_",value:function(){var i=arguments[0];on.constructor_.call(this,i)}}])}(on);hi.STRtreeNode=Vs,hi.xComparator=new(function(){return S(function u(){p(this,u)},[{key:"interfaces_",get:function(){return[it]}},{key:"compare",value:function(u,e){return xr.compareDoubles(hi.centreX(u.getBounds()),hi.centreX(e.getBounds()))}}])}()),hi.yComparator=new(function(){return S(function u(){p(this,u)},[{key:"interfaces_",get:function(){return[it]}},{key:"compare",value:function(u,e){return xr.compareDoubles(hi.centreY(u.getBounds()),hi.centreY(e.getBounds()))}}])}()),hi.intersectsOp=new(function(){return S(function u(){p(this,u)},[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(u,e){return u.intersects(e)}}])}()),hi.DEFAULT_NODE_CAPACITY=10;var Wu=function(){function u(){p(this,u)}return S(u,null,[{key:"relativeSign",value:function(e,i){return e<i?-1:e>i?1:0}},{key:"compare",value:function(e,i,a){if(i.equals2D(a))return 0;var c=u.relativeSign(i.x,a.x),_=u.relativeSign(i.y,a.y);switch(e){case 0:return u.compareValue(c,_);case 1:return u.compareValue(_,c);case 2:return u.compareValue(_,-c);case 3:return u.compareValue(-c,_);case 4:return u.compareValue(-c,-_);case 5:return u.compareValue(-_,-c);case 6:return u.compareValue(-_,c);case 7:return u.compareValue(c,-_)}return dt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,i){return e<0?-1:e>0?1:i<0?-1:i>0?1:0}}])}(),ei=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(u){var e=u;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?Wu.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===u}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var u=arguments[0],e=arguments[1],i=arguments[2],a=arguments[3];this._segString=u,this.coord=new W(e),this.segmentIndex=i,this._segmentOctant=a,this._isInterior=!e.equals2D(u.getCoordinate(i))}}])}(),$u=function(){return S(function u(){p(this,u)},[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),gu=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getSplitCoordinates",value:function(){var u=new Jn;this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var a=e.next();this.addEdgeCoordinates(i,a,u),i=a}return u.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var u=new jt;this.findCollapsesFromInsertedNodes(u),this.findCollapsesFromExistingVertices(u);for(var e=u.iterator();e.hasNext();){var i=e.next().intValue();this.add(this._edge.getCoordinate(i),i)}}},{key:"createSplitEdgePts",value:function(u,e){var i=e.segmentIndex-u.segmentIndex+2;if(i===2)return[new W(u.coord),new W(e.coord)];var a=this._edge.getCoordinate(e.segmentIndex),c=e.isInterior()||!e.coord.equals2D(a);c||i--;var _=new Array(i).fill(null),E=0;_[E++]=new W(u.coord);for(var w=u.segmentIndex+1;w<=e.segmentIndex;w++)_[E++]=this._edge.getCoordinate(w);return c&&(_[E]=new W(e.coord)),_}},{key:"print",value:function(u){u.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(u)}},{key:"findCollapsesFromExistingVertices",value:function(u){for(var e=0;e<this._edge.size()-2;e++){var i=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var a=this._edge.getCoordinate(e+2);i.equals2D(a)&&u.add(fr.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(u,e,i){var a=this.createSplitEdgePts(u,e);i.add(a,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),i=e.next();e.hasNext();){var a=e.next(),c=this.createSplitEdge(i,a);u.add(c),i=a}}},{key:"findCollapseIndex",value:function(u,e,i){if(!u.coord.equals2D(e.coord))return!1;var a=e.segmentIndex-u.segmentIndex;return e.isInterior()||a--,a===1&&(i[0]=u.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(u){for(var e=new Array(1).fill(null),i=this.iterator(),a=i.next();i.hasNext();){var c=i.next();this.findCollapseIndex(a,c,e)&&u.add(fr.valueOf(e[0])),a=c}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var u=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(u),u)}},{key:"createSplitEdge",value:function(u,e){var i=this.createSplitEdgePts(u,e);return new ki(i,this._edge.getData())}},{key:"add",value:function(u,e){var i=new ei(this._edge,u,e,this._edge.getSegmentOctant(e)),a=this._nodeMap.get(i);return a!==null?(dt.isTrue(a.coord.equals2D(u),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(i,i),i)}},{key:"checkSplitEdgesCorrectness",value:function(u){var e=this._edge.getCoordinates(),i=u.get(0).getCoordinate(0);if(!i.equals2D(e[0]))throw new yt("bad split edge start point at "+i);var a=u.get(u.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(e[e.length-1]))throw new yt("bad split edge end point at "+c)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ae,this._edge=null;var u=arguments[0];this._edge=u}}])}(),ji=function(){function u(){p(this,u)}return S(u,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new pt("Cannot compute the octant for point ( "+e+", "+i+" )");var a=Math.abs(e),c=Math.abs(i);return e>=0?i>=0?a>=c?0:1:a>=c?7:6:i>=0?a>=c?3:2:a>=c?4:5}if(arguments[0]instanceof W&&arguments[1]instanceof W){var _=arguments[0],E=arguments[1],w=E.x-_.x,M=E.y-_.y;if(w===0&&M===0)throw new pt("Cannot compute the octant for two identical points "+_);return u.octant(w,M)}}}])}(),mu=function(){return S(function u(){p(this,u)},[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(u){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(u){}},{key:"getData",value:function(){}}])}(),js=function(){return S(function u(){p(this,u)},[{key:"addIntersection",value:function(u,e){}},{key:"interfaces_",get:function(){return[mu]}}])}(),ki=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,i){return e.equals2D(i)?0:ji.octant(e,i)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.addIntersectionNode(e,i)}else if(arguments.length===4){var a=arguments[1],c=arguments[3],_=new W(arguments[0].getIntersection(c));this.addIntersection(_,a)}}},{key:"toString",value:function(){return _r.toLineString(new Ar(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,i){var a=i,c=a+1;if(c<this._pts.length){var _=this._pts[c];e.equals2D(_)&&(a=c)}return this._nodeList.add(e,a)}},{key:"addIntersections",value:function(e,i,a){for(var c=0;c<e.getIntersectionNum();c++)this.addIntersection(e,i,a,c)}},{key:"interfaces_",get:function(){return[js]}}],[{key:"constructor_",value:function(){this._nodeList=new gu(this),this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var e=arguments[0],i=new jt;return u.getNodedSubstrings(e,i),i}if(arguments.length===2)for(var a=arguments[1],c=arguments[0].iterator();c.hasNext();)c.next().getNodeList().addSplitEdges(a)}}])}(),zn=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof u){var e=arguments[0],i=Kt.index(this.p0,this.p1,e.p0),a=Kt.index(this.p0,this.p1,e.p1);return i>=0&&a>=0||i<=0&&a<=0?Math.max(i,a):0}if(arguments[0]instanceof W){var c=arguments[0];return Kt.index(this.p0,this.p1,c)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof u))return!1;var i=e;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)}},{key:"intersection",value:function(e){var i=new Si;return i.computeIntersection(this.p0,this.p1,e.p0,e.p1),i.hasIntersection()?i.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof W){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new W(e);var i=this.projectionFactor(e),a=new W;return a.x=this.p0.x+i*(this.p1.x-this.p0.x),a.y=this.p0.y+i*(this.p1.y-this.p0.y),a}if(arguments[0]instanceof u){var c=arguments[0],_=this.projectionFactor(c.p0),E=this.projectionFactor(c.p1);if(_>=1&&E>=1||_<=0&&E<=0)return null;var w=this.project(c.p0);_<0&&(w=this.p0),_>1&&(w=this.p1);var M=this.project(c.p1);return E<0&&(M=this.p0),E>1&&(M=this.p1),new u(w,M)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return e===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return kn.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return u.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,a=this.p1.y-this.p0.y,c=i*i+a*a;return c<=0?R.NaN:((e.x-this.p0.x)*i+(e.y-this.p0.y)*a)/c}},{key:"closestPoints",value:function(e){var i=this.intersection(e);if(i!==null)return[i,i];var a=new Array(2).fill(null),c=R.MAX_VALUE,_=null,E=this.closestPoint(e.p0);c=E.distance(e.p0),a[0]=E,a[1]=e.p0;var w=this.closestPoint(e.p1);(_=w.distance(e.p1))<c&&(c=_,a[0]=w,a[1]=e.p1);var M=e.closestPoint(this.p0);(_=M.distance(this.p0))<c&&(c=_,a[0]=this.p0,a[1]=M);var P=e.closestPoint(this.p1);return(_=P.distance(this.p1))<c&&(c=_,a[0]=this.p1,a[1]=P),a}},{key:"closestPoint",value:function(e){var i=this.projectionFactor(e);return i>0&&i<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var i=e,a=this.p0.compareTo(i.p0);return a!==0?a:this.p1.compareTo(i.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return Ma.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,i){var a=this.p0.x+e*(this.p1.x-this.p0.x),c=this.p0.y+e*(this.p1.y-this.p0.y),_=this.p1.x-this.p0.x,E=this.p1.y-this.p0.y,w=Math.sqrt(_*_+E*E),M=0,P=0;if(i!==0){if(w<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");M=i*_/w,P=i*E/w}return new W(a-P,c+M)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=a.x,this.p1.y=a.y}}},{key:"segmentFraction",value:function(e){var i=this.projectionFactor(e);return i<0?i=0:(i>1||R.isNaN(i))&&(i=1),i}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var i=this.p1.getY()-this.p0.getY(),a=this.p0.getX()-this.p1.getX(),c=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),_=i*i+a*a,E=i*i-a*a,w=e.getX(),M=e.getY();return new W((-E*w-2*i*a*M-2*i*c)/_,(E*M-2*i*a*w-2*a*c)/_)}},{key:"distance",value:function(){if(arguments[0]instanceof u){var e=arguments[0];return kn.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof W){var i=arguments[0];return kn.pointToSegment(i,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var i=new W;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}},{key:"hashCode",value:function(){var e=R.doubleToLongBits(this.p0.x);e^=31*R.doubleToLongBits(this.p0.y);var i=Math.trunc(e)^Math.trunc(e>>32),a=R.doubleToLongBits(this.p1.x);return a^=31*R.doubleToLongBits(this.p1.y),i^(Math.trunc(a)^Math.trunc(a>>32))}},{key:"interfaces_",get:function(){return[Ct,C]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)u.constructor_.call(this,new W,new W);else if(arguments.length===1){var e=arguments[0];u.constructor_.call(this,e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.p0=i,this.p1=a}else if(arguments.length===4){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3];u.constructor_.call(this,new W(c,_),new W(E,w))}}},{key:"midPoint",value:function(e,i){return new W((e.x+i.x)/2,(e.y+i.y)/2)}}])}(),vu=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var u=arguments[1],e=arguments[2],i=arguments[3];arguments[0].getLineSegment(u,this._overlapSeg1),e.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new zn,this._overlapSeg2=new zn}}])}(),Qs=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getLineSegment",value:function(u,e){e.p0=this._pts[u],e.p1=this._pts[u+1]}},{key:"computeSelect",value:function(u,e,i,a){var c=this._pts[e],_=this._pts[i];if(i-e==1)return a.select(this,e),null;if(!u.intersects(c,_))return null;var E=Math.trunc((e+i)/2);e<E&&this.computeSelect(u,e,E,a),E<i&&this.computeSelect(u,E,i,a)}},{key:"getCoordinates",value:function(){for(var u=new Array(this._end-this._start+1).fill(null),e=0,i=this._start;i<=this._end;i++)u[e++]=this._pts[i];return u}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var u=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,u,u._start,u._end,e)}else if(arguments.length===6){var i=arguments[0],a=arguments[1],c=arguments[2],_=arguments[3],E=arguments[4],w=arguments[5];if(a-i==1&&E-_==1)return w.overlap(this,i,c,_),null;if(!this.overlaps(i,a,c,_,E))return null;var M=Math.trunc((i+a)/2),P=Math.trunc((_+E)/2);i<M&&(_<P&&this.computeOverlaps(i,M,c,_,P,w),P<E&&this.computeOverlaps(i,M,c,P,E,w)),M<a&&(_<P&&this.computeOverlaps(M,a,c,_,P,w),P<E&&this.computeOverlaps(M,a,c,P,E,w))}}},{key:"setId",value:function(u){this._id=u}},{key:"select",value:function(u,e){this.computeSelect(u,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(this._env===null){var u=this._pts[this._start],e=this._pts[this._end];this._env=new Yt(u,e)}return this._env}},{key:"overlaps",value:function(u,e,i,a,c){return Yt.intersects(this._pts[u],this._pts[e],i._pts[a],i._pts[c])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var u=arguments[0],e=arguments[1],i=arguments[2],a=arguments[3];this._pts=u,this._start=e,this._end=i,this._context=a}}])}(),to=function(){function u(){p(this,u)}return S(u,null,[{key:"findChainEnd",value:function(e,i){for(var a=i;a<e.length-1&&e[a].equals2D(e[a+1]);)a++;if(a>=e.length-1)return e.length-1;for(var c=un.quadrant(e[a],e[a+1]),_=i+1;_<e.length&&!(!e[_-1].equals2D(e[_])&&un.quadrant(e[_-1],e[_])!==c);)_++;return _-1}},{key:"getChains",value:function(){if(arguments.length===1){var e=arguments[0];return u.getChains(e,null)}if(arguments.length===2){var i=arguments[0],a=arguments[1],c=new jt,_=0;do{var E=u.findChainEnd(i,_),w=new Qs(i,_,E,a);c.add(w),_=E}while(_<i.length-1);return c}}}])}(),Ia=function(){return S(function u(){p(this,u)},[{key:"computeNodes",value:function(u){}},{key:"getNodedSubstrings",value:function(){}}])}(),Ks=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"setSegmentIntersector",value:function(u){this._segInt=u}},{key:"interfaces_",get:function(){return[Ia]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var u=arguments[0];this.setSegmentIntersector(u)}}}}])}(),Da=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return ki.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(i){for(var a=to.getChains(i.getCoordinates(),i).iterator();a.hasNext();){var c=a.next();c.setId(this._idCounter++),this._index.insert(c.getEnvelope(),c),this._monoChains.add(c)}}},{key:"computeNodes",value:function(i){this._nodedSegStrings=i;for(var a=i.iterator();a.hasNext();)this.add(a.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var i=new za(this._segInt),a=this._monoChains.iterator();a.hasNext();)for(var c=a.next(),_=this._index.query(c.getEnvelope()).iterator();_.hasNext();){var E=_.next();if(E.getId()>c.getId()&&(c.computeOverlaps(E,i),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new jt,this._index=new hi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var i=arguments[0];Ks.constructor_.call(this,i)}}}}])}(Ks),za=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"overlap",value:function(){if(arguments.length!==4)return at(e,"overlap",this,1).apply(this,arguments);var i=arguments[1],a=arguments[2],c=arguments[3],_=arguments[0].getContext(),E=a.getContext();this._si.processIntersections(_,i,E,c)}}],[{key:"constructor_",value:function(){this._si=null;var i=arguments[0];this._si=i}}])}(vu);Da.SegmentOverlapAction=za;var Vn=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"isDeletable",value:function(e,i,a,c){var _=this._inputLine[e],E=this._inputLine[i],w=this._inputLine[a];return!!this.isConcave(_,E,w)&&!!this.isShallow(_,E,w,c)&&this.isShallowSampled(_,E,e,a,c)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,i=this.findNextNonDeletedIndex(e),a=this.findNextNonDeletedIndex(i),c=!1;a<this._inputLine.length;){var _=!1;this.isDeletable(e,i,a,this._distanceTol)&&(this._isDeleted[i]=u.DELETE,_=!0,c=!0),e=_?a:i,i=this.findNextNonDeletedIndex(e),a=this.findNextNonDeletedIndex(i)}return c}},{key:"isShallowConcavity",value:function(e,i,a,c){return Kt.index(e,i,a)===this._angleOrientation&&kn.pointToSegment(i,e,a)<c}},{key:"isShallowSampled",value:function(e,i,a,c,_){var E=Math.trunc((c-a)/u.NUM_PTS_TO_CHECK);E<=0&&(E=1);for(var w=a;w<c;w+=E)if(!this.isShallow(e,i,this._inputLine[w],_))return!1;return!0}},{key:"isConcave",value:function(e,i,a){var c=Kt.index(e,i,a)===this._angleOrientation;return c}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=Kt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var i=e+1;i<this._inputLine.length&&this._isDeleted[i]===u.DELETE;)i++;return i}},{key:"isShallow",value:function(e,i,a,c){return kn.pointToSegment(i,e,a)<c}},{key:"collapseLine",value:function(){for(var e=new Jn,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==u.DELETE&&e.add(this._inputLine[i]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Kt.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,i){return new u(e).simplify(i)}}])}();Vn.INIT=0,Vn.DELETE=1,Vn.KEEP=1,Vn.NUM_PTS_TO_CHECK=10;var gs=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getCoordinates",value:function(){return this._ptList.toArray(u.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var i=new W(e);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,i){if(i)for(var a=0;a<e.length;a++)this.addPt(e[a]);else for(var c=e.length-1;c>=0;c--)this.addPt(e[c])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return e.distance(i)<this._minimimVertexDistance}},{key:"toString",value:function(){return new li().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new W(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(e.equals(i))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new jt}}])}();gs.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Fe=function(){function u(){p(this,u)}return S(u,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=u.PI_TIMES_2;for(;e<=-Math.PI;)e+=u.PI_TIMES_2;return e}},{key:"angle",value:function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var i=arguments[0],a=arguments[1],c=a.x-i.x,_=a.y-i.y;return Math.atan2(_,c)}}},{key:"isAcute",value:function(e,i,a){var c=e.x-i.x,_=e.y-i.y;return c*(a.x-i.x)+_*(a.y-i.y)>0}},{key:"isObtuse",value:function(e,i,a){var c=e.x-i.x,_=e.y-i.y;return c*(a.x-i.x)+_*(a.y-i.y)<0}},{key:"interiorAngle",value:function(e,i,a){var c=u.angle(i,e),_=u.angle(i,a);return Math.abs(_-c)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=u.PI_TIMES_2;e>=u.PI_TIMES_2&&(e=0)}else{for(;e>=u.PI_TIMES_2;)e-=u.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,i,a){var c=u.angle(i,e),_=u.angle(i,a);return u.diff(c,_)}},{key:"diff",value:function(e,i){var a=null;return(a=e<i?i-e:e-i)>Math.PI&&(a=2*Math.PI-a),a}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,i){var a=Math.sin(i-e);return a>0?u.COUNTERCLOCKWISE:a<0?u.CLOCKWISE:u.NONE}},{key:"angleBetweenOriented",value:function(e,i,a){var c=u.angle(i,e),_=u.angle(i,a)-c;return _<=-Math.PI?_+u.PI_TIMES_2:_>Math.PI?_-u.PI_TIMES_2:_}}])}();Fe.PI_TIMES_2=2*Math.PI,Fe.PI_OVER_2=Math.PI/2,Fe.PI_OVER_4=Math.PI/4,Fe.COUNTERCLOCKWISE=Kt.COUNTERCLOCKWISE,Fe.CLOCKWISE=Kt.CLOCKWISE,Fe.NONE=Kt.COLLINEAR;var ms=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"addNextSegment",value:function(e,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var a=Kt.index(this._s0,this._s1,this._s2),c=a===Kt.CLOCKWISE&&this._side===Ot.LEFT||a===Kt.COUNTERCLOCKWISE&&this._side===Ot.RIGHT;a===0?this.addCollinear(i):c?this.addOutsideTurn(a,i):this.addInsideTurn(a,i)}},{key:"addLineEndCap",value:function(e,i){var a=new zn(e,i),c=new zn;this.computeOffsetSegment(a,Ot.LEFT,this._distance,c);var _=new zn;this.computeOffsetSegment(a,Ot.RIGHT,this._distance,_);var E=i.x-e.x,w=i.y-e.y,M=Math.atan2(w,E);switch(this._bufParams.getEndCapStyle()){case mt.CAP_ROUND:this._segList.addPt(c.p1),this.addDirectedFillet(i,M+Math.PI/2,M-Math.PI/2,Kt.CLOCKWISE,this._distance),this._segList.addPt(_.p1);break;case mt.CAP_FLAT:this._segList.addPt(c.p1),this._segList.addPt(_.p1);break;case mt.CAP_SQUARE:var P=new W;P.x=Math.abs(this._distance)*Math.cos(M),P.y=Math.abs(this._distance)*Math.sin(M);var $=new W(c.p1.x+P.x,c.p1.y+P.y),lt=new W(_.p1.x+P.x,_.p1.y+P.y);this._segList.addPt($),this._segList.addPt(lt)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,i,a,c){var _=Ma.intersection(i.p0,i.p1,a.p0,a.p1);if(_!==null&&(c<=0?1:_.distance(e)/Math.abs(c))<=this._bufParams.getMitreLimit())return this._segList.addPt(_),null;this.addLimitedMitreJoin(i,a,c,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*u.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===mt.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===mt.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new W(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new W(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new W(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new W(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,i){this._segList.addPts(e,i)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,i,a,c,_){var E=i.x-e.x,w=i.y-e.y,M=Math.atan2(w,E),P=a.x-e.x,$=a.y-e.y,lt=Math.atan2($,P);c===Kt.CLOCKWISE?M<=lt&&(M+=2*Math.PI):M>=lt&&(M-=2*Math.PI),this._segList.addPt(i),this.addDirectedFillet(e,M,lt,c,_),this._segList.addPt(a)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,i,a){this._s1=e,this._s2=i,this._side=a,this._seg1.setCoordinates(e,i),this.computeOffsetSegment(this._seg1,a,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,i,a,c){var _=this._seg0.p1,E=Fe.angle(_,this._seg0.p0),w=Fe.angleBetweenOriented(this._seg0.p0,_,this._seg1.p1)/2,M=Fe.normalize(E+w),P=Fe.normalize(M+Math.PI),$=c*a,lt=a-$*Math.abs(Math.sin(w)),xt=_.x+$*Math.cos(P),At=_.y+$*Math.sin(P),Bt=new W(xt,At),Zt=new zn(_,Bt),de=Zt.pointAlongOffset(1,lt),re=Zt.pointAlongOffset(1,-lt);this._side===Ot.LEFT?(this._segList.addPt(de),this._segList.addPt(re)):(this._segList.addPt(re),this._segList.addPt(de))}},{key:"addDirectedFillet",value:function(e,i,a,c,_){var E=c===Kt.CLOCKWISE?-1:1,w=Math.abs(i-a),M=Math.trunc(w/this._filletAngleQuantum+.5);if(M<1)return null;for(var P=w/M,$=new W,lt=0;lt<M;lt++){var xt=i+E*lt*P;$.x=e.x+_*Math.cos(xt),$.y=e.y+_*Math.sin(xt),this._segList.addPt($)}}},{key:"computeOffsetSegment",value:function(e,i,a,c){var _=i===Ot.LEFT?1:-1,E=e.p1.x-e.p0.x,w=e.p1.y-e.p0.y,M=Math.sqrt(E*E+w*w),P=_*a*E/M,$=_*a*w/M;c.p0.x=e.p0.x-$,c.p0.y=e.p0.y+P,c.p1.x=e.p1.x-$,c.p1.y=e.p1.y+P}},{key:"addInsideTurn",value:function(e,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*u.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var a=new W((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a);var c=new W((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var i=new W(e.x+this._distance,e.y);this._segList.addPt(i),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,i){this._segList.addPt(e.p1),this._segList.addPt(i.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new gs,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*u.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===mt.JOIN_BEVEL||this._bufParams.getJoinStyle()===mt.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Kt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new zn,this._seg1=new zn,this._offset0=new zn,this._offset1=new zn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],i=arguments[1],a=arguments[2];this._precisionModel=e,this._bufParams=i,this._li=new Si,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===mt.JOIN_ROUND&&(this._closingSegLengthFactor=u.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)}}])}();ms.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,ms.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,ms.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,ms.MAX_CLOSING_SEG_LEN_FACTOR=80;var Er=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getOffsetCurve",value:function(e,i){if(this._distance=i,i===0)return null;var a=i<0,c=Math.abs(i),_=this.getSegGen(c);e.length<=1?this.computePointCurve(e[0],_):this.computeOffsetCurve(e,a,_);var E=_.getCoordinates();return a&&Re.reverse(E),E}},{key:"computeSingleSidedBufferCurve",value:function(e,i,a){var c=this.simplifyTolerance(this._distance);if(i){a.addSegments(e,!0);var _=Vn.simplify(e,-c),E=_.length-1;a.initSideSegments(_[E],_[E-1],Ot.LEFT),a.addFirstSegment();for(var w=E-2;w>=0;w--)a.addNextSegment(_[w],!0)}else{a.addSegments(e,!1);var M=Vn.simplify(e,c),P=M.length-1;a.initSideSegments(M[0],M[1],Ot.LEFT),a.addFirstSegment();for(var $=2;$<=P;$++)a.addNextSegment(M[$],!0)}a.addLastSegment(),a.closeRing()}},{key:"computeRingBufferCurve",value:function(e,i,a){var c=this.simplifyTolerance(this._distance);i===Ot.RIGHT&&(c=-c);var _=Vn.simplify(e,c),E=_.length-1;a.initSideSegments(_[E-1],_[0],i);for(var w=1;w<=E;w++){var M=w!==1;a.addNextSegment(_[w],M)}a.closeRing()}},{key:"computeLineBufferCurve",value:function(e,i){var a=this.simplifyTolerance(this._distance),c=Vn.simplify(e,a),_=c.length-1;i.initSideSegments(c[0],c[1],Ot.LEFT);for(var E=2;E<=_;E++)i.addNextSegment(c[E],!0);i.addLastSegment(),i.addLineEndCap(c[_-1],c[_]);var w=Vn.simplify(e,-a),M=w.length-1;i.initSideSegments(w[M],w[M-1],Ot.LEFT);for(var P=M-2;P>=0;P--)i.addNextSegment(w[P],!0);i.addLastSegment(),i.addLineEndCap(w[1],w[0]),i.closeRing()}},{key:"computePointCurve",value:function(e,i){switch(this._bufParams.getEndCapStyle()){case mt.CAP_ROUND:i.createCircle(e);break;case mt.CAP_SQUARE:i.createSquare(e)}}},{key:"getLineCurve",value:function(e,i){if(this._distance=i,this.isLineOffsetEmpty(i))return null;var a=Math.abs(i),c=this.getSegGen(a);if(e.length<=1)this.computePointCurve(e[0],c);else if(this._bufParams.isSingleSided()){var _=i<0;this.computeSingleSidedBufferCurve(e,_,c)}else this.computeLineBufferCurve(e,c);return c.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,i,a){if(this._distance=a,e.length<=2)return this.getLineCurve(e,a);if(a===0)return u.copyCoordinates(e);var c=this.getSegGen(a);return this.computeRingBufferCurve(e,i,c),c.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,i,a){var c=this.simplifyTolerance(this._distance);if(i){var _=Vn.simplify(e,-c),E=_.length-1;a.initSideSegments(_[E],_[E-1],Ot.LEFT),a.addFirstSegment();for(var w=E-2;w>=0;w--)a.addNextSegment(_[w],!0)}else{var M=Vn.simplify(e,c),P=M.length-1;a.initSideSegments(M[0],M[1],Ot.LEFT),a.addFirstSegment();for(var $=2;$<=P;$++)a.addNextSegment(M[$],!0)}a.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return e===0||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new ms(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],i=arguments[1];this._precisionModel=e,this._bufParams=i}},{key:"copyCoordinates",value:function(e){for(var i=new Array(e.length).fill(null),a=0;a<i.length;a++)i[a]=new W(e[a]);return i}}])}(),ln=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var u=arguments[0],e=new jt,i=this._subgraphs.iterator();i.hasNext();){var a=i.next(),c=a.getEnvelope();u.y<c.getMinY()||u.y>c.getMaxY()||this.findStabbedSegments(u,a.getDirectedEdges(),e)}return e}if(arguments.length===3){if(Vt(arguments[2],Di)&&arguments[0]instanceof W&&arguments[1]instanceof bi){for(var _=arguments[0],E=arguments[1],w=arguments[2],M=E.getEdge().getCoordinates(),P=0;P<M.length-1;P++)if(this._seg.p0=M[P],this._seg.p1=M[P+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<_.x||this._seg.isHorizontal()||_.y<this._seg.p0.y||_.y>this._seg.p1.y||Kt.index(this._seg.p0,this._seg.p1,_)===Kt.RIGHT)){var $=E.getDepth(Ot.LEFT);this._seg.p0.equals(M[P])||($=E.getDepth(Ot.RIGHT));var lt=new Pa(this._seg,$);w.add(lt)}}else if(Vt(arguments[2],Di)&&arguments[0]instanceof W&&Vt(arguments[1],Di))for(var xt=arguments[0],At=arguments[2],Bt=arguments[1].iterator();Bt.hasNext();){var Zt=Bt.next();Zt.isForward()&&this.findStabbedSegments(xt,Zt,At)}}}},{key:"getDepth",value:function(u){var e=this.findStabbedSegments(u);return e.size()===0?0:yr.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new zn;var u=arguments[0];this._subgraphs=u}}])}(),Pa=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"compareTo",value:function(u){var e=u;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(e._upwardSeg);return i!==0||(i=-1*e._upwardSeg.orientationIndex(this._upwardSeg))!==0?i:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(u,e){var i=u.p0.compareTo(e.p0);return i!==0?i:u.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var u=arguments[0],e=arguments[1];this._upwardSeg=new zn(u),this._leftDepth=e}}])}();ln.DepthSegment=Pa;var Js=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,null,[{key:"constructor_",value:function(){It.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(It),Ws=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getY",value:function(){var e=this.y/this.w;if(R.isNaN(e)||R.isInfinite(e))throw new Js;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(R.isNaN(e)||R.isInfinite(e))throw new Js;return e}},{key:"getCoordinate",value:function(){var e=new W;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var i=arguments[0],a=arguments[1];this.x=i,this.y=a,this.w=1}else if(arguments[0]instanceof u&&arguments[1]instanceof u){var c=arguments[0],_=arguments[1];this.x=c.y*_.w-_.y*c.w,this.y=_.x*c.w-c.x*_.w,this.w=c.x*_.y-_.x*c.y}else if(arguments[0]instanceof W&&arguments[1]instanceof W){var E=arguments[0],w=arguments[1];this.x=E.y-w.y,this.y=w.x-E.x,this.w=E.x*w.y-w.x*E.y}}else if(arguments.length===3){var M=arguments[0],P=arguments[1],$=arguments[2];this.x=M,this.y=P,this.w=$}else if(arguments.length===4){var lt=arguments[0],xt=arguments[1],At=arguments[2],Bt=arguments[3],Zt=lt.y-xt.y,de=xt.x-lt.x,re=lt.x*xt.y-xt.x*lt.y,we=At.y-Bt.y,pe=Bt.x-At.x,be=At.x*Bt.y-Bt.x*At.y;this.x=de*be-pe*re,this.y=we*re-Zt*be,this.w=Zt*pe-we*de}}}])}(),$s=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"area",value:function(){return u.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return u.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(e===null)throw new pt("Supplied point is null.");return u.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return u.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return u.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return u.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return u.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return u.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return u.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],i=arguments[1],a=arguments[2];this.p0=e,this.p1=i,this.p2=a}},{key:"area",value:function(e,i,a){return Math.abs(((a.x-e.x)*(i.y-e.y)-(i.x-e.x)*(a.y-e.y))/2)}},{key:"signedArea",value:function(e,i,a){return((a.x-e.x)*(i.y-e.y)-(i.x-e.x)*(a.y-e.y))/2}},{key:"det",value:function(e,i,a,c){return e*c-i*a}},{key:"interpolateZ",value:function(e,i,a,c){var _=i.x,E=i.y,w=a.x-_,M=c.x-_,P=a.y-E,$=c.y-E,lt=w*$-M*P,xt=e.x-_,At=e.y-E,Bt=($*xt-M*At)/lt,Zt=(-P*xt+w*At)/lt;return i.getZ()+Bt*(a.getZ()-i.getZ())+Zt*(c.getZ()-i.getZ())}},{key:"longestSideLength",value:function(e,i,a){var c=e.distance(i),_=i.distance(a),E=a.distance(e),w=c;return _>w&&(w=_),E>w&&(w=E),w}},{key:"circumcentreDD",value:function(e,i,a){var c=Xt.valueOf(e.x).subtract(a.x),_=Xt.valueOf(e.y).subtract(a.y),E=Xt.valueOf(i.x).subtract(a.x),w=Xt.valueOf(i.y).subtract(a.y),M=Xt.determinant(c,_,E,w).multiply(2),P=c.sqr().add(_.sqr()),$=E.sqr().add(w.sqr()),lt=Xt.determinant(_,P,w,$),xt=Xt.determinant(c,P,E,$),At=Xt.valueOf(a.x).subtract(lt.divide(M)).doubleValue(),Bt=Xt.valueOf(a.y).add(xt.divide(M)).doubleValue();return new W(At,Bt)}},{key:"isAcute",value:function(e,i,a){return!!Fe.isAcute(e,i,a)&&!!Fe.isAcute(i,a,e)&&!!Fe.isAcute(a,e,i)}},{key:"circumcentre",value:function(e,i,a){var c=a.x,_=a.y,E=e.x-c,w=e.y-_,M=i.x-c,P=i.y-_,$=2*u.det(E,w,M,P),lt=u.det(w,E*E+w*w,P,M*M+P*P),xt=u.det(E,E*E+w*w,M,M*M+P*P);return new W(c-lt/$,_+xt/$)}},{key:"perpendicularBisector",value:function(e,i){var a=i.x-e.x,c=i.y-e.y,_=new Ws(e.x+a/2,e.y+c/2,1),E=new Ws(e.x-c+a/2,e.y+a+c/2,1);return new Ws(_,E)}},{key:"angleBisector",value:function(e,i,a){var c=i.distance(e),_=c/(c+i.distance(a)),E=a.x-e.x,w=a.y-e.y;return new W(e.x+_*E,e.y+_*w)}},{key:"area3D",value:function(e,i,a){var c=i.x-e.x,_=i.y-e.y,E=i.getZ()-e.getZ(),w=a.x-e.x,M=a.y-e.y,P=a.getZ()-e.getZ(),$=_*P-E*M,lt=E*w-c*P,xt=c*M-_*w,At=$*$+lt*lt+xt*xt,Bt=Math.sqrt(At)/2;return Bt}},{key:"centroid",value:function(e,i,a){var c=(e.x+i.x+a.x)/3,_=(e.y+i.y+a.y)/3;return new W(c,_)}},{key:"inCentre",value:function(e,i,a){var c=i.distance(a),_=e.distance(a),E=e.distance(i),w=c+_+E,M=(c*e.x+_*i.x+E*a.x)/w,P=(c*e.y+_*i.y+E*a.y)/w;return new W(M,P)}}])}(),ta=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"addRingSide",value:function(u,e,i,a,c){if(e===0&&u.length<oi.MINIMUM_VALID_SIZE)return null;var _=a,E=c;u.length>=oi.MINIMUM_VALID_SIZE&&Kt.isCCW(u)&&(_=c,E=a,i=Ot.opposite(i));var w=this._curveBuilder.getRingCurve(u,i,e);this.addCurve(w,_,E)}},{key:"addRingBothSides",value:function(u,e){this.addRingSide(u,e,Ot.LEFT,Z.EXTERIOR,Z.INTERIOR),this.addRingSide(u,e,Ot.RIGHT,Z.INTERIOR,Z.EXTERIOR)}},{key:"addPoint",value:function(u){if(this._distance<=0)return null;var e=u.getCoordinates(),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,Z.EXTERIOR,Z.INTERIOR)}},{key:"addPolygon",value:function(u){var e=this._distance,i=Ot.LEFT;this._distance<0&&(e=-this._distance,i=Ot.RIGHT);var a=u.getExteriorRing(),c=Re.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&c.length<3)return null;this.addRingSide(c,e,i,Z.EXTERIOR,Z.INTERIOR);for(var _=0;_<u.getNumInteriorRing();_++){var E=u.getInteriorRingN(_),w=Re.removeRepeatedPoints(E.getCoordinates());this._distance>0&&this.isErodedCompletely(E,-this._distance)||this.addRingSide(w,e,Ot.opposite(i),Z.INTERIOR,Z.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(u,e){var i=new $s(u[0],u[1],u[2]),a=i.inCentre();return kn.pointToSegment(a,i.p0,i.p1)<Math.abs(e)}},{key:"addLineString",value:function(u){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=Re.removeRepeatedPoints(u.getCoordinates());if(Re.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,Z.EXTERIOR,Z.INTERIOR)}}},{key:"addCurve",value:function(u,e,i){if(u===null||u.length<2)return null;var a=new ki(u,new Xe(0,Z.BOUNDARY,e,i));this._curveList.add(a)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(u){if(u.isEmpty())return null;if(u instanceof us)this.addPolygon(u);else if(u instanceof vi)this.addLineString(u);else if(u instanceof Zs)this.addPoint(u);else if(u instanceof Rr)this.addCollection(u);else if(u instanceof ls)this.addCollection(u);else if(u instanceof yi)this.addCollection(u);else{if(!(u instanceof Ze))throw new fe(u.getGeometryType());this.addCollection(u)}}},{key:"isErodedCompletely",value:function(u,e){var i=u.getCoordinates();if(i.length<4)return e<0;if(i.length===4)return this.isTriangleErodedCompletely(i,e);var a=u.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return e<0&&2*Math.abs(e)>c}},{key:"addCollection",value:function(u){for(var e=0;e<u.getNumGeometries();e++){var i=u.getGeometryN(e);this.add(i)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new jt;var u=arguments[0],e=arguments[1],i=arguments[2];this._inputGeom=u,this._distance=e,this._curveBuilder=i}}])}(),_u=function(){return S(function u(){p(this,u)},[{key:"locate",value:function(u){}}])}(),zr=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,u.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ze;var e=this._parent.getGeometryN(this._index++);return e instanceof Ze?(this._subcollectionIterator=new u(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new fe(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[$u]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof Ze)}}])}(),pu=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"locate",value:function(e){return u.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[_u]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,i){if(i.isEmpty())return Z.EXTERIOR;var a=i.getExteriorRing(),c=u.locatePointInRing(e,a);if(c!==Z.INTERIOR)return c;for(var _=0;_<i.getNumInteriorRing();_++){var E=i.getInteriorRingN(_),w=u.locatePointInRing(e,E);if(w===Z.BOUNDARY)return Z.BOUNDARY;if(w===Z.INTERIOR)return Z.EXTERIOR}return Z.INTERIOR}},{key:"locatePointInRing",value:function(e,i){return i.getEnvelopeInternal().intersects(e)?Zi.locateInRing(e,i.getCoordinates()):Z.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,i){return Z.EXTERIOR!==u.locatePointInPolygon(e,i)}},{key:"locateInGeometry",value:function(e,i){if(i instanceof us)return u.locatePointInPolygon(e,i);if(i instanceof Ze)for(var a=new zr(i);a.hasNext();){var c=a.next();if(c!==i){var _=u.locateInGeometry(e,c);if(_!==Z.EXTERIOR)return _}}return Z.EXTERIOR}},{key:"isContained",value:function(e,i){return Z.EXTERIOR!==u.locate(e,i)}},{key:"locate",value:function(e,i){return i.isEmpty()?Z.EXTERIOR:i.getEnvelopeInternal().intersects(e)?u.locateInGeometry(e,i):Z.EXTERIOR}}])}(),eo=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getNextCW",value:function(u){this.getEdges();var e=this._edgeList.indexOf(u),i=e-1;return e===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)}},{key:"propagateSideLabels",value:function(u){for(var e=Z.NONE,i=this.iterator();i.hasNext();){var a=i.next().getLabel();a.isArea(u)&&a.getLocation(u,Ot.LEFT)!==Z.NONE&&(e=a.getLocation(u,Ot.LEFT))}if(e===Z.NONE)return null;for(var c=e,_=this.iterator();_.hasNext();){var E=_.next(),w=E.getLabel();if(w.getLocation(u,Ot.ON)===Z.NONE&&w.setLocation(u,Ot.ON,c),w.isArea(u)){var M=w.getLocation(u,Ot.LEFT),P=w.getLocation(u,Ot.RIGHT);if(P!==Z.NONE){if(P!==c)throw new bn("side location conflict",E.getCoordinate());M===Z.NONE&&dt.shouldNeverReachHere("found single null side (at "+E.getCoordinate()+")"),c=M}else dt.isTrue(w.getLocation(u,Ot.LEFT)===Z.NONE,"found single null side"),w.setLocation(u,Ot.RIGHT,c),w.setLocation(u,Ot.LEFT,c)}}}},{key:"getCoordinate",value:function(){var u=this.iterator();return u.hasNext()?u.next().getCoordinate():null}},{key:"print",value:function(u){Yn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(u)}},{key:"isAreaLabelsConsistent",value:function(u){return this.computeEdgeEndLabels(u.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(u){var e=this.getEdges();if(e.size()<=0)return!0;var i=e.size()-1,a=e.get(i).getLabel().getLocation(u,Ot.LEFT);dt.isTrue(a!==Z.NONE,"Found unlabelled area edge");for(var c=a,_=this.iterator();_.hasNext();){var E=_.next().getLabel();dt.isTrue(E.isArea(u),"Found non-area edge");var w=E.getLocation(u,Ot.LEFT),M=E.getLocation(u,Ot.RIGHT);if(w===M||M!==c)return!1;c=w}return!0}},{key:"findIndex",value:function(u){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===u)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new jt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(u,e,i){return this._ptInAreaLocation[u]===Z.NONE&&(this._ptInAreaLocation[u]=pu.locate(e,i[u].getGeometry())),this._ptInAreaLocation[u]}},{key:"toString",value:function(){var u=new rs;u.append("EdgeEndStar:   "+this.getCoordinate()),u.append(`
`);for(var e=this.iterator();e.hasNext();){var i=e.next();u.append(i),u.append(`
`)}return u.toString()}},{key:"computeEdgeEndLabels",value:function(u){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(u)}},{key:"computeLabelling",value:function(u){this.computeEdgeEndLabels(u[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],i=this.iterator();i.hasNext();)for(var a=i.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===Z.BOUNDARY&&(e[c]=!0);for(var _=this.iterator();_.hasNext();)for(var E=_.next(),w=E.getLabel(),M=0;M<2;M++)if(w.isAnyNull(M)){var P=Z.NONE;if(e[M])P=Z.EXTERIOR;else{var $=E.getCoordinate();P=this.getLocation(M,$,u)}w.setAllLocationsIfNull(M,P)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(u,e){this._edgeMap.put(u,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ae,this._edgeList=null,this._ptInAreaLocation=[Z.NONE,Z.NONE]}}])}(),ni=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var i=null,a=null,c=this._SCANNING_FOR_INCOMING,_=0;_<this._resultAreaEdgeList.size();_++){var E=this._resultAreaEdgeList.get(_),w=E.getSym();if(E.getLabel().isArea())switch(i===null&&E.isInResult()&&(i=E),c){case this._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;a=w,c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!E.isInResult())continue;a.setNext(E),c=this._SCANNING_FOR_INCOMING}}if(c===this._LINKING_TO_OUTGOING){if(i===null)throw new bn("no outgoing dirEdge found",this.getCoordinate());dt.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),a.setNext(i)}}},{key:"insert",value:function(i){var a=i;this.insertEdgeEnd(a,a)}},{key:"getRightmostEdge",value:function(){var i=this.getEdges(),a=i.size();if(a<1)return null;var c=i.get(0);if(a===1)return c;var _=i.get(a-1),E=c.getQuadrant(),w=_.getQuadrant();return un.isNorthern(E)&&un.isNorthern(w)?c:un.isNorthern(E)||un.isNorthern(w)?c.getDy()!==0?c:_.getDy()!==0?_:(dt.shouldNeverReachHere("found two horizontal edges incident on node"),null):_}},{key:"print",value:function(i){Yn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();i.print("out "),c.print(i),i.println(),i.print("in "),c.getSym().print(i),i.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new jt;for(var i=this.iterator();i.hasNext();){var a=i.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(i){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,i.getLocation(0)),c.setAllLocationsIfNull(1,i.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var i=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var _=this._edgeList.get(c),E=_.getSym();a===null&&(a=E),i!==null&&E.setNext(i),i=_}a.setNext(i)}},{key:"computeDepths",value:function(){if(arguments.length===1){var i=arguments[0],a=this.findIndex(i),c=i.getDepth(Ot.LEFT),_=i.getDepth(Ot.RIGHT),E=this.computeDepths(a+1,this._edgeList.size(),c);if(this.computeDepths(0,a,E)!==_)throw new bn("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var w=arguments[1],M=arguments[2],P=arguments[0];P<w;P++){var $=this._edgeList.get(P);$.setEdgeDepths(Ot.RIGHT,M),M=$.getDepth(Ot.LEFT)}return M}}},{key:"mergeSymLabels",value:function(){for(var i=this.iterator();i.hasNext();){var a=i.next();a.getLabel().merge(a.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(i){for(var a=null,c=null,_=this._SCANNING_FOR_INCOMING,E=this._resultAreaEdgeList.size()-1;E>=0;E--){var w=this._resultAreaEdgeList.get(E),M=w.getSym();switch(a===null&&w.getEdgeRing()===i&&(a=w),_){case this._SCANNING_FOR_INCOMING:if(M.getEdgeRing()!==i)continue;c=M,_=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==i)continue;c.setNextMin(w),_=this._SCANNING_FOR_INCOMING}}_===this._LINKING_TO_OUTGOING&&(dt.isTrue(a!==null,"found null for first outgoing dirEdge"),dt.isTrue(a.getEdgeRing()===i,"unable to link last incoming dirEdge"),c.setNextMin(a))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var i=0,a=this.iterator();a.hasNext();)a.next().isInResult()&&i++;return i}if(arguments.length===1){for(var c=arguments[0],_=0,E=this.iterator();E.hasNext();)E.next().getEdgeRing()===c&&_++;return _}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var i=Z.NONE,a=this.iterator();a.hasNext();){var c=a.next(),_=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){i=Z.INTERIOR;break}if(_.isInResult()){i=Z.EXTERIOR;break}}}if(i===Z.NONE)return null;for(var E=i,w=this.iterator();w.hasNext();){var M=w.next(),P=M.getSym();M.isLineEdge()?M.getEdge().setCovered(E===Z.INTERIOR):(M.isInResult()&&(E=Z.EXTERIOR),P.isInResult()&&(E=Z.INTERIOR))}}},{key:"computeLabelling",value:function(i){at(e,"computeLabelling",this,1).call(this,i),this._label=new Xe(Z.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),_=0;_<2;_++){var E=c.getLocation(_);E!==Z.INTERIOR&&E!==Z.BOUNDARY||this._label.setLocation(_,Z.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(eo),Sr=function(u){function e(){return p(this,e),v(this,e)}return q(e,u),S(e,[{key:"createNode",value:function(i){return new wi(i,new ni)}}])}(Dr),Ba=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"compareTo",value:function(e){var i=e;return u.compareOriented(this._pts,this._orientation,i._pts,i._orientation)}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=u.orientation(e)}},{key:"orientation",value:function(e){return Re.increasingDirection(e)===1}},{key:"compareOriented",value:function(e,i,a,c){for(var _=i?1:-1,E=c?1:-1,w=i?e.length:-1,M=c?a.length:-1,P=i?0:e.length-1,$=c?0:a.length-1;;){var lt=e[P].compareTo(a[$]);if(lt!==0)return lt;var xt=(P+=_)===w,At=($+=E)===M;if(xt&&!At)return-1;if(!xt&&At)return 1;if(xt&&At)return 0}}}])}(),Pn=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"print",value:function(u){u.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e);e>0&&u.print(","),u.print("(");for(var a=i.getCoordinates(),c=0;c<a.length;c++)c>0&&u.print(","),u.print(a[c].x+" "+a[c].y);u.println(")")}u.print(")  ")}},{key:"addAll",value:function(u){for(var e=u.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(u){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(u))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(u){return this._edges.get(u)}},{key:"findEqualEdge",value:function(u){var e=new Ba(u.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(u){this._edges.add(u);var e=new Ba(u.getCoordinates());this._ocaMap.put(e,u)}}],[{key:"constructor_",value:function(){this._edges=new jt,this._ocaMap=new Ae}}])}(),Pr=function(){return S(function u(){p(this,u)},[{key:"processIntersections",value:function(u,e,i,a){}},{key:"isDone",value:function(){}}])}(),Br=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"isTrivialIntersection",value:function(e,i,a,c){if(e===a&&this._li.getIntersectionNum()===1){if(u.isAdjacentSegments(i,c))return!0;if(e.isClosed()){var _=e.size()-1;if(i===0&&c===_||c===0&&i===_)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,i,a,c){if(e===a&&i===c)return null;this.numTests++;var _=e.getCoordinates()[i],E=e.getCoordinates()[i+1],w=a.getCoordinates()[c],M=a.getCoordinates()[c+1];this._li.computeIntersection(_,E,w,M),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,i,a,c)||(this._hasIntersection=!0,e.addIntersections(this._li,i,0),a.addIntersections(this._li,c,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Pr]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,i){return Math.abs(e-i)===1}}])}(),ea=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(u){u.print(this.coord),u.print(" seg # = "+this.segmentIndex),u.println(" dist = "+this.dist)}},{key:"compareTo",value:function(u){var e=u;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(u){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===u}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(u,e){return this.segmentIndex<u?-1:this.segmentIndex>u?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[Ct]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var u=arguments[0],e=arguments[1],i=arguments[2];this.coord=new W(u),this.segmentIndex=e,this.dist=i}}])}(),qr=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"print",value:function(u){u.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(u)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(u){this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var a=e.next(),c=this.createSplitEdge(i,a);u.add(c),i=a}}},{key:"addEndpoints",value:function(){var u=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[u],u,0)}},{key:"createSplitEdge",value:function(u,e){var i=e.segmentIndex-u.segmentIndex+2,a=this.edge.pts[e.segmentIndex],c=e.dist>0||!e.coord.equals2D(a);c||i--;var _=new Array(i).fill(null),E=0;_[E++]=new W(u.coord);for(var w=u.segmentIndex+1;w<=e.segmentIndex;w++)_[E++]=this.edge.pts[w];return c&&(_[E]=e.coord),new Ga(_,new Xe(this.edge._label))}},{key:"add",value:function(u,e,i){var a=new ea(u,e,i),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)}},{key:"isIntersection",value:function(u){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(u))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ae,this.edge=null;var u=arguments[0];this.edge=u}}])}(),qa=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])||u.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||u.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||u.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Rt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Rt.FALSE}},{key:"isCoveredBy",value:function(){return(u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])||u.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||u.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||u.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Rt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Rt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var e=arguments[0],i=0;i<e.length;i++){var a=Math.trunc(i/3),c=i%3;this._matrix[a][c]=Rt.toDimensionValue(e.charAt(i))}else if(arguments.length===3){var _=arguments[0],E=arguments[1],w=arguments[2];this._matrix[_][E]=w}}},{key:"isContains",value:function(){return u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Rt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Rt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var e=arguments[0],i=0;i<e.length;i++){var a=Math.trunc(i/3),c=i%3;this.setAtLeast(a,c,Rt.toDimensionValue(e.charAt(i)))}else if(arguments.length===3){var _=arguments[0],E=arguments[1],w=arguments[2];this._matrix[_][E]<w&&(this._matrix[_][E]=w)}}},{key:"setAtLeastIfValid",value:function(e,i,a){e>=0&&i>=0&&this.setAtLeast(e,i,a)}},{key:"isWithin",value:function(){return u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Rt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Rt.FALSE}},{key:"isTouches",value:function(e,i){return e>i?this.isTouches(i,e):(e===Rt.A&&i===Rt.A||e===Rt.L&&i===Rt.L||e===Rt.L&&i===Rt.A||e===Rt.P&&i===Rt.A||e===Rt.P&&i===Rt.L)&&this._matrix[Z.INTERIOR][Z.INTERIOR]===Rt.FALSE&&(u.isTrue(this._matrix[Z.INTERIOR][Z.BOUNDARY])||u.isTrue(this._matrix[Z.BOUNDARY][Z.INTERIOR])||u.isTrue(this._matrix[Z.BOUNDARY][Z.BOUNDARY]))}},{key:"isOverlaps",value:function(e,i){return e===Rt.P&&i===Rt.P||e===Rt.A&&i===Rt.A?u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&u.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR])&&u.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR]):e===Rt.L&&i===Rt.L&&this._matrix[Z.INTERIOR][Z.INTERIOR]===1&&u.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR])&&u.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR])}},{key:"isEquals",value:function(e,i){return e===i&&u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&this._matrix[Z.INTERIOR][Z.EXTERIOR]===Rt.FALSE&&this._matrix[Z.BOUNDARY][Z.EXTERIOR]===Rt.FALSE&&this._matrix[Z.EXTERIOR][Z.INTERIOR]===Rt.FALSE&&this._matrix[Z.EXTERIOR][Z.BOUNDARY]===Rt.FALSE}},{key:"toString",value:function(){for(var e=new Ge("123456789"),i=0;i<3;i++)for(var a=0;a<3;a++)e.setCharAt(3*i+a,Rt.toDimensionSymbol(this._matrix[i][a]));return e.toString()}},{key:"setAll",value:function(e){for(var i=0;i<3;i++)for(var a=0;a<3;a++)this._matrix[i][a]=e}},{key:"get",value:function(e,i){return this._matrix[e][i]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(e.length!==9)throw new pt("Should be length 9: "+e);for(var i=0;i<3;i++)for(var a=0;a<3;a++)if(!u.matches(this._matrix[i][a],e.charAt(3*i+a)))return!1;return!0}},{key:"add",value:function(e){for(var i=0;i<3;i++)for(var a=0;a<3;a++)this.setAtLeast(i,a,e.get(i,a))}},{key:"isDisjoint",value:function(){return this._matrix[Z.INTERIOR][Z.INTERIOR]===Rt.FALSE&&this._matrix[Z.INTERIOR][Z.BOUNDARY]===Rt.FALSE&&this._matrix[Z.BOUNDARY][Z.INTERIOR]===Rt.FALSE&&this._matrix[Z.BOUNDARY][Z.BOUNDARY]===Rt.FALSE}},{key:"isCrosses",value:function(e,i){return e===Rt.P&&i===Rt.L||e===Rt.P&&i===Rt.A||e===Rt.L&&i===Rt.A?u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&u.isTrue(this._matrix[Z.INTERIOR][Z.EXTERIOR]):e===Rt.L&&i===Rt.P||e===Rt.A&&i===Rt.P||e===Rt.A&&i===Rt.L?u.isTrue(this._matrix[Z.INTERIOR][Z.INTERIOR])&&u.isTrue(this._matrix[Z.EXTERIOR][Z.INTERIOR]):e===Rt.L&&i===Rt.L&&this._matrix[Z.INTERIOR][Z.INTERIOR]===0}},{key:"interfaces_",get:function(){return[I]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Rt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var e=arguments[0];u.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof u){var i=arguments[0];u.constructor_.call(this),this._matrix[Z.INTERIOR][Z.INTERIOR]=i._matrix[Z.INTERIOR][Z.INTERIOR],this._matrix[Z.INTERIOR][Z.BOUNDARY]=i._matrix[Z.INTERIOR][Z.BOUNDARY],this._matrix[Z.INTERIOR][Z.EXTERIOR]=i._matrix[Z.INTERIOR][Z.EXTERIOR],this._matrix[Z.BOUNDARY][Z.INTERIOR]=i._matrix[Z.BOUNDARY][Z.INTERIOR],this._matrix[Z.BOUNDARY][Z.BOUNDARY]=i._matrix[Z.BOUNDARY][Z.BOUNDARY],this._matrix[Z.BOUNDARY][Z.EXTERIOR]=i._matrix[Z.BOUNDARY][Z.EXTERIOR],this._matrix[Z.EXTERIOR][Z.INTERIOR]=i._matrix[Z.EXTERIOR][Z.INTERIOR],this._matrix[Z.EXTERIOR][Z.BOUNDARY]=i._matrix[Z.EXTERIOR][Z.BOUNDARY],this._matrix[Z.EXTERIOR][Z.EXTERIOR]=i._matrix[Z.EXTERIOR][Z.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var e=arguments[0],i=arguments[1];return i===Rt.SYM_DONTCARE||i===Rt.SYM_TRUE&&(e>=0||e===Rt.TRUE)||i===Rt.SYM_FALSE&&e===Rt.FALSE||i===Rt.SYM_P&&e===Rt.P||i===Rt.SYM_L&&e===Rt.L||i===Rt.SYM_A&&e===Rt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var a=arguments[1];return new u(arguments[0]).matches(a)}}},{key:"isTrue",value:function(e){return e>=0||e===Rt.TRUE}}])}(),Ur=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return e===null||e.length===0?null:(this.ensureCapacity(this._size+e.length),Yn.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var i=Math.max(e,2*this._data.length);this._data=sn.copyOf(this._data,i)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return Yn.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)u.constructor_.call(this,10);else if(arguments.length===1){var e=arguments[0];this._data=new Array(e).fill(null)}}}])}(),Ua=function(){function u(){p(this,u)}return S(u,[{key:"getChainStartIndices",value:function(e){var i=0,a=new Ur(Math.trunc(e.length/2));a.add(i);do{var c=this.findChainEnd(e,i);a.add(c),i=c}while(i<e.length-1);return a.toArray()}},{key:"findChainEnd",value:function(e,i){for(var a=un.quadrant(e[i],e[i+1]),c=i+1;c<e.length&&un.quadrant(e[c-1],e[c])===a;)c++;return c-1}},{key:"OLDgetChainStartIndices",value:function(e){var i=0,a=new jt;a.add(i);do{var c=this.findChainEnd(e,i);a.add(c),i=c}while(i<e.length-1);return u.toIntArray(a)}}],[{key:"toIntArray",value:function(e){for(var i=new Array(e.size()).fill(null),a=0;a<i.length;a++)i[a]=e.get(a).intValue();return i}}])}(),Ni=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(u){var e=this.pts[this.startIndex[u]].x,i=this.pts[this.startIndex[u+1]].x;return e>i?e:i}},{key:"getMinX",value:function(u){var e=this.pts[this.startIndex[u]].x,i=this.pts[this.startIndex[u+1]].x;return e<i?e:i}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var u=arguments[0],e=arguments[1],i=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[u],this.startIndex[u+1],e,e.startIndex[i],e.startIndex[i+1],a)}else if(arguments.length===6){var c=arguments[0],_=arguments[1],E=arguments[2],w=arguments[3],M=arguments[4],P=arguments[5];if(_-c==1&&M-w==1)return P.addIntersections(this.e,c,E.e,w),null;if(!this.overlaps(c,_,E,w,M))return null;var $=Math.trunc((c+_)/2),lt=Math.trunc((w+M)/2);c<$&&(w<lt&&this.computeIntersectsForChain(c,$,E,w,lt,P),lt<M&&this.computeIntersectsForChain(c,$,E,lt,M,P)),$<_&&(w<lt&&this.computeIntersectsForChain($,_,E,w,lt,P),lt<M&&this.computeIntersectsForChain($,_,E,lt,M,P))}}},{key:"overlaps",value:function(u,e,i,a,c){return Yt.intersects(this.pts[u],this.pts[e],i.pts[a],i.pts[c])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(u,e){for(var i=0;i<this.startIndex.length-1;i++)for(var a=0;a<u.startIndex.length-1;a++)this.computeIntersectsForChain(i,u,a,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var u=arguments[0];this.e=u,this.pts=u.getCoordinates();var e=new Ua;this.startIndex=e.getChainStartIndices(this.pts)}}])}(),Gr=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"getDepth",value:function(e,i){return this._depth[e][i]}},{key:"setDepth",value:function(e,i,a){this._depth[e][i]=a}},{key:"isNull",value:function(){if(arguments.length===0){for(var e=0;e<2;e++)for(var i=0;i<3;i++)if(this._depth[e][i]!==u.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===u.NULL_VALUE}if(arguments.length===2){var c=arguments[0],_=arguments[1];return this._depth[c][_]===u.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var i=this._depth[e][1];this._depth[e][2]<i&&(i=this._depth[e][2]),i<0&&(i=0);for(var a=1;a<3;a++){var c=0;this._depth[e][a]>i&&(c=1),this._depth[e][a]=c}}}},{key:"getDelta",value:function(e){return this._depth[e][Ot.RIGHT]-this._depth[e][Ot.LEFT]}},{key:"getLocation",value:function(e,i){return this._depth[e][i]<=0?Z.EXTERIOR:Z.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var e=arguments[0],i=0;i<2;i++)for(var a=1;a<3;a++){var c=e.getLocation(i,a);c!==Z.EXTERIOR&&c!==Z.INTERIOR||(this.isNull(i,a)?this._depth[i][a]=u.depthAtLocation(c):this._depth[i][a]+=u.depthAtLocation(c))}else if(arguments.length===3){var _=arguments[0],E=arguments[1];arguments[2]===Z.INTERIOR&&this._depth[_][E]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var i=0;i<3;i++)this._depth[e][i]=u.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===Z.EXTERIOR?0:e===Z.INTERIOR?1:u.NULL_VALUE}}])}();Gr.NULL_VALUE=-1;var Ga=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var i=new Array(2).fill(null);return i[0]=this.pts[0],i[1]=this.pts[1],new e(i,Xe.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(i){this._isIsolated=i}},{key:"setName",value:function(i){this._name=i}},{key:"equals",value:function(i){if(!(i instanceof e))return!1;var a=i;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,_=!0,E=this.pts.length,w=0;w<this.pts.length;w++)if(this.pts[w].equals2D(a.pts[w])||(c=!1),this.pts[w].equals2D(a.pts[--E])||(_=!1),!c&&!_)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}}},{key:"print",value:function(i){i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.print(","),i.print(this.pts[a].x+" "+this.pts[a].y);i.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(i){e.updateIM(this._label,i)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(i){i.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)i.print(this.pts[a]+" ");i.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Ni(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Yt;for(var i=0;i<this.pts.length;i++)this._env.expandToInclude(this.pts[i])}return this._env}},{key:"addIntersection",value:function(i,a,c,_){var E=new W(i.getIntersection(_)),w=a,M=i.getEdgeDistance(c,_),P=w+1;if(P<this.pts.length){var $=this.pts[P];E.equals2D($)&&(w=P,M=0)}this.eiList.add(E,w,M)}},{key:"toString",value:function(){var i=new Ge;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.append(","),i.append(this.pts[a].x+" "+this.pts[a].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()}},{key:"isPointwiseEqual",value:function(i){if(this.pts.length!==i.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(i.pts[a]))return!1;return!0}},{key:"setDepthDelta",value:function(i){this._depthDelta=i}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(i,a,c){for(var _=0;_<i.getIntersectionNum();_++)this.addIntersection(i,a,c,_)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new qr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Gr,this._depthDelta=0,arguments.length===1){var i=arguments[0];e.constructor_.call(this,i,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof qa&&arguments[0]instanceof Xe))return at(e,"updateIM",this).apply(this,arguments);var i=arguments[0],a=arguments[1];a.setAtLeastIfValid(i.getLocation(0,Ot.ON),i.getLocation(1,Ot.ON),1),i.isArea()&&(a.setAtLeastIfValid(i.getLocation(0,Ot.LEFT),i.getLocation(1,Ot.LEFT),2),a.setAtLeastIfValid(i.getLocation(0,Ot.RIGHT),i.getLocation(1,Ot.RIGHT),2))}}])}(Te),na=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var i=this._edgeList.findEqualEdge(e);if(i!==null){var a=i.getLabel(),c=e.getLabel();i.isPointwiseEqual(e)||(c=new Xe(e.getLabel())).flip(),a.merge(c);var _=u.depthDelta(c),E=i.getDepthDelta()+_;i.setDepthDelta(E)}else this._edgeList.add(e),e.setDepthDelta(u.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,i){for(var a=new jt,c=e.iterator();c.hasNext();){var _=c.next(),E=_.getRightmostCoordinate(),w=new ln(a).getDepth(E);_.computeDepth(w),_.findResultEdges(),a.add(_),i.add(_.getDirectedEdges(),_.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var i=new jt,a=e.getNodes().iterator();a.hasNext();){var c=a.next();if(!c.isVisited()){var _=new rn;_.create(c),i.add(_)}}return yr.sort(i,yr.reverseOrder()),i}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(this._workingNoder!==null)return this._workingNoder;var i=new Da,a=new Si;return a.setPrecisionModel(e),i.setSegmentIntersector(new Br(a)),i}},{key:"buffer",value:function(e,i){var a=this._workingPrecisionModel;a===null&&(a=e.getPrecisionModel()),this._geomFact=e.getFactory();var c=new Er(a,this._bufParams),_=new ta(e,i,c).getCurves();if(_.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(_,a),this._graph=new Xi(new Sr),this._graph.addEdges(this._edgeList.getEdges());var E=this.createSubgraphs(this._graph),w=new Qu(this._geomFact);this.buildSubgraphs(E,w);var M=w.getPolygons();return M.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(M)}},{key:"computeNodedEdges",value:function(e,i){var a=this.getNoder(i);a.computeNodes(e);for(var c=a.getNodedSubstrings().iterator();c.hasNext();){var _=c.next(),E=_.getCoordinates();if(E.length!==2||!E[0].equals2D(E[1])){var w=_.getData(),M=new Ga(_.getCoordinates(),new Xe(w));this.insertUniqueEdge(M)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Pn;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var i=e.getLocation(0,Ot.LEFT),a=e.getLocation(0,Ot.RIGHT);return i===Z.INTERIOR&&a===Z.EXTERIOR?1:i===Z.EXTERIOR&&a===Z.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var i=new li,a=new jt;e.hasNext();){var c=e.next(),_=i.createLineString(c.getCoordinates());a.add(_)}return i.buildGeometry(a)}}])}(),no=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"rescale",value:function(){if(Vt(arguments[0],_e))for(var e=arguments[0].iterator();e.hasNext();){var i=e.next();this.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var a=arguments[0],c=0;c<a.length;c++)a[c].x=a[c].x/this._scaleFactor+this._offsetX,a[c].y=a[c].y/this._scaleFactor+this._offsetY;a.length===2&&a[0].equals2D(a[1])&&Yn.out.println(a)}}},{key:"scale",value:function(){if(Vt(arguments[0],_e)){for(var e=arguments[0],i=new jt(e.size()),a=e.iterator();a.hasNext();){var c=a.next();i.add(new ki(this.scale(c.getCoordinates()),c.getData()))}return i}if(arguments[0]instanceof Array){for(var _=arguments[0],E=new Array(_.length).fill(null),w=0;w<_.length;w++)E[w]=new W(Math.round((_[w].x-this._offsetX)*this._scaleFactor),Math.round((_[w].y-this._offsetY)*this._scaleFactor),_[w].getZ());return Re.removeRepeatedPoints(E)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var i=e;this._isScaled&&(i=this.scale(e)),this._noder.computeNodes(i)}},{key:"interfaces_",get:function(){return[Ia]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],i=arguments[1];u.constructor_.call(this,e,i,0,0)}else if(arguments.length===4){var a=arguments[0],c=arguments[1];this._noder=a,this._scaleFactor=c,this._isScaled=!this.isIntegerPrecision()}}}])}(),fi=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var i=e.next().getCoordinates();this.checkEndPtVertexIntersections(i[0],this._segStrings),this.checkEndPtVertexIntersections(i[i.length-1],this._segStrings)}else if(arguments.length===2){for(var a=arguments[0],c=arguments[1].iterator();c.hasNext();)for(var _=c.next().getCoordinates(),E=1;E<_.length-1;E++)if(_[E].equals(a))throw new yt("found endpt/interior pt intersection at index "+E+" :pt "+a)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();)for(var i=e.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();this.checkInteriorIntersections(i,c)}else if(arguments.length===2)for(var _=arguments[0],E=arguments[1],w=_.getCoordinates(),M=E.getCoordinates(),P=0;P<w.length-1;P++)for(var $=0;$<M.length-1;$++)this.checkInteriorIntersections(_,P,E,$);else if(arguments.length===4){var lt=arguments[0],xt=arguments[1],At=arguments[2],Bt=arguments[3];if(lt===At&&xt===Bt)return null;var Zt=lt.getCoordinates()[xt],de=lt.getCoordinates()[xt+1],re=At.getCoordinates()[Bt],we=At.getCoordinates()[Bt+1];if(this._li.computeIntersection(Zt,de,re,we),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Zt,de)||this.hasInteriorIntersection(this._li,re,we)))throw new yt("found non-noded intersection at "+Zt+"-"+de+" and "+re+"-"+we)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var i=e.next();this.checkCollapses(i)}else if(arguments.length===1)for(var a=arguments[0].getCoordinates(),c=0;c<a.length-2;c++)this.checkCollapse(a[c],a[c+1],a[c+2])}},{key:"hasInteriorIntersection",value:function(e,i,a){for(var c=0;c<e.getIntersectionNum();c++){var _=e.getIntersection(c);if(!_.equals(i)&&!_.equals(a))return!0}return!1}},{key:"checkCollapse",value:function(e,i,a){if(e.equals(a))throw new yt("found non-noded collapse at "+u.fact.createLineString([e,i,a]))}}],[{key:"constructor_",value:function(){this._li=new Si,this._segStrings=null;var e=arguments[0];this._segStrings=e}}])}();fi.fact=new li;var Za=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"intersectsScaled",value:function(e,i){var a=Math.min(e.x,i.x),c=Math.max(e.x,i.x),_=Math.min(e.y,i.y),E=Math.max(e.y,i.y),w=this._maxx<a||this._minx>c||this._maxy<_||this._miny>E;if(w)return!1;var M=this.intersectsToleranceSquare(e,i);return dt.isTrue(!(w&&M),"Found bad envelope test"),M}},{key:"initCorners",value:function(e){var i=.5;this._minx=e.x-i,this._maxx=e.x+i,this._miny=e.y-i,this._maxy=e.y+i,this._corner[0]=new W(this._maxx,this._maxy),this._corner[1]=new W(this._minx,this._maxy),this._corner[2]=new W(this._minx,this._miny),this._corner[3]=new W(this._maxx,this._miny)}},{key:"intersects",value:function(e,i){return this._scaleFactor===1?this.intersectsScaled(e,i):(this.copyScaled(e,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,i){i.x=this.scale(e.x),i.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var e=u.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Yt(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,i){return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,i){var a=!1,c=!1;return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!a||!c)||!!e.equals(this._pt)||!!i.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,i){var a=e.getCoordinate(i),c=e.getCoordinate(i+1);return!!this.intersects(a,c)&&(e.addIntersection(this.getCoordinate(),i),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],i=arguments[1],a=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=i,this._li=a,i<=0)throw new pt("Scale factor must be non-zero");i!==1&&(this._pt=new W(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new W,this._p1Scaled=new W),this.initCorners(this._pt)}}])}();Za.SAFE_ENV_EXPANSION_FACTOR=.75;var Zr=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var u=arguments[1];arguments[0].getLineSegment(u,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new zn}}])}(),Ln=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"snap",value:function(){if(arguments.length===1){var u=arguments[0];return this.snap(u,null,-1)}if(arguments.length===3){var e=arguments[0],i=arguments[1],a=arguments[2],c=e.getSafeEnvelope(),_=new On(e,i,a);return this._index.query(c,new(function(){return S(function E(){p(this,E)},[{key:"interfaces_",get:function(){return[Fs]}},{key:"visitItem",value:function(E){E.select(c,_)}}])}())),_.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var u=arguments[0];this._index=u}}])}(),On=function(u){function e(){var i;return p(this,e),i=v(this,e),e.constructor_.apply(i,arguments),i}return q(e,u),S(e,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Qs))return at(e,"select",this,1).apply(this,arguments);var i=arguments[1],a=arguments[0].getContext();if(this._parentEdge===a&&(i===this._hotPixelVertexIndex||i+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(a,i)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var i=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=i,this._parentEdge=a,this._hotPixelVertexIndex=c}}])}(Zr);Ln.HotPixelSnapAction=On;var vs=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"processIntersections",value:function(u,e,i,a){if(u===i&&e===a)return null;var c=u.getCoordinates()[e],_=u.getCoordinates()[e+1],E=i.getCoordinates()[a],w=i.getCoordinates()[a+1];if(this._li.computeIntersection(c,_,E,w),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var M=0;M<this._li.getIntersectionNum();M++)this._interiorIntersections.add(this._li.getIntersection(M));u.addIntersections(this._li,e,0),i.addIntersections(this._li,a,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Pr]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var u=arguments[0];this._li=u,this._interiorIntersections=new jt}}])}(),Ha=function(){return S(function u(){p(this,u),u.constructor_.apply(this,arguments)},[{key:"checkCorrectness",value:function(u){var e=ki.getNodedSubstrings(u),i=new fi(e);try{i.checkValid()}catch(a){if(!(a instanceof It))throw a;a.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return ki.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(u,e){var i=this.findInteriorIntersections(u,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(u)}},{key:"findInteriorIntersections",value:function(u,e){var i=new vs(e);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(u),i.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Vt(arguments[0],_e))for(var u=arguments[0].iterator();u.hasNext();){var e=u.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof ki)for(var i=arguments[0],a=i.getCoordinates(),c=0;c<a.length;c++){var _=new Za(a[c],this._scaleFactor,this._li);this._pointSnapper.snap(_,i,c)&&i.addIntersection(a[c],c)}}},{key:"computeNodes",value:function(u){this._nodedSegStrings=u,this._noder=new Da,this._pointSnapper=new Ln(this._noder.getIndex()),this.snapRound(u,this._li)}},{key:"computeIntersectionSnaps",value:function(u){for(var e=u.iterator();e.hasNext();){var i=e.next(),a=new Za(i,this._scaleFactor,this._li);this._pointSnapper.snap(a)}}},{key:"interfaces_",get:function(){return[Ia]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var u=arguments[0];this._pm=u,this._li=new Si,this._li.setPrecisionModel(u),this._scaleFactor=u.getScale()}}])}(),Li=function(){function u(){p(this,u),u.constructor_.apply(this,arguments)}return S(u,[{key:"bufferFixedPrecision",value:function(e){var i=new no(new Ha(new yn(1)),e.getScale()),a=new na(this._bufParams);a.setWorkingPrecisionModel(e),a.setNoder(i),this._resultGeometry=a.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var e=u.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(_){if(!(_ instanceof bn))throw _;this._saveException=_}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var i=arguments[0],a=u.precisionScaleFactor(this._argGeom,this._distance,i),c=new yn(a);this.bufferFixedPrecision(c)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===yn.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new na(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof yt))throw i;this._saveException=i}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new mt,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this._argGeom=i,this._bufParams=a}}},{key:"bufferOp",value:function(){if(arguments.length===2){var e=arguments[1];return new u(arguments[0]).getResultGeometry(e)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Dt&&typeof arguments[1]=="number"){var i=arguments[1],a=arguments[2],c=new u(arguments[0]);return c.setQuadrantSegments(a),c.getResultGeometry(i)}if(arguments[2]instanceof mt&&arguments[0]instanceof Dt&&typeof arguments[1]=="number"){var _=arguments[1];return new u(arguments[0],arguments[2]).getResultGeometry(_)}}else if(arguments.length===4){var E=arguments[1],w=arguments[2],M=arguments[3],P=new u(arguments[0]);return P.setQuadrantSegments(w),P.setEndCapStyle(M),P.getResultGeometry(E)}}},{key:"precisionScaleFactor",value:function(e,i,a){var c=e.getEnvelopeInternal(),_=Lr.max(Math.abs(c.getMaxX()),Math.abs(c.getMaxY()),Math.abs(c.getMinX()),Math.abs(c.getMinY()))+2*(i>0?i:0),E=a-Math.trunc(Math.log(_)/Math.log(10)+1);return Math.pow(10,E)}}])}();Li.CAP_ROUND=mt.CAP_ROUND,Li.CAP_BUTT=mt.CAP_FLAT,Li.CAP_FLAT=mt.CAP_FLAT,Li.CAP_SQUARE=mt.CAP_SQUARE,Li.MAX_PRECISION_DIGITS=12;var _s=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Hr=function(){return S(function u(e){p(this,u),this.geometryFactory=e||new li},[{key:"read",value:function(u){var e,i=(e=typeof u=="string"?JSON.parse(u):u).type;if(!En[i])throw new Error("Unknown GeoJSON type: "+e.type);return _s.indexOf(i)!==-1?En[i].call(this,e.coordinates):i==="GeometryCollection"?En[i].call(this,e.geometries):En[i].call(this,e)}},{key:"write",value:function(u){var e=u.getGeometryType();if(!Sn[e])throw new Error("Geometry is not supported");return Sn[e].call(this,u)}}])}(),En={Feature:function(u){var e={};for(var i in u)e[i]=u[i];if(u.geometry){var a=u.geometry.type;if(!En[a])throw new Error("Unknown GeoJSON type: "+u.type);e.geometry=this.read(u.geometry)}return u.bbox&&(e.bbox=En.bbox.call(this,u.bbox)),e},FeatureCollection:function(u){var e={};if(u.features){e.features=[];for(var i=0;i<u.features.length;++i)e.features.push(this.read(u.features[i]))}return u.bbox&&(e.bbox=this.parse.bbox.call(this,u.bbox)),e},coordinates:function(u){for(var e=[],i=0;i<u.length;++i){var a=u[i];e.push(b(W,kt(a)))}return e},bbox:function(u){return this.geometryFactory.createLinearRing([new W(u[0],u[1]),new W(u[2],u[1]),new W(u[2],u[3]),new W(u[0],u[3]),new W(u[0],u[1])])},Point:function(u){var e=b(W,kt(u));return this.geometryFactory.createPoint(e)},MultiPoint:function(u){for(var e=[],i=0;i<u.length;++i)e.push(En.Point.call(this,u[i]));return this.geometryFactory.createMultiPoint(e)},LineString:function(u){var e=En.coordinates.call(this,u);return this.geometryFactory.createLineString(e)},MultiLineString:function(u){for(var e=[],i=0;i<u.length;++i)e.push(En.LineString.call(this,u[i]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(u){for(var e=En.coordinates.call(this,u[0]),i=this.geometryFactory.createLinearRing(e),a=[],c=1;c<u.length;++c){var _=u[c],E=En.coordinates.call(this,_),w=this.geometryFactory.createLinearRing(E);a.push(w)}return this.geometryFactory.createPolygon(i,a)},MultiPolygon:function(u){for(var e=[],i=0;i<u.length;++i){var a=u[i];e.push(En.Polygon.call(this,a))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(u){for(var e=[],i=0;i<u.length;++i){var a=u[i];e.push(this.read(a))}return this.geometryFactory.createGeometryCollection(e)}},Sn={coordinate:function(u){var e=[u.x,u.y];return u.z&&e.push(u.z),u.m&&e.push(u.m),e},Point:function(u){return{type:"Point",coordinates:Sn.coordinate.call(this,u.getCoordinate())}},MultiPoint:function(u){for(var e=[],i=0;i<u._geometries.length;++i){var a=u._geometries[i],c=Sn.Point.call(this,a);e.push(c.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(u){for(var e=[],i=u.getCoordinates(),a=0;a<i.length;++a){var c=i[a];e.push(Sn.coordinate.call(this,c))}return{type:"LineString",coordinates:e}},MultiLineString:function(u){for(var e=[],i=0;i<u._geometries.length;++i){var a=u._geometries[i],c=Sn.LineString.call(this,a);e.push(c.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(u){var e=[],i=Sn.LineString.call(this,u._shell);e.push(i.coordinates);for(var a=0;a<u._holes.length;++a){var c=u._holes[a],_=Sn.LineString.call(this,c);e.push(_.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(u){for(var e=[],i=0;i<u._geometries.length;++i){var a=u._geometries[i],c=Sn.Polygon.call(this,a);e.push(c.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(u){for(var e=[],i=0;i<u._geometries.length;++i){var a=u._geometries[i],c=a.getGeometryType();e.push(Sn[c].call(this,a))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:Li,GeoJSONReader:function(){return S(function u(e){p(this,u),this.parser=new Hr(e||new li)},[{key:"read",value:function(u){return this.parser.read(u)}}])}(),GeoJSONWriter:function(){return S(function u(){p(this,u),this.parser=new Hr(this.geometryFactory)},[{key:"write",value:function(u){return this.parser.write(u)}}])}()}})}(Vl)),Vl.exports}var Xp=Yp();const Fp=Vm(Xp);function La(){return new Wl}function Wl(){this.reset()}Wl.prototype={constructor:Wl,reset:function(){this.s=this.t=0},add:function(d){fm(Bl,d,this.t),fm(this,Bl.s,this.s),this.s?this.t+=Bl.t:this.s=Bl.t},valueOf:function(){return this.s}};var Bl=new Wl;function fm(d,m,g){var v=d.s=m+g,p=v-m,b=v-p;d.t=m-b+(g-p)}var Ye=1e-6,Ne=Math.PI,$r=Ne/2,dm=Ne/4,ns=Ne*2,wa=180/Ne,ur=Ne/180,In=Math.abs,Vp=Math.atan,Hu=Math.atan2,Ke=Math.cos,Je=Math.sin,Fu=Math.sqrt;function av(d){return d>1?0:d<-1?Ne:Math.acos(d)}function cu(d){return d>1?$r:d<-1?-$r:Math.asin(d)}function Bo(){}function $l(d,m){d&&mm.hasOwnProperty(d.type)&&mm[d.type](d,m)}var gm={Feature:function(d,m){$l(d.geometry,m)},FeatureCollection:function(d,m){for(var g=d.features,v=-1,p=g.length;++v<p;)$l(g[v].geometry,m)}},mm={Sphere:function(d,m){m.sphere()},Point:function(d,m){d=d.coordinates,m.point(d[0],d[1],d[2])},MultiPoint:function(d,m){for(var g=d.coordinates,v=-1,p=g.length;++v<p;)d=g[v],m.point(d[0],d[1],d[2])},LineString:function(d,m){uf(d.coordinates,m,0)},MultiLineString:function(d,m){for(var g=d.coordinates,v=-1,p=g.length;++v<p;)uf(g[v],m,0)},Polygon:function(d,m){vm(d.coordinates,m)},MultiPolygon:function(d,m){for(var g=d.coordinates,v=-1,p=g.length;++v<p;)vm(g[v],m)},GeometryCollection:function(d,m){for(var g=d.geometries,v=-1,p=g.length;++v<p;)$l(g[v],m)}};function uf(d,m,g){var v=-1,p=d.length-g,b;for(m.lineStart();++v<p;)b=d[v],m.point(b[0],b[1],b[2]);m.lineEnd()}function vm(d,m){var g=-1,v=d.length;for(m.polygonStart();++g<v;)uf(d[g],m,1);m.polygonEnd()}function jp(d,m){d&&gm.hasOwnProperty(d.type)?gm[d.type](d,m):$l(d,m)}La();La();function of(d){return[Hu(d[1],d[0]),cu(d[2])]}function Yu(d){var m=d[0],g=d[1],v=Ke(g);return[v*Ke(m),v*Je(m),Je(g)]}function ql(d,m){return d[0]*m[0]+d[1]*m[1]+d[2]*m[2]}function tc(d,m){return[d[1]*m[2]-d[2]*m[1],d[2]*m[0]-d[0]*m[2],d[0]*m[1]-d[1]*m[0]]}function tf(d,m){d[0]+=m[0],d[1]+=m[1],d[2]+=m[2]}function Ul(d,m){return[d[0]*m,d[1]*m,d[2]*m]}function lf(d){var m=Fu(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=m,d[1]/=m,d[2]/=m}La();function uv(d,m){function g(v,p){return v=d(v,p),m(v[0],v[1])}return d.invert&&m.invert&&(g.invert=function(v,p){return v=m.invert(v,p),v&&d.invert(v[0],v[1])}),g}function cf(d,m){return[d>Ne?d-ns:d<-Ne?d+ns:d,m]}cf.invert=cf;function Qp(d,m,g){return(d%=ns)?m||g?uv(pm(d),ym(m,g)):pm(d):m||g?ym(m,g):cf}function _m(d){return function(m,g){return m+=d,[m>Ne?m-ns:m<-Ne?m+ns:m,g]}}function pm(d){var m=_m(d);return m.invert=_m(-d),m}function ym(d,m){var g=Ke(d),v=Je(d),p=Ke(m),b=Je(m);function N(S,z){var A=Ke(z),H=Ke(S)*A,q=Je(S)*A,K=Je(z),nt=K*g+H*v;return[Hu(q*p-nt*b,H*g-K*v),cu(nt*p+q*b)]}return N.invert=function(S,z){var A=Ke(z),H=Ke(S)*A,q=Je(S)*A,K=Je(z),nt=K*p-q*b;return[Hu(q*p+K*b,H*g+nt*v),cu(nt*g-H*v)]},N}function Kp(d,m,g,v,p,b){if(g){var N=Ke(m),S=Je(m),z=v*g;p==null?(p=m+v*ns,b=m-z/2):(p=xm(N,p),b=xm(N,b),(v>0?p<b:p>b)&&(p+=v*ns));for(var A,H=p;v>0?H>b:H<b;H-=z)A=of([N,-S*Ke(H),-S*Je(H)]),d.point(A[0],A[1])}}function xm(d,m){m=Yu(m),m[0]-=d,lf(m);var g=av(-m[1]);return((-m[2]<0?-g:g)+ns-Ye)%ns}function ov(){var d=[],m;return{point:function(g,v){m.push([g,v])},lineStart:function(){d.push(m=[])},lineEnd:Bo,rejoin:function(){d.length>1&&d.push(d.pop().concat(d.shift()))},result:function(){var g=d;return d=[],m=null,g}}}function Jp(d,m,g,v,p,b){var N=d[0],S=d[1],z=m[0],A=m[1],H=0,q=1,K=z-N,nt=A-S,at;if(at=g-N,!(!K&&at>0)){if(at/=K,K<0){if(at<H)return;at<q&&(q=at)}else if(K>0){if(at>q)return;at>H&&(H=at)}if(at=p-N,!(!K&&at<0)){if(at/=K,K<0){if(at>q)return;at>H&&(H=at)}else if(K>0){if(at<H)return;at<q&&(q=at)}if(at=v-S,!(!nt&&at>0)){if(at/=nt,nt<0){if(at<H)return;at<q&&(q=at)}else if(nt>0){if(at>q)return;at>H&&(H=at)}if(at=b-S,!(!nt&&at<0)){if(at/=nt,nt<0){if(at>q)return;at>H&&(H=at)}else if(nt>0){if(at<H)return;at<q&&(q=at)}return H>0&&(d[0]=N+H*K,d[1]=S+H*nt),q<1&&(m[0]=N+q*K,m[1]=S+q*nt),!0}}}}}function jl(d,m){return In(d[0]-m[0])<Ye&&In(d[1]-m[1])<Ye}function Gl(d,m,g,v){this.x=d,this.z=m,this.o=g,this.e=v,this.v=!1,this.n=this.p=null}function lv(d,m,g,v,p){var b=[],N=[],S,z;if(d.forEach(function(at){if(!((kt=at.length-1)<=0)){var kt,Mt=at[0],Pt=at[kt],st;if(jl(Mt,Pt)){for(p.lineStart(),S=0;S<kt;++S)p.point((Mt=at[S])[0],Mt[1]);p.lineEnd();return}b.push(st=new Gl(Mt,at,null,!0)),N.push(st.o=new Gl(Mt,null,st,!1)),b.push(st=new Gl(Pt,at,null,!1)),N.push(st.o=new Gl(Pt,null,st,!0))}}),!!b.length){for(N.sort(m),Em(b),Em(N),S=0,z=N.length;S<z;++S)N[S].e=g=!g;for(var A=b[0],H,q;;){for(var K=A,nt=!0;K.v;)if((K=K.n)===A)return;H=K.z,p.lineStart();do{if(K.v=K.o.v=!0,K.e){if(nt)for(S=0,z=H.length;S<z;++S)p.point((q=H[S])[0],q[1]);else v(K.x,K.n.x,1,p);K=K.n}else{if(nt)for(H=K.p.z,S=H.length-1;S>=0;--S)p.point((q=H[S])[0],q[1]);else v(K.x,K.p.x,-1,p);K=K.p}K=K.o,H=K.z,nt=!nt}while(!K.v);p.lineEnd()}}}function Em(d){if(m=d.length){for(var m,g=0,v=d[0],p;++g<m;)v.n=p=d[g],p.p=v,v=p;v.n=p=d[0],p.p=v}}function cv(d,m){return d<m?-1:d>m?1:d>=m?0:NaN}function Wp(d){return d.length===1&&(d=$p(d)),{left:function(m,g,v,p){for(v==null&&(v=0),p==null&&(p=m.length);v<p;){var b=v+p>>>1;d(m[b],g)<0?v=b+1:p=b}return v},right:function(m,g,v,p){for(v==null&&(v=0),p==null&&(p=m.length);v<p;){var b=v+p>>>1;d(m[b],g)>0?p=b:v=b+1}return v}}}function $p(d){return function(m,g){return cv(d(m),g)}}Wp(cv);function hv(d){for(var m=d.length,g,v=-1,p=0,b,N;++v<m;)p+=d[v].length;for(b=new Array(p);--m>=0;)for(N=d[m],g=N.length;--g>=0;)b[--p]=N[g];return b}var Zl=1e9,Hl=-1e9;function ty(d,m,g,v){function p(A,H){return d<=A&&A<=g&&m<=H&&H<=v}function b(A,H,q,K){var nt=0,at=0;if(A==null||(nt=N(A,q))!==(at=N(H,q))||z(A,H)<0^q>0)do K.point(nt===0||nt===3?d:g,nt>1?v:m);while((nt=(nt+q+4)%4)!==at);else K.point(H[0],H[1])}function N(A,H){return In(A[0]-d)<Ye?H>0?0:3:In(A[0]-g)<Ye?H>0?2:1:In(A[1]-m)<Ye?H>0?1:0:H>0?3:2}function S(A,H){return z(A.x,H.x)}function z(A,H){var q=N(A,1),K=N(H,1);return q!==K?q-K:q===0?H[1]-A[1]:q===1?A[0]-H[0]:q===2?A[1]-H[1]:H[0]-A[0]}return function(A){var H=A,q=ov(),K,nt,at,kt,Mt,Pt,st,mt,It,pt,Lt,Ct={point:I,lineStart:j,lineEnd:tt,polygonStart:U,polygonEnd:J};function I(X,B){p(X,B)&&H.point(X,B)}function C(){for(var X=0,B=0,Q=nt.length;B<Q;++B)for(var G=nt[B],ht=1,R=G.length,it=G[0],yt,bt,dt=it[0],Tt=it[1];ht<R;++ht)yt=dt,bt=Tt,it=G[ht],dt=it[0],Tt=it[1],bt<=v?Tt>v&&(dt-yt)*(v-bt)>(Tt-bt)*(d-yt)&&++X:Tt<=v&&(dt-yt)*(v-bt)<(Tt-bt)*(d-yt)&&--X;return X}function U(){H=q,K=[],nt=[],Lt=!0}function J(){var X=C(),B=Lt&&X,Q=(K=hv(K)).length;(B||Q)&&(A.polygonStart(),B&&(A.lineStart(),b(null,null,1,A),A.lineEnd()),Q&&lv(K,S,X,b,A),A.polygonEnd()),H=A,K=nt=at=null}function j(){Ct.point=V,nt&&nt.push(at=[]),pt=!0,It=!1,st=mt=NaN}function tt(){K&&(V(kt,Mt),Pt&&It&&q.rejoin(),K.push(q.result())),Ct.point=I,It&&H.lineEnd()}function V(X,B){var Q=p(X,B);if(nt&&at.push([X,B]),pt)kt=X,Mt=B,Pt=Q,pt=!1,Q&&(H.lineStart(),H.point(X,B));else if(Q&&It)H.point(X,B);else{var G=[st=Math.max(Hl,Math.min(Zl,st)),mt=Math.max(Hl,Math.min(Zl,mt))],ht=[X=Math.max(Hl,Math.min(Zl,X)),B=Math.max(Hl,Math.min(Zl,B))];Jp(G,ht,d,m,g,v)?(It||(H.lineStart(),H.point(G[0],G[1])),H.point(ht[0],ht[1]),Q||H.lineEnd(),Lt=!1):Q&&(H.lineStart(),H.point(X,B),Lt=!1)}st=X,mt=B,It=Q}return Ct}}var ef=La();function ey(d,m){var g=m[0],v=m[1],p=[Je(g),-Ke(g),0],b=0,N=0;ef.reset();for(var S=0,z=d.length;S<z;++S)if(H=(A=d[S]).length)for(var A,H,q=A[H-1],K=q[0],nt=q[1]/2+dm,at=Je(nt),kt=Ke(nt),Mt=0;Mt<H;++Mt,K=st,at=It,kt=pt,q=Pt){var Pt=A[Mt],st=Pt[0],mt=Pt[1]/2+dm,It=Je(mt),pt=Ke(mt),Lt=st-K,Ct=Lt>=0?1:-1,I=Ct*Lt,C=I>Ne,U=at*It;if(ef.add(Hu(U*Ct*Je(I),kt*pt+U*Ke(I))),b+=C?Lt+Ct*ns:Lt,C^K>=g^st>=g){var J=tc(Yu(q),Yu(Pt));lf(J);var j=tc(p,J);lf(j);var tt=(C^Lt>=0?-1:1)*cu(j[2]);(v>tt||v===tt&&(J[0]||J[1]))&&(N+=C^Lt>=0?1:-1)}}return(b<-1e-6||b<Ye&&ef<-1e-6)^N&1}La();function Sm(d){return d}La();La();var Xu=1/0,ec=Xu,Go=-Xu,nc=Go,Tm={point:ny,lineStart:Bo,lineEnd:Bo,polygonStart:Bo,polygonEnd:Bo,result:function(){var d=[[Xu,ec],[Go,nc]];return Go=nc=-(ec=Xu=1/0),d}};function ny(d,m){d<Xu&&(Xu=d),d>Go&&(Go=d),m<ec&&(ec=m),m>nc&&(nc=m)}La();function fv(d,m,g,v){return function(p,b){var N=m(b),S=p.invert(v[0],v[1]),z=ov(),A=m(z),H=!1,q,K,nt,at={point:kt,lineStart:Pt,lineEnd:st,polygonStart:function(){at.point=mt,at.lineStart=It,at.lineEnd=pt,K=[],q=[]},polygonEnd:function(){at.point=kt,at.lineStart=Pt,at.lineEnd=st,K=hv(K);var Lt=ey(q,S);K.length?(H||(b.polygonStart(),H=!0),lv(K,ry,Lt,g,b)):Lt&&(H||(b.polygonStart(),H=!0),b.lineStart(),g(null,null,1,b),b.lineEnd()),H&&(b.polygonEnd(),H=!1),K=q=null},sphere:function(){b.polygonStart(),b.lineStart(),g(null,null,1,b),b.lineEnd(),b.polygonEnd()}};function kt(Lt,Ct){var I=p(Lt,Ct);d(Lt=I[0],Ct=I[1])&&b.point(Lt,Ct)}function Mt(Lt,Ct){var I=p(Lt,Ct);N.point(I[0],I[1])}function Pt(){at.point=Mt,N.lineStart()}function st(){at.point=kt,N.lineEnd()}function mt(Lt,Ct){nt.push([Lt,Ct]);var I=p(Lt,Ct);A.point(I[0],I[1])}function It(){A.lineStart(),nt=[]}function pt(){mt(nt[0][0],nt[0][1]),A.lineEnd();var Lt=A.clean(),Ct=z.result(),I,C=Ct.length,U,J,j;if(nt.pop(),q.push(nt),nt=null,!!C){if(Lt&1){if(J=Ct[0],(U=J.length-1)>0){for(H||(b.polygonStart(),H=!0),b.lineStart(),I=0;I<U;++I)b.point((j=J[I])[0],j[1]);b.lineEnd()}return}C>1&&Lt&2&&Ct.push(Ct.pop().concat(Ct.shift())),K.push(Ct.filter(iy))}}return at}}function iy(d){return d.length>1}function ry(d,m){return((d=d.x)[0]<0?d[1]-$r-Ye:$r-d[1])-((m=m.x)[0]<0?m[1]-$r-Ye:$r-m[1])}const wm=fv(function(){return!0},sy,uy,[-Ne,-$r]);function sy(d){var m=NaN,g=NaN,v=NaN,p;return{lineStart:function(){d.lineStart(),p=1},point:function(b,N){var S=b>0?Ne:-Ne,z=In(b-m);In(z-Ne)<Ye?(d.point(m,g=(g+N)/2>0?$r:-$r),d.point(v,g),d.lineEnd(),d.lineStart(),d.point(S,g),d.point(b,g),p=0):v!==S&&z>=Ne&&(In(m-v)<Ye&&(m-=v*Ye),In(b-S)<Ye&&(b-=S*Ye),g=ay(m,g,b,N),d.point(v,g),d.lineEnd(),d.lineStart(),d.point(S,g),p=0),d.point(m=b,g=N),v=S},lineEnd:function(){d.lineEnd(),m=g=NaN},clean:function(){return 2-p}}}function ay(d,m,g,v){var p,b,N=Je(d-g);return In(N)>Ye?Vp((Je(m)*(b=Ke(v))*Je(g)-Je(v)*(p=Ke(m))*Je(d))/(p*b*N)):(m+v)/2}function uy(d,m,g,v){var p;if(d==null)p=g*$r,v.point(-Ne,p),v.point(0,p),v.point(Ne,p),v.point(Ne,0),v.point(Ne,-p),v.point(0,-p),v.point(-Ne,-p),v.point(-Ne,0),v.point(-Ne,p);else if(In(d[0]-m[0])>Ye){var b=d[0]<m[0]?Ne:-Ne;p=g*b/2,v.point(-b,p),v.point(0,p),v.point(b,p)}else v.point(m[0],m[1])}function oy(d,m){var g=Ke(d),v=g>0,p=In(g)>Ye;function b(H,q,K,nt){Kp(nt,d,m,K,H,q)}function N(H,q){return Ke(H)*Ke(q)>g}function S(H){var q,K,nt,at,kt;return{lineStart:function(){at=nt=!1,kt=1},point:function(Mt,Pt){var st=[Mt,Pt],mt,It=N(Mt,Pt),pt=v?It?0:A(Mt,Pt):It?A(Mt+(Mt<0?Ne:-Ne),Pt):0;if(!q&&(at=nt=It)&&H.lineStart(),It!==nt&&(mt=z(q,st),(!mt||jl(q,mt)||jl(st,mt))&&(st[0]+=Ye,st[1]+=Ye,It=N(st[0],st[1]))),It!==nt)kt=0,It?(H.lineStart(),mt=z(st,q),H.point(mt[0],mt[1])):(mt=z(q,st),H.point(mt[0],mt[1]),H.lineEnd()),q=mt;else if(p&&q&&v^It){var Lt;!(pt&K)&&(Lt=z(st,q,!0))&&(kt=0,v?(H.lineStart(),H.point(Lt[0][0],Lt[0][1]),H.point(Lt[1][0],Lt[1][1]),H.lineEnd()):(H.point(Lt[1][0],Lt[1][1]),H.lineEnd(),H.lineStart(),H.point(Lt[0][0],Lt[0][1])))}It&&(!q||!jl(q,st))&&H.point(st[0],st[1]),q=st,nt=It,K=pt},lineEnd:function(){nt&&H.lineEnd(),q=null},clean:function(){return kt|(at&&nt)<<1}}}function z(H,q,K){var nt=Yu(H),at=Yu(q),kt=[1,0,0],Mt=tc(nt,at),Pt=ql(Mt,Mt),st=Mt[0],mt=Pt-st*st;if(!mt)return!K&&H;var It=g*Pt/mt,pt=-g*st/mt,Lt=tc(kt,Mt),Ct=Ul(kt,It),I=Ul(Mt,pt);tf(Ct,I);var C=Lt,U=ql(Ct,C),J=ql(C,C),j=U*U-J*(ql(Ct,Ct)-1);if(!(j<0)){var tt=Fu(j),V=Ul(C,(-U-tt)/J);if(tf(V,Ct),V=of(V),!K)return V;var X=H[0],B=q[0],Q=H[1],G=q[1],ht;B<X&&(ht=X,X=B,B=ht);var R=B-X,it=In(R-Ne)<Ye,yt=it||R<Ye;if(!it&&G<Q&&(ht=Q,Q=G,G=ht),yt?it?Q+G>0^V[1]<(In(V[0]-X)<Ye?Q:G):Q<=V[1]&&V[1]<=G:R>Ne^(X<=V[0]&&V[0]<=B)){var bt=Ul(C,(-U+tt)/J);return tf(bt,Ct),[V,of(bt)]}}}function A(H,q){var K=v?d:Ne-d,nt=0;return H<-K?nt|=1:H>K&&(nt|=2),q<-K?nt|=4:q>K&&(nt|=8),nt}return fv(N,S,b,v?[0,-d]:[-Ne,d-Ne])}function dv(d){return function(m){var g=new hf;for(var v in d)g[v]=d[v];return g.stream=m,g}}function hf(){}hf.prototype={constructor:hf,point:function(d,m){this.stream.point(d,m)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gv(d,m,g){var v=m[1][0]-m[0][0],p=m[1][1]-m[0][1],b=d.clipExtent&&d.clipExtent();d.scale(150).translate([0,0]),b!=null&&d.clipExtent(null),jp(g,d.stream(Tm));var N=Tm.result(),S=Math.min(v/(N[1][0]-N[0][0]),p/(N[1][1]-N[0][1])),z=+m[0][0]+(v-S*(N[1][0]+N[0][0]))/2,A=+m[0][1]+(p-S*(N[1][1]+N[0][1]))/2;return b!=null&&d.clipExtent(b),d.scale(S*150).translate([z,A])}function ly(d,m,g){return gv(d,[[0,0],m],g)}var bm=16,cy=Ke(30*ur);function km(d,m){return+m?fy(d,m):hy(d)}function hy(d){return dv({point:function(m,g){m=d(m,g),this.stream.point(m[0],m[1])}})}function fy(d,m){function g(v,p,b,N,S,z,A,H,q,K,nt,at,kt,Mt){var Pt=A-v,st=H-p,mt=Pt*Pt+st*st;if(mt>4*m&&kt--){var It=N+K,pt=S+nt,Lt=z+at,Ct=Fu(It*It+pt*pt+Lt*Lt),I=cu(Lt/=Ct),C=In(In(Lt)-1)<Ye||In(b-q)<Ye?(b+q)/2:Hu(pt,It),U=d(C,I),J=U[0],j=U[1],tt=J-v,V=j-p,X=st*tt-Pt*V;(X*X/mt>m||In((Pt*tt+st*V)/mt-.5)>.3||N*K+S*nt+z*at<cy)&&(g(v,p,b,N,S,z,J,j,C,It/=Ct,pt/=Ct,Lt,kt,Mt),Mt.point(J,j),g(J,j,C,It,pt,Lt,A,H,q,K,nt,at,kt,Mt))}}return function(v){var p,b,N,S,z,A,H,q,K,nt,at,kt,Mt={point:Pt,lineStart:st,lineEnd:It,polygonStart:function(){v.polygonStart(),Mt.lineStart=pt},polygonEnd:function(){v.polygonEnd(),Mt.lineStart=st}};function Pt(I,C){I=d(I,C),v.point(I[0],I[1])}function st(){q=NaN,Mt.point=mt,v.lineStart()}function mt(I,C){var U=Yu([I,C]),J=d(I,C);g(q,K,H,nt,at,kt,q=J[0],K=J[1],H=I,nt=U[0],at=U[1],kt=U[2],bm,v),v.point(q,K)}function It(){Mt.point=Pt,v.lineEnd()}function pt(){st(),Mt.point=Lt,Mt.lineEnd=Ct}function Lt(I,C){mt(p=I,C),b=q,N=K,S=nt,z=at,A=kt,Mt.point=mt}function Ct(){g(q,K,H,nt,at,kt,b,N,p,S,z,A,bm,v),Mt.lineEnd=It,It()}return Mt}}var dy=dv({point:function(d,m){this.stream.point(d*ur,m*ur)}});function gy(d){return my(function(){return d})()}function my(d){var m,g=150,v=480,p=250,b,N,S=0,z=0,A=0,H=0,q=0,K,nt,at=null,kt=wm,Mt=null,Pt,st,mt,It=Sm,pt=.5,Lt=km(J,pt),Ct,I;function C(V){return V=nt(V[0]*ur,V[1]*ur),[V[0]*g+b,N-V[1]*g]}function U(V){return V=nt.invert((V[0]-b)/g,(N-V[1])/g),V&&[V[0]*wa,V[1]*wa]}function J(V,X){return V=m(V,X),[V[0]*g+b,N-V[1]*g]}C.stream=function(V){return Ct&&I===V?Ct:Ct=dy(kt(K,Lt(It(I=V))))},C.clipAngle=function(V){return arguments.length?(kt=+V?oy(at=V*ur,6*ur):(at=null,wm),tt()):at*wa},C.clipExtent=function(V){return arguments.length?(It=V==null?(Mt=Pt=st=mt=null,Sm):ty(Mt=+V[0][0],Pt=+V[0][1],st=+V[1][0],mt=+V[1][1]),tt()):Mt==null?null:[[Mt,Pt],[st,mt]]},C.scale=function(V){return arguments.length?(g=+V,j()):g},C.translate=function(V){return arguments.length?(v=+V[0],p=+V[1],j()):[v,p]},C.center=function(V){return arguments.length?(S=V[0]%360*ur,z=V[1]%360*ur,j()):[S*wa,z*wa]},C.rotate=function(V){return arguments.length?(A=V[0]%360*ur,H=V[1]%360*ur,q=V.length>2?V[2]%360*ur:0,j()):[A*wa,H*wa,q*wa]},C.precision=function(V){return arguments.length?(Lt=km(J,pt=V*V),tt()):Fu(pt)},C.fitExtent=function(V,X){return gv(C,V,X)},C.fitSize=function(V,X){return ly(C,V,X)};function j(){nt=uv(K=Qp(A,H,q),m);var V=m(S,z);return b=v-V[0]*g,N=p+V[1]*g,tt()}function tt(){return Ct=I=null,C}return function(){return m=d.apply(this,arguments),C.invert=m.invert&&U,j()}}function mv(d){return function(m,g){var v=Ke(m),p=Ke(g),b=d(v*p);return[b*p*Je(m),b*Je(g)]}}function vv(d){return function(m,g){var v=Fu(m*m+g*g),p=d(v),b=Je(p),N=Ke(p);return[Hu(m*b,v*N),cu(v&&g*b/v)]}}var vy=mv(function(d){return Fu(2/(1+d))});vy.invert=vv(function(d){return 2*cu(d/2)});var _v=mv(function(d){return(d=av(d))&&d/Je(d)});_v.invert=vv(function(d){return d});function _y(){return gy(_v).scale(79.4188).clipAngle(180-.001)}function Nm(d,m){return[d,m]}Nm.invert=Nm;var{BufferOp:py,GeoJSONReader:yy,GeoJSONWriter:xy}=Fp;function pv(d,m,g){g=g||{};var v=g.units||"kilometers",p=g.steps||8;if(!d)throw new Error("geojson is required");if(typeof g!="object")throw new Error("options must be an object");if(typeof p!="number")throw new Error("steps must be an number");if(m===void 0)throw new Error("radius is required");if(p<=0)throw new Error("steps must be greater than 0");var b=[];switch(d.type){case"GeometryCollection":return Sf(d,function(N){var S=Ql(N,m,v,p);S&&b.push(S)}),lu(b);case"FeatureCollection":return cm(d,function(N){var S=Ql(N,m,v,p);S&&cm(S,function(z){z&&b.push(z)})}),lu(b)}return Ql(d,m,v,p)}function Ql(d,m,g,v){var p=d.properties||{},b=d.type==="Feature"?d.geometry:d;if(b.type==="GeometryCollection"){var N=[];return Sf(d,function(kt){var Mt=Ql(kt,m,g,v);Mt&&N.push(Mt)}),lu(N)}var S=Ey(b),z={type:b.type,coordinates:xv(b.coordinates,S)},A=new yy,H=A.read(z),q=qp(iv(m,g),"meters"),K=py.bufferOp(H,q,v),nt=new xy;if(K=nt.write(K),!yv(K.coordinates)){var at={type:K.type,coordinates:Ev(K.coordinates,S)};return dc(at,p)}}function yv(d){return Array.isArray(d[0])?yv(d[0]):isNaN(d[0])}function xv(d,m){return typeof d[0]!="object"?m(d):d.map(function(g){return xv(g,m)})}function Ev(d,m){return typeof d[0]!="object"?m.invert(d):d.map(function(g){return Ev(g,m)})}function Ey(d){var m=Zp(d).geometry.coordinates,g=[-m[0],-m[1]];return _y().rotate(g).scale(gi)}function Sy(d,m,g={}){const v=g.steps||64,p=g.properties?g.properties:!Array.isArray(d)&&d.type==="Feature"&&d.properties?d.properties:{},b=[];for(let N=0;N<v;N++)b.push(Gp(d,m,N*-360/v,g).geometry.coordinates);return b.push(b[0]),mc([b],p)}var Ty=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,nf=Math.ceil,sr=Math.floor,mi="[BigNumber Error] ",Lm=mi+"Number primitive has more than 15 significant digits: ",kr=1e14,ue=14,Om=9007199254740991,rf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ba=1e7,Ai=1e9;function Sv(d){var m,g,v,p=st.prototype={constructor:st,toString:null,valueOf:null},b=new st(1),N=20,S=4,z=-7,A=21,H=-1e7,q=1e7,K=!1,nt=1,at=0,kt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Mt="0123456789abcdefghijklmnopqrstuvwxyz",Pt=!0;function st(I,C){var U,J,j,tt,V,X,B,Q,G=this;if(!(G instanceof st))return new st(I,C);if(C==null){if(I&&I._isBigNumber===!0){G.s=I.s,!I.c||I.e>q?G.c=G.e=null:I.e<H?G.c=[G.e=0]:(G.e=I.e,G.c=I.c.slice());return}if((X=typeof I=="number")&&I*0==0){if(G.s=1/I<0?(I=-I,-1):1,I===~~I){for(tt=0,V=I;V>=10;V/=10,tt++);tt>q?G.c=G.e=null:(G.e=tt,G.c=[I]);return}Q=String(I)}else{if(!Ty.test(Q=String(I)))return v(G,Q,X);G.s=Q.charCodeAt(0)==45?(Q=Q.slice(1),-1):1}(tt=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(V=Q.search(/e/i))>0?(tt<0&&(tt=V),tt+=+Q.slice(V+1),Q=Q.substring(0,V)):tt<0&&(tt=Q.length)}else{if(Qe(C,2,Mt.length,"Base"),C==10&&Pt)return G=new st(I),Lt(G,N+G.e+1,S);if(Q=String(I),X=typeof I=="number"){if(I*0!=0)return v(G,Q,X,C);if(G.s=1/I<0?(Q=Q.slice(1),-1):1,st.DEBUG&&Q.replace(/^0\.0*|\./,"").length>15)throw Error(Lm+I)}else G.s=Q.charCodeAt(0)===45?(Q=Q.slice(1),-1):1;for(U=Mt.slice(0,C),tt=V=0,B=Q.length;V<B;V++)if(U.indexOf(J=Q.charAt(V))<0){if(J=="."){if(V>tt){tt=B;continue}}else if(!j&&(Q==Q.toUpperCase()&&(Q=Q.toLowerCase())||Q==Q.toLowerCase()&&(Q=Q.toUpperCase()))){j=!0,V=-1,tt=0;continue}return v(G,String(I),X,C)}X=!1,Q=g(Q,C,10,G.s),(tt=Q.indexOf("."))>-1?Q=Q.replace(".",""):tt=Q.length}for(V=0;Q.charCodeAt(V)===48;V++);for(B=Q.length;Q.charCodeAt(--B)===48;);if(Q=Q.slice(V,++B)){if(B-=V,X&&st.DEBUG&&B>15&&(I>Om||I!==sr(I)))throw Error(Lm+G.s*I);if((tt=tt-V-1)>q)G.c=G.e=null;else if(tt<H)G.c=[G.e=0];else{if(G.e=tt,G.c=[],V=(tt+1)%ue,tt<0&&(V+=ue),V<B){for(V&&G.c.push(+Q.slice(0,V)),B-=ue;V<B;)G.c.push(+Q.slice(V,V+=ue));V=ue-(Q=Q.slice(V)).length}else V-=B;for(;V--;Q+="0");G.c.push(+Q)}}else G.c=[G.e=0]}st.clone=Sv,st.ROUND_UP=0,st.ROUND_DOWN=1,st.ROUND_CEIL=2,st.ROUND_FLOOR=3,st.ROUND_HALF_UP=4,st.ROUND_HALF_DOWN=5,st.ROUND_HALF_EVEN=6,st.ROUND_HALF_CEIL=7,st.ROUND_HALF_FLOOR=8,st.EUCLID=9,st.config=st.set=function(I){var C,U;if(I!=null)if(typeof I=="object"){if(I.hasOwnProperty(C="DECIMAL_PLACES")&&(U=I[C],Qe(U,0,Ai,C),N=U),I.hasOwnProperty(C="ROUNDING_MODE")&&(U=I[C],Qe(U,0,8,C),S=U),I.hasOwnProperty(C="EXPONENTIAL_AT")&&(U=I[C],U&&U.pop?(Qe(U[0],-1e9,0,C),Qe(U[1],0,Ai,C),z=U[0],A=U[1]):(Qe(U,-1e9,Ai,C),z=-(A=U<0?-U:U))),I.hasOwnProperty(C="RANGE"))if(U=I[C],U&&U.pop)Qe(U[0],-1e9,-1,C),Qe(U[1],1,Ai,C),H=U[0],q=U[1];else if(Qe(U,-1e9,Ai,C),U)H=-(q=U<0?-U:U);else throw Error(mi+C+" cannot be zero: "+U);if(I.hasOwnProperty(C="CRYPTO"))if(U=I[C],U===!!U)if(U)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))K=U;else throw K=!U,Error(mi+"crypto unavailable");else K=U;else throw Error(mi+C+" not true or false: "+U);if(I.hasOwnProperty(C="MODULO_MODE")&&(U=I[C],Qe(U,0,9,C),nt=U),I.hasOwnProperty(C="POW_PRECISION")&&(U=I[C],Qe(U,0,Ai,C),at=U),I.hasOwnProperty(C="FORMAT"))if(U=I[C],typeof U=="object")kt=U;else throw Error(mi+C+" not an object: "+U);if(I.hasOwnProperty(C="ALPHABET"))if(U=I[C],typeof U=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(U))Pt=U.slice(0,10)=="0123456789",Mt=U;else throw Error(mi+C+" invalid: "+U)}else throw Error(mi+"Object expected: "+I);return{DECIMAL_PLACES:N,ROUNDING_MODE:S,EXPONENTIAL_AT:[z,A],RANGE:[H,q],CRYPTO:K,MODULO_MODE:nt,POW_PRECISION:at,FORMAT:kt,ALPHABET:Mt}},st.isBigNumber=function(I){if(!I||I._isBigNumber!==!0)return!1;if(!st.DEBUG)return!0;var C,U,J=I.c,j=I.e,tt=I.s;t:if({}.toString.call(J)=="[object Array]"){if((tt===1||tt===-1)&&j>=-1e9&&j<=Ai&&j===sr(j)){if(J[0]===0){if(j===0&&J.length===1)return!0;break t}if(C=(j+1)%ue,C<1&&(C+=ue),String(J[0]).length==C){for(C=0;C<J.length;C++)if(U=J[C],U<0||U>=kr||U!==sr(U))break t;if(U!==0)return!0}}}else if(J===null&&j===null&&(tt===null||tt===1||tt===-1))return!0;throw Error(mi+"Invalid BigNumber: "+I)},st.maximum=st.max=function(){return It(arguments,-1)},st.minimum=st.min=function(){return It(arguments,1)},st.random=function(){var I=9007199254740992,C=Math.random()*I&2097151?function(){return sr(Math.random()*I)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(U){var J,j,tt,V,X,B=0,Q=[],G=new st(b);if(U==null?U=N:Qe(U,0,Ai),V=nf(U/ue),K)if(crypto.getRandomValues){for(J=crypto.getRandomValues(new Uint32Array(V*=2));B<V;)X=J[B]*131072+(J[B+1]>>>11),X>=9e15?(j=crypto.getRandomValues(new Uint32Array(2)),J[B]=j[0],J[B+1]=j[1]):(Q.push(X%1e14),B+=2);B=V/2}else if(crypto.randomBytes){for(J=crypto.randomBytes(V*=7);B<V;)X=(J[B]&31)*281474976710656+J[B+1]*1099511627776+J[B+2]*4294967296+J[B+3]*16777216+(J[B+4]<<16)+(J[B+5]<<8)+J[B+6],X>=9e15?crypto.randomBytes(7).copy(J,B):(Q.push(X%1e14),B+=7);B=V/7}else throw K=!1,Error(mi+"crypto unavailable");if(!K)for(;B<V;)X=C(),X<9e15&&(Q[B++]=X%1e14);for(V=Q[--B],U%=ue,V&&U&&(X=rf[ue-U],Q[B]=sr(V/X)*X);Q[B]===0;Q.pop(),B--);if(B<0)Q=[tt=0];else{for(tt=-1;Q[0]===0;Q.splice(0,1),tt-=ue);for(B=1,X=Q[0];X>=10;X/=10,B++);B<ue&&(tt-=ue-B)}return G.e=tt,G.c=Q,G}}(),st.sum=function(){for(var I=1,C=arguments,U=new st(C[0]);I<C.length;)U=U.plus(C[I++]);return U},g=function(){var I="0123456789";function C(U,J,j,tt){for(var V,X=[0],B,Q=0,G=U.length;Q<G;){for(B=X.length;B--;X[B]*=J);for(X[0]+=tt.indexOf(U.charAt(Q++)),V=0;V<X.length;V++)X[V]>j-1&&(X[V+1]==null&&(X[V+1]=0),X[V+1]+=X[V]/j|0,X[V]%=j)}return X.reverse()}return function(U,J,j,tt,V){var X,B,Q,G,ht,R,it,yt,bt=U.indexOf("."),dt=N,Tt=S;for(bt>=0&&(G=at,at=0,U=U.replace(".",""),yt=new st(J),R=yt.pow(U.length-bt),at=G,yt.c=C(Bs(rr(R.c),R.e,"0"),10,j,I),yt.e=yt.c.length),it=C(U,J,j,V?(X=Mt,I):(X=I,Mt)),Q=G=it.length;it[--G]==0;it.pop());if(!it[0])return X.charAt(0);if(bt<0?--Q:(R.c=it,R.e=Q,R.s=tt,R=m(R,yt,dt,Tt,j),it=R.c,ht=R.r,Q=R.e),B=Q+dt+1,bt=it[B],G=j/2,ht=ht||B<0||it[B+1]!=null,ht=Tt<4?(bt!=null||ht)&&(Tt==0||Tt==(R.s<0?3:2)):bt>G||bt==G&&(Tt==4||ht||Tt==6&&it[B-1]&1||Tt==(R.s<0?8:7)),B<1||!it[0])U=ht?Bs(X.charAt(1),-dt,X.charAt(0)):X.charAt(0);else{if(it.length=B,ht)for(--j;++it[--B]>j;)it[B]=0,B||(++Q,it=[1].concat(it));for(G=it.length;!it[--G];);for(bt=0,U="";bt<=G;U+=X.charAt(it[bt++]));U=Bs(U,Q,X.charAt(0))}return U}}(),m=function(){function I(J,j,tt){var V,X,B,Q,G=0,ht=J.length,R=j%ba,it=j/ba|0;for(J=J.slice();ht--;)B=J[ht]%ba,Q=J[ht]/ba|0,V=it*B+Q*R,X=R*B+V%ba*ba+G,G=(X/tt|0)+(V/ba|0)+it*Q,J[ht]=X%tt;return G&&(J=[G].concat(J)),J}function C(J,j,tt,V){var X,B;if(tt!=V)B=tt>V?1:-1;else for(X=B=0;X<tt;X++)if(J[X]!=j[X]){B=J[X]>j[X]?1:-1;break}return B}function U(J,j,tt,V){for(var X=0;tt--;)J[tt]-=X,X=J[tt]<j[tt]?1:0,J[tt]=X*V+J[tt]-j[tt];for(;!J[0]&&J.length>1;J.splice(0,1));}return function(J,j,tt,V,X){var B,Q,G,ht,R,it,yt,bt,dt,Tt,wt,ne,W,Me,Yt,Dt,Z,_e=J.s==j.s?1:-1,ze=J.c,fe=j.c;if(!ze||!ze[0]||!fe||!fe[0])return new st(!J.s||!j.s||(ze?fe&&ze[0]==fe[0]:!fe)?NaN:ze&&ze[0]==0||!fe?_e*0:_e/0);for(bt=new st(_e),dt=bt.c=[],Q=J.e-j.e,_e=tt+Q+1,X||(X=kr,Q=ar(J.e/ue)-ar(j.e/ue),_e=_e/ue|0),G=0;fe[G]==(ze[G]||0);G++);if(fe[G]>(ze[G]||0)&&Q--,_e<0)dt.push(1),ht=!0;else{for(Me=ze.length,Dt=fe.length,G=0,_e+=2,R=sr(X/(fe[0]+1)),R>1&&(fe=I(fe,R,X),ze=I(ze,R,X),Dt=fe.length,Me=ze.length),W=Dt,Tt=ze.slice(0,Dt),wt=Tt.length;wt<Dt;Tt[wt++]=0);Z=fe.slice(),Z=[0].concat(Z),Yt=fe[0],fe[1]>=X/2&&Yt++;do{if(R=0,B=C(fe,Tt,Dt,wt),B<0){if(ne=Tt[0],Dt!=wt&&(ne=ne*X+(Tt[1]||0)),R=sr(ne/Yt),R>1)for(R>=X&&(R=X-1),it=I(fe,R,X),yt=it.length,wt=Tt.length;C(it,Tt,yt,wt)==1;)R--,U(it,Dt<yt?Z:fe,yt,X),yt=it.length,B=1;else R==0&&(B=R=1),it=fe.slice(),yt=it.length;if(yt<wt&&(it=[0].concat(it)),U(Tt,it,wt,X),wt=Tt.length,B==-1)for(;C(fe,Tt,Dt,wt)<1;)R++,U(Tt,Dt<wt?Z:fe,wt,X),wt=Tt.length}else B===0&&(R++,Tt=[0]);dt[G++]=R,Tt[0]?Tt[wt++]=ze[W]||0:(Tt=[ze[W]],wt=1)}while((W++<Me||Tt[0]!=null)&&_e--);ht=Tt[0]!=null,dt[0]||dt.splice(0,1)}if(X==kr){for(G=1,_e=dt[0];_e>=10;_e/=10,G++);Lt(bt,tt+(bt.e=G+Q*ue-1)+1,V,ht)}else bt.e=Q,bt.r=+ht;return bt}}();function mt(I,C,U,J){var j,tt,V,X,B;if(U==null?U=S:Qe(U,0,8),!I.c)return I.toString();if(j=I.c[0],V=I.e,C==null)B=rr(I.c),B=J==1||J==2&&(V<=z||V>=A)?Xl(B,V):Bs(B,V,"0");else if(I=Lt(new st(I),C,U),tt=I.e,B=rr(I.c),X=B.length,J==1||J==2&&(C<=tt||tt<=z)){for(;X<C;B+="0",X++);B=Xl(B,tt)}else if(C-=V,B=Bs(B,tt,"0"),tt+1>X){if(--C>0)for(B+=".";C--;B+="0");}else if(C+=tt-X,C>0)for(tt+1==X&&(B+=".");C--;B+="0");return I.s<0&&j?"-"+B:B}function It(I,C){for(var U,J,j=1,tt=new st(I[0]);j<I.length;j++)J=new st(I[j]),(!J.s||(U=au(tt,J))===C||U===0&&tt.s===C)&&(tt=J);return tt}function pt(I,C,U){for(var J=1,j=C.length;!C[--j];C.pop());for(j=C[0];j>=10;j/=10,J++);return(U=J+U*ue-1)>q?I.c=I.e=null:U<H?I.c=[I.e=0]:(I.e=U,I.c=C),I}v=function(){var I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,U=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(tt,V,X,B){var Q,G=X?V:V.replace(j,"");if(J.test(G))tt.s=isNaN(G)?null:G<0?-1:1;else{if(!X&&(G=G.replace(I,function(ht,R,it){return Q=(it=it.toLowerCase())=="x"?16:it=="b"?2:8,!B||B==Q?R:ht}),B&&(Q=B,G=G.replace(C,"$1").replace(U,"0.$1")),V!=G))return new st(G,Q);if(st.DEBUG)throw Error(mi+"Not a"+(B?" base "+B:"")+" number: "+V);tt.s=null}tt.c=tt.e=null}}();function Lt(I,C,U,J){var j,tt,V,X,B,Q,G,ht=I.c,R=rf;if(ht){t:{for(j=1,X=ht[0];X>=10;X/=10,j++);if(tt=C-j,tt<0)tt+=ue,V=C,B=ht[Q=0],G=sr(B/R[j-V-1]%10);else if(Q=nf((tt+1)/ue),Q>=ht.length)if(J){for(;ht.length<=Q;ht.push(0));B=G=0,j=1,tt%=ue,V=tt-ue+1}else break t;else{for(B=X=ht[Q],j=1;X>=10;X/=10,j++);tt%=ue,V=tt-ue+j,G=V<0?0:sr(B/R[j-V-1]%10)}if(J=J||C<0||ht[Q+1]!=null||(V<0?B:B%R[j-V-1]),J=U<4?(G||J)&&(U==0||U==(I.s<0?3:2)):G>5||G==5&&(U==4||J||U==6&&(tt>0?V>0?B/R[j-V]:0:ht[Q-1])%10&1||U==(I.s<0?8:7)),C<1||!ht[0])return ht.length=0,J?(C-=I.e+1,ht[0]=R[(ue-C%ue)%ue],I.e=-C||0):ht[0]=I.e=0,I;if(tt==0?(ht.length=Q,X=1,Q--):(ht.length=Q+1,X=R[ue-tt],ht[Q]=V>0?sr(B/R[j-V]%R[V])*X:0),J)for(;;)if(Q==0){for(tt=1,V=ht[0];V>=10;V/=10,tt++);for(V=ht[0]+=X,X=1;V>=10;V/=10,X++);tt!=X&&(I.e++,ht[0]==kr&&(ht[0]=1));break}else{if(ht[Q]+=X,ht[Q]!=kr)break;ht[Q--]=0,X=1}for(tt=ht.length;ht[--tt]===0;ht.pop());}I.e>q?I.c=I.e=null:I.e<H&&(I.c=[I.e=0])}return I}function Ct(I){var C,U=I.e;return U===null?I.toString():(C=rr(I.c),C=U<=z||U>=A?Xl(C,U):Bs(C,U,"0"),I.s<0?"-"+C:C)}return p.absoluteValue=p.abs=function(){var I=new st(this);return I.s<0&&(I.s=1),I},p.comparedTo=function(I,C){return au(this,new st(I,C))},p.decimalPlaces=p.dp=function(I,C){var U,J,j,tt=this;if(I!=null)return Qe(I,0,Ai),C==null?C=S:Qe(C,0,8),Lt(new st(tt),I+tt.e+1,C);if(!(U=tt.c))return null;if(J=((j=U.length-1)-ar(this.e/ue))*ue,j=U[j])for(;j%10==0;j/=10,J--);return J<0&&(J=0),J},p.dividedBy=p.div=function(I,C){return m(this,new st(I,C),N,S)},p.dividedToIntegerBy=p.idiv=function(I,C){return m(this,new st(I,C),0,1)},p.exponentiatedBy=p.pow=function(I,C){var U,J,j,tt,V,X,B,Q,G,ht=this;if(I=new st(I),I.c&&!I.isInteger())throw Error(mi+"Exponent not an integer: "+Ct(I));if(C!=null&&(C=new st(C)),X=I.e>14,!ht.c||!ht.c[0]||ht.c[0]==1&&!ht.e&&ht.c.length==1||!I.c||!I.c[0])return G=new st(Math.pow(+Ct(ht),X?I.s*(2-Yl(I)):+Ct(I))),C?G.mod(C):G;if(B=I.s<0,C){if(C.c?!C.c[0]:!C.s)return new st(NaN);J=!B&&ht.isInteger()&&C.isInteger(),J&&(ht=ht.mod(C))}else{if(I.e>9&&(ht.e>0||ht.e<-1||(ht.e==0?ht.c[0]>1||X&&ht.c[1]>=24e7:ht.c[0]<8e13||X&&ht.c[0]<=9999975e7)))return tt=ht.s<0&&Yl(I)?-0:0,ht.e>-1&&(tt=1/tt),new st(B?1/tt:tt);at&&(tt=nf(at/ue+2))}for(X?(U=new st(.5),B&&(I.s=1),Q=Yl(I)):(j=Math.abs(+Ct(I)),Q=j%2),G=new st(b);;){if(Q){if(G=G.times(ht),!G.c)break;tt?G.c.length>tt&&(G.c.length=tt):J&&(G=G.mod(C))}if(j){if(j=sr(j/2),j===0)break;Q=j%2}else if(I=I.times(U),Lt(I,I.e+1,1),I.e>14)Q=Yl(I);else{if(j=+Ct(I),j===0)break;Q=j%2}ht=ht.times(ht),tt?ht.c&&ht.c.length>tt&&(ht.c.length=tt):J&&(ht=ht.mod(C))}return J?G:(B&&(G=b.div(G)),C?G.mod(C):tt?Lt(G,at,S,V):G)},p.integerValue=function(I){var C=new st(this);return I==null?I=S:Qe(I,0,8),Lt(C,C.e+1,I)},p.isEqualTo=p.eq=function(I,C){return au(this,new st(I,C))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(I,C){return au(this,new st(I,C))>0},p.isGreaterThanOrEqualTo=p.gte=function(I,C){return(C=au(this,new st(I,C)))===1||C===0},p.isInteger=function(){return!!this.c&&ar(this.e/ue)>this.c.length-2},p.isLessThan=p.lt=function(I,C){return au(this,new st(I,C))<0},p.isLessThanOrEqualTo=p.lte=function(I,C){return(C=au(this,new st(I,C)))===-1||C===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(I,C){var U,J,j,tt,V=this,X=V.s;if(I=new st(I,C),C=I.s,!X||!C)return new st(NaN);if(X!=C)return I.s=-C,V.plus(I);var B=V.e/ue,Q=I.e/ue,G=V.c,ht=I.c;if(!B||!Q){if(!G||!ht)return G?(I.s=-C,I):new st(ht?V:NaN);if(!G[0]||!ht[0])return ht[0]?(I.s=-C,I):new st(G[0]?V:S==3?-0:0)}if(B=ar(B),Q=ar(Q),G=G.slice(),X=B-Q){for((tt=X<0)?(X=-X,j=G):(Q=B,j=ht),j.reverse(),C=X;C--;j.push(0));j.reverse()}else for(J=(tt=(X=G.length)<(C=ht.length))?X:C,X=C=0;C<J;C++)if(G[C]!=ht[C]){tt=G[C]<ht[C];break}if(tt&&(j=G,G=ht,ht=j,I.s=-I.s),C=(J=ht.length)-(U=G.length),C>0)for(;C--;G[U++]=0);for(C=kr-1;J>X;){if(G[--J]<ht[J]){for(U=J;U&&!G[--U];G[U]=C);--G[U],G[J]+=kr}G[J]-=ht[J]}for(;G[0]==0;G.splice(0,1),--Q);return G[0]?pt(I,G,Q):(I.s=S==3?-1:1,I.c=[I.e=0],I)},p.modulo=p.mod=function(I,C){var U,J,j=this;return I=new st(I,C),!j.c||!I.s||I.c&&!I.c[0]?new st(NaN):!I.c||j.c&&!j.c[0]?new st(j):(nt==9?(J=I.s,I.s=1,U=m(j,I,0,3),I.s=J,U.s*=J):U=m(j,I,0,nt),I=j.minus(U.times(I)),!I.c[0]&&nt==1&&(I.s=j.s),I)},p.multipliedBy=p.times=function(I,C){var U,J,j,tt,V,X,B,Q,G,ht,R,it,yt,bt,dt,Tt=this,wt=Tt.c,ne=(I=new st(I,C)).c;if(!wt||!ne||!wt[0]||!ne[0])return!Tt.s||!I.s||wt&&!wt[0]&&!ne||ne&&!ne[0]&&!wt?I.c=I.e=I.s=null:(I.s*=Tt.s,!wt||!ne?I.c=I.e=null:(I.c=[0],I.e=0)),I;for(J=ar(Tt.e/ue)+ar(I.e/ue),I.s*=Tt.s,B=wt.length,ht=ne.length,B<ht&&(yt=wt,wt=ne,ne=yt,j=B,B=ht,ht=j),j=B+ht,yt=[];j--;yt.push(0));for(bt=kr,dt=ba,j=ht;--j>=0;){for(U=0,R=ne[j]%dt,it=ne[j]/dt|0,V=B,tt=j+V;tt>j;)Q=wt[--V]%dt,G=wt[V]/dt|0,X=it*Q+G*R,Q=R*Q+X%dt*dt+yt[tt]+U,U=(Q/bt|0)+(X/dt|0)+it*G,yt[tt--]=Q%bt;yt[tt]=U}return U?++J:yt.splice(0,1),pt(I,yt,J)},p.negated=function(){var I=new st(this);return I.s=-I.s||null,I},p.plus=function(I,C){var U,J=this,j=J.s;if(I=new st(I,C),C=I.s,!j||!C)return new st(NaN);if(j!=C)return I.s=-C,J.minus(I);var tt=J.e/ue,V=I.e/ue,X=J.c,B=I.c;if(!tt||!V){if(!X||!B)return new st(j/0);if(!X[0]||!B[0])return B[0]?I:new st(X[0]?J:j*0)}if(tt=ar(tt),V=ar(V),X=X.slice(),j=tt-V){for(j>0?(V=tt,U=B):(j=-j,U=X),U.reverse();j--;U.push(0));U.reverse()}for(j=X.length,C=B.length,j-C<0&&(U=B,B=X,X=U,C=j),j=0;C;)j=(X[--C]=X[C]+B[C]+j)/kr|0,X[C]=kr===X[C]?0:X[C]%kr;return j&&(X=[j].concat(X),++V),pt(I,X,V)},p.precision=p.sd=function(I,C){var U,J,j,tt=this;if(I!=null&&I!==!!I)return Qe(I,1,Ai),C==null?C=S:Qe(C,0,8),Lt(new st(tt),I,C);if(!(U=tt.c))return null;if(j=U.length-1,J=j*ue+1,j=U[j]){for(;j%10==0;j/=10,J--);for(j=U[0];j>=10;j/=10,J++);}return I&&tt.e+1>J&&(J=tt.e+1),J},p.shiftedBy=function(I){return Qe(I,-9007199254740991,Om),this.times("1e"+I)},p.squareRoot=p.sqrt=function(){var I,C,U,J,j,tt=this,V=tt.c,X=tt.s,B=tt.e,Q=N+4,G=new st("0.5");if(X!==1||!V||!V[0])return new st(!X||X<0&&(!V||V[0])?NaN:V?tt:1/0);if(X=Math.sqrt(+Ct(tt)),X==0||X==1/0?(C=rr(V),(C.length+B)%2==0&&(C+="0"),X=Math.sqrt(+C),B=ar((B+1)/2)-(B<0||B%2),X==1/0?C="5e"+B:(C=X.toExponential(),C=C.slice(0,C.indexOf("e")+1)+B),U=new st(C)):U=new st(X+""),U.c[0]){for(B=U.e,X=B+Q,X<3&&(X=0);;)if(j=U,U=G.times(j.plus(m(tt,j,Q,1))),rr(j.c).slice(0,X)===(C=rr(U.c)).slice(0,X))if(U.e<B&&--X,C=C.slice(X-3,X+1),C=="9999"||!J&&C=="4999"){if(!J&&(Lt(j,j.e+N+2,0),j.times(j).eq(tt))){U=j;break}Q+=4,X+=4,J=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(Lt(U,U.e+N+2,1),I=!U.times(U).eq(tt));break}}return Lt(U,U.e+N+1,S,I)},p.toExponential=function(I,C){return I!=null&&(Qe(I,0,Ai),I++),mt(this,I,C,1)},p.toFixed=function(I,C){return I!=null&&(Qe(I,0,Ai),I=I+this.e+1),mt(this,I,C)},p.toFormat=function(I,C,U){var J,j=this;if(U==null)I!=null&&C&&typeof C=="object"?(U=C,C=null):I&&typeof I=="object"?(U=I,I=C=null):U=kt;else if(typeof U!="object")throw Error(mi+"Argument not an object: "+U);if(J=j.toFixed(I,C),j.c){var tt,V=J.split("."),X=+U.groupSize,B=+U.secondaryGroupSize,Q=U.groupSeparator||"",G=V[0],ht=V[1],R=j.s<0,it=R?G.slice(1):G,yt=it.length;if(B&&(tt=X,X=B,B=tt,yt-=tt),X>0&&yt>0){for(tt=yt%X||X,G=it.substr(0,tt);tt<yt;tt+=X)G+=Q+it.substr(tt,X);B>0&&(G+=Q+it.slice(tt)),R&&(G="-"+G)}J=ht?G+(U.decimalSeparator||"")+((B=+U.fractionGroupSize)?ht.replace(new RegExp("\\d{"+B+"}\\B","g"),"$&"+(U.fractionGroupSeparator||"")):ht):G}return(U.prefix||"")+J+(U.suffix||"")},p.toFraction=function(I){var C,U,J,j,tt,V,X,B,Q,G,ht,R,it=this,yt=it.c;if(I!=null&&(X=new st(I),!X.isInteger()&&(X.c||X.s!==1)||X.lt(b)))throw Error(mi+"Argument "+(X.isInteger()?"out of range: ":"not an integer: ")+Ct(X));if(!yt)return new st(it);for(C=new st(b),Q=U=new st(b),J=B=new st(b),R=rr(yt),tt=C.e=R.length-it.e-1,C.c[0]=rf[(V=tt%ue)<0?ue+V:V],I=!I||X.comparedTo(C)>0?tt>0?C:Q:X,V=q,q=1/0,X=new st(R),B.c[0]=0;G=m(X,C,0,1),j=U.plus(G.times(J)),j.comparedTo(I)!=1;)U=J,J=j,Q=B.plus(G.times(j=Q)),B=j,C=X.minus(G.times(j=C)),X=j;return j=m(I.minus(U),J,0,1),B=B.plus(j.times(Q)),U=U.plus(j.times(J)),B.s=Q.s=it.s,tt=tt*2,ht=m(Q,J,tt,S).minus(it).abs().comparedTo(m(B,U,tt,S).minus(it).abs())<1?[Q,J]:[B,U],q=V,ht},p.toNumber=function(){return+Ct(this)},p.toPrecision=function(I,C){return I!=null&&Qe(I,1,Ai),mt(this,I,C,2)},p.toString=function(I){var C,U=this,J=U.s,j=U.e;return j===null?J?(C="Infinity",J<0&&(C="-"+C)):C="NaN":(I==null?C=j<=z||j>=A?Xl(rr(U.c),j):Bs(rr(U.c),j,"0"):I===10&&Pt?(U=Lt(new st(U),N+j+1,S),C=Bs(rr(U.c),U.e,"0")):(Qe(I,2,Mt.length,"Base"),C=g(Bs(rr(U.c),j,"0"),10,I,J,!0)),J<0&&U.c[0]&&(C="-"+C)),C},p.valueOf=p.toJSON=function(){return Ct(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,d!=null&&st.set(d),st}function ar(d){var m=d|0;return d>0||d===m?m:m-1}function rr(d){for(var m,g,v=1,p=d.length,b=d[0]+"";v<p;){for(m=d[v++]+"",g=ue-m.length;g--;m="0"+m);b+=m}for(p=b.length;b.charCodeAt(--p)===48;);return b.slice(0,p+1||1)}function au(d,m){var g,v,p=d.c,b=m.c,N=d.s,S=m.s,z=d.e,A=m.e;if(!N||!S)return null;if(g=p&&!p[0],v=b&&!b[0],g||v)return g?v?0:-S:N;if(N!=S)return N;if(g=N<0,v=z==A,!p||!b)return v?0:!p^g?1:-1;if(!v)return z>A^g?1:-1;for(S=(z=p.length)<(A=b.length)?z:A,N=0;N<S;N++)if(p[N]!=b[N])return p[N]>b[N]^g?1:-1;return z==A?0:z>A^g?1:-1}function Qe(d,m,g,v){if(d<m||d>g||d!==sr(d))throw Error(mi+(v||"Argument")+(typeof d=="number"?d<m||d>g?" out of range: ":" not an integer: ":" not a primitive number: ")+String(d))}function Yl(d){var m=d.c.length-1;return ar(d.e/ue)==m&&d.c[m]%2!=0}function Xl(d,m){return(d.length>1?d.charAt(0)+"."+d.slice(1):d)+(m<0?"e":"e+")+m}function Bs(d,m,g){var v,p;if(m<0){for(p=g+".";++m;p+=g);d=p+d}else if(v=d.length,++m>v){for(p=g,m-=v;--m;p+=g);d+=p}else m<v&&(d=d.slice(0,m)+"."+d.slice(m));return d}var ts=Sv(),wy=class{constructor(d){Ut(this,"key");Ut(this,"left",null);Ut(this,"right",null);this.key=d}},Do=class extends wy{constructor(d){super(d)}},by=class{constructor(){Ut(this,"size",0);Ut(this,"modificationCount",0);Ut(this,"splayCount",0)}splay(d){const m=this.root;if(m==null)return this.compare(d,d),-1;let g=null,v=null,p=null,b=null,N=m;const S=this.compare;let z;for(;;)if(z=S(N.key,d),z>0){let A=N.left;if(A==null||(z=S(A.key,d),z>0&&(N.left=A.right,A.right=N,N=A,A=N.left,A==null)))break;g==null?v=N:g.left=N,g=N,N=A}else if(z<0){let A=N.right;if(A==null||(z=S(A.key,d),z<0&&(N.right=A.left,A.left=N,N=A,A=N.right,A==null)))break;p==null?b=N:p.right=N,p=N,N=A}else break;return p!=null&&(p.right=N.left,N.left=b),g!=null&&(g.left=N.right,N.right=v),this.root!==N&&(this.root=N,this.splayCount++),z}splayMin(d){let m=d,g=m.left;for(;g!=null;){const v=g;m.left=v.right,v.right=m,m=v,g=m.left}return m}splayMax(d){let m=d,g=m.right;for(;g!=null;){const v=g;m.right=v.left,v.left=m,m=v,g=m.right}return m}_delete(d){if(this.root==null||this.splay(d)!=0)return null;let g=this.root;const v=g,p=g.left;if(this.size--,p==null)this.root=g.right;else{const b=g.right;g=this.splayMax(p),g.right=b,this.root=g}return this.modificationCount++,v}addNewRoot(d,m){this.size++,this.modificationCount++;const g=this.root;if(g==null){this.root=d;return}m<0?(d.left=g,d.right=g.right,g.right=null):(d.right=g,d.left=g.left,g.left=null),this.root=d}_first(){const d=this.root;return d==null?null:(this.root=this.splayMin(d),this.root)}_last(){const d=this.root;return d==null?null:(this.root=this.splayMax(d),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(d){return this.validKey(d)&&this.splay(d)==0}defaultCompare(){return(d,m)=>d<m?-1:d>m?1:0}wrap(){return{getRoot:()=>this.root,setRoot:d=>{this.root=d},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:d=>{this.splayCount=d},splay:d=>this.splay(d),has:d=>this.has(d)}}},Xm,Fm,ic=class qo extends by{constructor(g,v){super();Ut(this,"root",null);Ut(this,"compare");Ut(this,"validKey");Ut(this,Xm,"[object Set]");this.compare=g??this.defaultCompare(),this.validKey=v??(p=>p!=null&&p!=null)}delete(g){return this.validKey(g)?this._delete(g)!=null:!1}deleteAll(g){for(const v of g)this.delete(v)}forEach(g){const v=this[Symbol.iterator]();let p;for(;p=v.next(),!p.done;)g(p.value,p.value,this)}add(g){const v=this.splay(g);return v!=0&&this.addNewRoot(new Do(g),v),this}addAndReturn(g){const v=this.splay(g);return v!=0&&this.addNewRoot(new Do(g),v),this.root.key}addAll(g){for(const v of g)this.add(v)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(g){if(g==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(g)<0)return this.root.key;let p=this.root.left;if(p==null)return null;let b=p.right;for(;b!=null;)p=b,b=p.right;return p.key}firstAfter(g){if(g==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(g)>0)return this.root.key;let p=this.root.right;if(p==null)return null;let b=p.left;for(;b!=null;)p=b,b=p.left;return p.key}retainAll(g){const v=new qo(this.compare,this.validKey),p=this.modificationCount;for(const b of g){if(p!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(b)&&this.splay(b)==0&&v.add(this.root.key)}v.size!=this.size&&(this.root=v.root,this.size=v.size,this.modificationCount++)}lookup(g){return!this.validKey(g)||this.splay(g)!=0?null:this.root.key}intersection(g){const v=new qo(this.compare,this.validKey);for(const p of this)g.has(p)&&v.add(p);return v}difference(g){const v=new qo(this.compare,this.validKey);for(const p of this)g.has(p)||v.add(p);return v}union(g){const v=this.clone();return v.addAll(g),v}clone(){const g=new qo(this.compare,this.validKey);return g.size=this.size,g.root=this.copyNode(this.root),g}copyNode(g){if(g==null)return null;function v(b,N){let S,z;do{if(S=b.left,z=b.right,S!=null){const A=new Do(S.key);N.left=A,v(S,A)}if(z!=null){const A=new Do(z.key);N.right=A,b=z,N=A}}while(z!=null)}const p=new Do(g.key);return v(g,p),p}toSet(){return this.clone()}entries(){return new Ny(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(Fm=Symbol.iterator,Xm=Symbol.toStringTag,Fm)](){return new ky(this.wrap())}},Tv=class{constructor(d){Ut(this,"tree");Ut(this,"path",new Array);Ut(this,"modificationCount",null);Ut(this,"splayCount");this.tree=d,this.splayCount=d.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const d=this.path[this.path.length-1];return this.getValue(d)}rebuildPath(d){this.path.splice(0,this.path.length),this.tree.splay(d),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(d){for(;d!=null;)this.path.push(d),d=d.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let g=this.tree.getRoot();for(;g!=null;)this.path.push(g),g=g.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let d=this.path[this.path.length-1],m=d.right;if(m!=null){for(;m!=null;)this.path.push(m),m=m.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===d;)d=this.path.pop();return this.path.length>0}},ky=class extends Tv{getValue(d){return d.key}},Ny=class extends Tv{getValue(d){return[d.key,d.key]}},wv=d=>()=>d,ff=d=>{const m=d?(g,v)=>v.minus(g).abs().isLessThanOrEqualTo(d):wv(!1);return(g,v)=>m(g,v)?0:g.comparedTo(v)};function Ly(d){const m=d?(g,v,p,b,N)=>g.exponentiatedBy(2).isLessThanOrEqualTo(b.minus(v).exponentiatedBy(2).plus(N.minus(p).exponentiatedBy(2)).times(d)):wv(!1);return(g,v,p)=>{const b=g.x,N=g.y,S=p.x,z=p.y,A=N.minus(z).times(v.x.minus(S)).minus(b.minus(S).times(v.y.minus(z)));return m(A,b,N,S,z)?0:A.comparedTo(0)}}var Oy=d=>d,My=d=>{if(d){const m=new ic(ff(d)),g=new ic(ff(d)),v=(b,N)=>N.addAndReturn(b),p=b=>({x:v(b.x,m),y:v(b.y,g)});return p({x:new ts(0),y:new ts(0)}),p}return Oy},df=d=>({set:m=>{Us=df(m)},reset:()=>df(d),compare:ff(d),snap:My(d),orient:Ly(d)}),Us=df(),zo=(d,m)=>d.ll.x.isLessThanOrEqualTo(m.x)&&m.x.isLessThanOrEqualTo(d.ur.x)&&d.ll.y.isLessThanOrEqualTo(m.y)&&m.y.isLessThanOrEqualTo(d.ur.y),gf=(d,m)=>{if(m.ur.x.isLessThan(d.ll.x)||d.ur.x.isLessThan(m.ll.x)||m.ur.y.isLessThan(d.ll.y)||d.ur.y.isLessThan(m.ll.y))return null;const g=d.ll.x.isLessThan(m.ll.x)?m.ll.x:d.ll.x,v=d.ur.x.isLessThan(m.ur.x)?d.ur.x:m.ur.x,p=d.ll.y.isLessThan(m.ll.y)?m.ll.y:d.ll.y,b=d.ur.y.isLessThan(m.ur.y)?d.ur.y:m.ur.y;return{ll:{x:g,y:p},ur:{x:v,y:b}}},Kl=(d,m)=>d.x.times(m.y).minus(d.y.times(m.x)),bv=(d,m)=>d.x.times(m.x).plus(d.y.times(m.y)),rc=d=>bv(d,d).sqrt(),Ry=(d,m,g)=>{const v={x:m.x.minus(d.x),y:m.y.minus(d.y)},p={x:g.x.minus(d.x),y:g.y.minus(d.y)};return Kl(p,v).div(rc(p)).div(rc(v))},Cy=(d,m,g)=>{const v={x:m.x.minus(d.x),y:m.y.minus(d.y)},p={x:g.x.minus(d.x),y:g.y.minus(d.y)};return bv(p,v).div(rc(p)).div(rc(v))},Mm=(d,m,g)=>m.y.isZero()?null:{x:d.x.plus(m.x.div(m.y).times(g.minus(d.y))),y:g},Rm=(d,m,g)=>m.x.isZero()?null:{x:g,y:d.y.plus(m.y.div(m.x).times(g.minus(d.x)))},Ay=(d,m,g,v)=>{if(m.x.isZero())return Rm(g,v,d.x);if(v.x.isZero())return Rm(d,m,g.x);if(m.y.isZero())return Mm(g,v,d.y);if(v.y.isZero())return Mm(d,m,g.y);const p=Kl(m,v);if(p.isZero())return null;const b={x:g.x.minus(d.x),y:g.y.minus(d.y)},N=Kl(b,m).div(p),S=Kl(b,v).div(p),z=d.x.plus(S.times(m.x)),A=g.x.plus(N.times(v.x)),H=d.y.plus(S.times(m.y)),q=g.y.plus(N.times(v.y)),K=z.plus(A).div(2),nt=H.plus(q).div(2);return{x:K,y:nt}},Jr=class kv{constructor(m,g){Ut(this,"point");Ut(this,"isLeft");Ut(this,"segment");Ut(this,"otherSE");Ut(this,"consumedBy");m.events===void 0?m.events=[this]:m.events.push(this),this.point=m,this.isLeft=g}static compare(m,g){const v=kv.comparePoints(m.point,g.point);return v!==0?v:(m.point!==g.point&&m.link(g),m.isLeft!==g.isLeft?m.isLeft?1:-1:sc.compare(m.segment,g.segment))}static comparePoints(m,g){return m.x.isLessThan(g.x)?-1:m.x.isGreaterThan(g.x)?1:m.y.isLessThan(g.y)?-1:m.y.isGreaterThan(g.y)?1:0}link(m){if(m.point===this.point)throw new Error("Tried to link already linked events");const g=m.point.events;for(let v=0,p=g.length;v<p;v++){const b=g[v];this.point.events.push(b),b.point=this.point}this.checkForConsuming()}checkForConsuming(){const m=this.point.events.length;for(let g=0;g<m;g++){const v=this.point.events[g];if(v.segment.consumedBy===void 0)for(let p=g+1;p<m;p++){const b=this.point.events[p];b.consumedBy===void 0&&v.otherSE.point.events===b.otherSE.point.events&&v.segment.consume(b.segment)}}}getAvailableLinkedEvents(){const m=[];for(let g=0,v=this.point.events.length;g<v;g++){const p=this.point.events[g];p!==this&&!p.segment.ringOut&&p.segment.isInResult()&&m.push(p)}return m}getLeftmostComparator(m){const g=new Map,v=p=>{const b=p.otherSE;g.set(p,{sine:Ry(this.point,m.point,b.point),cosine:Cy(this.point,m.point,b.point)})};return(p,b)=>{g.has(p)||v(p),g.has(b)||v(b);const{sine:N,cosine:S}=g.get(p),{sine:z,cosine:A}=g.get(b);return N.isGreaterThanOrEqualTo(0)&&z.isGreaterThanOrEqualTo(0)?S.isLessThan(A)?1:S.isGreaterThan(A)?-1:0:N.isLessThan(0)&&z.isLessThan(0)?S.isLessThan(A)?-1:S.isGreaterThan(A)?1:0:z.isLessThan(N)?-1:z.isGreaterThan(N)?1:0}}},Iy=class mf{constructor(m){Ut(this,"events");Ut(this,"poly");Ut(this,"_isExteriorRing");Ut(this,"_enclosingRing");this.events=m;for(let g=0,v=m.length;g<v;g++)m[g].segment.ringOut=this;this.poly=null}static factory(m){const g=[];for(let v=0,p=m.length;v<p;v++){const b=m[v];if(!b.isInResult()||b.ringOut)continue;let N=null,S=b.leftSE,z=b.rightSE;const A=[S],H=S.point,q=[];for(;N=S,S=z,A.push(S),S.point!==H;)for(;;){const K=S.getAvailableLinkedEvents();if(K.length===0){const kt=A[0].point,Mt=A[A.length-1].point;throw new Error(`Unable to complete output ring starting at [${kt.x}, ${kt.y}]. Last matching segment found ends at [${Mt.x}, ${Mt.y}].`)}if(K.length===1){z=K[0].otherSE;break}let nt=null;for(let kt=0,Mt=q.length;kt<Mt;kt++)if(q[kt].point===S.point){nt=kt;break}if(nt!==null){const kt=q.splice(nt)[0],Mt=A.splice(kt.index);Mt.unshift(Mt[0].otherSE),g.push(new mf(Mt.reverse()));continue}q.push({index:A.length,point:S.point});const at=S.getLeftmostComparator(N);z=K.sort(at)[0].otherSE;break}g.push(new mf(A))}return g}getGeom(){let m=this.events[0].point;const g=[m];for(let A=1,H=this.events.length-1;A<H;A++){const q=this.events[A].point,K=this.events[A+1].point;Us.orient(q,m,K)!==0&&(g.push(q),m=q)}if(g.length===1)return null;const v=g[0],p=g[1];Us.orient(v,m,p)===0&&g.shift(),g.push(g[0]);const b=this.isExteriorRing()?1:-1,N=this.isExteriorRing()?0:g.length-1,S=this.isExteriorRing()?g.length:-1,z=[];for(let A=N;A!=S;A+=b)z.push([g[A].x.toNumber(),g[A].y.toNumber()]);return z}isExteriorRing(){if(this._isExteriorRing===void 0){const m=this.enclosingRing();this._isExteriorRing=m?!m.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var p,b;let m=this.events[0];for(let N=1,S=this.events.length;N<S;N++){const z=this.events[N];Jr.compare(m,z)>0&&(m=z)}let g=m.segment.prevInResult(),v=g?g.prevInResult():null;for(;;){if(!g)return null;if(!v)return g.ringOut;if(v.ringOut!==g.ringOut)return((p=v.ringOut)==null?void 0:p.enclosingRing())!==g.ringOut?g.ringOut:(b=g.ringOut)==null?void 0:b.enclosingRing();g=v.prevInResult(),v=g?g.prevInResult():null}}},Cm=class{constructor(d){Ut(this,"exteriorRing");Ut(this,"interiorRings");this.exteriorRing=d,d.poly=this,this.interiorRings=[]}addInterior(d){this.interiorRings.push(d),d.poly=this}getGeom(){const d=this.exteriorRing.getGeom();if(d===null)return null;const m=[d];for(let g=0,v=this.interiorRings.length;g<v;g++){const p=this.interiorRings[g].getGeom();p!==null&&m.push(p)}return m}},Dy=class{constructor(d){Ut(this,"rings");Ut(this,"polys");this.rings=d,this.polys=this._composePolys(d)}getGeom(){const d=[];for(let m=0,g=this.polys.length;m<g;m++){const v=this.polys[m].getGeom();v!==null&&d.push(v)}return d}_composePolys(d){var g;const m=[];for(let v=0,p=d.length;v<p;v++){const b=d[v];if(!b.poly)if(b.isExteriorRing())m.push(new Cm(b));else{const N=b.enclosingRing();N!=null&&N.poly||m.push(new Cm(N)),(g=N==null?void 0:N.poly)==null||g.addInterior(b)}}return m}},zy=class{constructor(d,m=sc.compare){Ut(this,"queue");Ut(this,"tree");Ut(this,"segments");this.queue=d,this.tree=new ic(m),this.segments=[]}process(d){const m=d.segment,g=[];if(d.consumedBy)return d.isLeft?this.queue.delete(d.otherSE):this.tree.delete(m),g;d.isLeft&&this.tree.add(m);let v=m,p=m;do v=this.tree.lastBefore(v);while(v!=null&&v.consumedBy!=null);do p=this.tree.firstAfter(p);while(p!=null&&p.consumedBy!=null);if(d.isLeft){let b=null;if(v){const S=v.getIntersection(m);if(S!==null&&(m.isAnEndpoint(S)||(b=S),!v.isAnEndpoint(S))){const z=this._splitSafely(v,S);for(let A=0,H=z.length;A<H;A++)g.push(z[A])}}let N=null;if(p){const S=p.getIntersection(m);if(S!==null&&(m.isAnEndpoint(S)||(N=S),!p.isAnEndpoint(S))){const z=this._splitSafely(p,S);for(let A=0,H=z.length;A<H;A++)g.push(z[A])}}if(b!==null||N!==null){let S=null;b===null?S=N:N===null?S=b:S=Jr.comparePoints(b,N)<=0?b:N,this.queue.delete(m.rightSE),g.push(m.rightSE);const z=m.split(S);for(let A=0,H=z.length;A<H;A++)g.push(z[A])}g.length>0?(this.tree.delete(m),g.push(d)):(this.segments.push(m),m.prev=v)}else{if(v&&p){const b=v.getIntersection(p);if(b!==null){if(!v.isAnEndpoint(b)){const N=this._splitSafely(v,b);for(let S=0,z=N.length;S<z;S++)g.push(N[S])}if(!p.isAnEndpoint(b)){const N=this._splitSafely(p,b);for(let S=0,z=N.length;S<z;S++)g.push(N[S])}}}this.tree.delete(m)}return g}_splitSafely(d,m){this.tree.delete(d);const g=d.rightSE;this.queue.delete(g);const v=d.split(m);return v.push(g),d.consumedBy===void 0&&this.tree.add(d),v}},Py=class{constructor(){Ut(this,"type");Ut(this,"numMultiPolys")}run(d,m,g){Uo.type=d;const v=[new Im(m,!0)];for(let A=0,H=g.length;A<H;A++)v.push(new Im(g[A],!1));if(Uo.numMultiPolys=v.length,Uo.type==="difference"){const A=v[0];let H=1;for(;H<v.length;)gf(v[H].bbox,A.bbox)!==null?H++:v.splice(H,1)}if(Uo.type==="intersection")for(let A=0,H=v.length;A<H;A++){const q=v[A];for(let K=A+1,nt=v.length;K<nt;K++)if(gf(q.bbox,v[K].bbox)===null)return[]}const p=new ic(Jr.compare);for(let A=0,H=v.length;A<H;A++){const q=v[A].getSweepEvents();for(let K=0,nt=q.length;K<nt;K++)p.add(q[K])}const b=new zy(p);let N=null;for(p.size!=0&&(N=p.first(),p.delete(N));N;){const A=b.process(N);for(let H=0,q=A.length;H<q;H++){const K=A[H];K.consumedBy===void 0&&p.add(K)}p.size!=0?(N=p.first(),p.delete(N)):N=null}Us.reset();const S=Iy.factory(b.segments);return new Dy(S).getGeom()}},Uo=new Py,vf=Uo,By=0,sc=class Jl{constructor(m,g,v,p){Ut(this,"id");Ut(this,"leftSE");Ut(this,"rightSE");Ut(this,"rings");Ut(this,"windings");Ut(this,"ringOut");Ut(this,"consumedBy");Ut(this,"prev");Ut(this,"_prevInResult");Ut(this,"_beforeState");Ut(this,"_afterState");Ut(this,"_isInResult");this.id=++By,this.leftSE=m,m.segment=this,m.otherSE=g,this.rightSE=g,g.segment=this,g.otherSE=m,this.rings=v,this.windings=p}static compare(m,g){const v=m.leftSE.point.x,p=g.leftSE.point.x,b=m.rightSE.point.x,N=g.rightSE.point.x;if(N.isLessThan(v))return 1;if(b.isLessThan(p))return-1;const S=m.leftSE.point.y,z=g.leftSE.point.y,A=m.rightSE.point.y,H=g.rightSE.point.y;if(v.isLessThan(p)){if(z.isLessThan(S)&&z.isLessThan(A))return 1;if(z.isGreaterThan(S)&&z.isGreaterThan(A))return-1;const q=m.comparePoint(g.leftSE.point);if(q<0)return 1;if(q>0)return-1;const K=g.comparePoint(m.rightSE.point);return K!==0?K:-1}if(v.isGreaterThan(p)){if(S.isLessThan(z)&&S.isLessThan(H))return-1;if(S.isGreaterThan(z)&&S.isGreaterThan(H))return 1;const q=g.comparePoint(m.leftSE.point);if(q!==0)return q;const K=m.comparePoint(g.rightSE.point);return K<0?1:K>0?-1:1}if(S.isLessThan(z))return-1;if(S.isGreaterThan(z))return 1;if(b.isLessThan(N)){const q=g.comparePoint(m.rightSE.point);if(q!==0)return q}if(b.isGreaterThan(N)){const q=m.comparePoint(g.rightSE.point);if(q<0)return 1;if(q>0)return-1}if(!b.eq(N)){const q=A.minus(S),K=b.minus(v),nt=H.minus(z),at=N.minus(p);if(q.isGreaterThan(K)&&nt.isLessThan(at))return 1;if(q.isLessThan(K)&&nt.isGreaterThan(at))return-1}return b.isGreaterThan(N)?1:b.isLessThan(N)||A.isLessThan(H)?-1:A.isGreaterThan(H)?1:m.id<g.id?-1:m.id>g.id?1:0}static fromRing(m,g,v){let p,b,N;const S=Jr.comparePoints(m,g);if(S<0)p=m,b=g,N=1;else if(S>0)p=g,b=m,N=-1;else throw new Error(`Tried to create degenerate segment at [${m.x}, ${m.y}]`);const z=new Jr(p,!0),A=new Jr(b,!1);return new Jl(z,A,[v],[N])}replaceRightSE(m){this.rightSE=m,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const m=this.leftSE.point.y,g=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:m.isLessThan(g)?m:g},ur:{x:this.rightSE.point.x,y:m.isGreaterThan(g)?m:g}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(m){return m.x.eq(this.leftSE.point.x)&&m.y.eq(this.leftSE.point.y)||m.x.eq(this.rightSE.point.x)&&m.y.eq(this.rightSE.point.y)}comparePoint(m){return Us.orient(this.leftSE.point,m,this.rightSE.point)}getIntersection(m){const g=this.bbox(),v=m.bbox(),p=gf(g,v);if(p===null)return null;const b=this.leftSE.point,N=this.rightSE.point,S=m.leftSE.point,z=m.rightSE.point,A=zo(g,S)&&this.comparePoint(S)===0,H=zo(v,b)&&m.comparePoint(b)===0,q=zo(g,z)&&this.comparePoint(z)===0,K=zo(v,N)&&m.comparePoint(N)===0;if(H&&A)return K&&!q?N:!K&&q?z:null;if(H)return q&&b.x.eq(z.x)&&b.y.eq(z.y)?null:b;if(A)return K&&N.x.eq(S.x)&&N.y.eq(S.y)?null:S;if(K&&q)return null;if(K)return N;if(q)return z;const nt=Ay(b,this.vector(),S,m.vector());return nt===null||!zo(p,nt)?null:Us.snap(nt)}split(m){const g=[],v=m.events!==void 0,p=new Jr(m,!0),b=new Jr(m,!1),N=this.rightSE;this.replaceRightSE(b),g.push(b),g.push(p);const S=new Jl(p,N,this.rings.slice(),this.windings.slice());return Jr.comparePoints(S.leftSE.point,S.rightSE.point)>0&&S.swapEvents(),Jr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),v&&(p.checkForConsuming(),b.checkForConsuming()),g}swapEvents(){const m=this.rightSE;this.rightSE=this.leftSE,this.leftSE=m,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let g=0,v=this.windings.length;g<v;g++)this.windings[g]*=-1}consume(m){let g=this,v=m;for(;g.consumedBy;)g=g.consumedBy;for(;v.consumedBy;)v=v.consumedBy;const p=Jl.compare(g,v);if(p!==0){if(p>0){const b=g;g=v,v=b}if(g.prev===v){const b=g;g=v,v=b}for(let b=0,N=v.rings.length;b<N;b++){const S=v.rings[b],z=v.windings[b],A=g.rings.indexOf(S);A===-1?(g.rings.push(S),g.windings.push(z)):g.windings[A]+=z}v.rings=null,v.windings=null,v.consumedBy=g,v.leftSE.consumedBy=g.leftSE,v.rightSE.consumedBy=g.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const m=this.prev.consumedBy||this.prev;this._beforeState=m.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const m=this.beforeState();this._afterState={rings:m.rings.slice(0),windings:m.windings.slice(0),multiPolys:[]};const g=this._afterState.rings,v=this._afterState.windings,p=this._afterState.multiPolys;for(let S=0,z=this.rings.length;S<z;S++){const A=this.rings[S],H=this.windings[S],q=g.indexOf(A);q===-1?(g.push(A),v.push(H)):v[q]+=H}const b=[],N=[];for(let S=0,z=g.length;S<z;S++){if(v[S]===0)continue;const A=g[S],H=A.poly;if(N.indexOf(H)===-1)if(A.isExterior)b.push(H);else{N.indexOf(H)===-1&&N.push(H);const q=b.indexOf(A.poly);q!==-1&&b.splice(q,1)}}for(let S=0,z=b.length;S<z;S++){const A=b[S].multiPoly;p.indexOf(A)===-1&&p.push(A)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const m=this.beforeState().multiPolys,g=this.afterState().multiPolys;switch(vf.type){case"union":{const v=m.length===0,p=g.length===0;this._isInResult=v!==p;break}case"intersection":{let v,p;m.length<g.length?(v=m.length,p=g.length):(v=g.length,p=m.length),this._isInResult=p===vf.numMultiPolys&&v<p;break}case"xor":{const v=Math.abs(m.length-g.length);this._isInResult=v%2===1;break}case"difference":{const v=p=>p.length===1&&p[0].isSubject;this._isInResult=v(m)!==v(g);break}}return this._isInResult}},Am=class{constructor(d,m,g){Ut(this,"poly");Ut(this,"isExterior");Ut(this,"segments");Ut(this,"bbox");if(!Array.isArray(d)||d.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=m,this.isExterior=g,this.segments=[],typeof d[0][0]!="number"||typeof d[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const v=Us.snap({x:new ts(d[0][0]),y:new ts(d[0][1])});this.bbox={ll:{x:v.x,y:v.y},ur:{x:v.x,y:v.y}};let p=v;for(let b=1,N=d.length;b<N;b++){if(typeof d[b][0]!="number"||typeof d[b][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const S=Us.snap({x:new ts(d[b][0]),y:new ts(d[b][1])});S.x.eq(p.x)&&S.y.eq(p.y)||(this.segments.push(sc.fromRing(p,S,this)),S.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=S.x),S.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=S.y),S.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=S.x),S.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=S.y),p=S)}(!v.x.eq(p.x)||!v.y.eq(p.y))&&this.segments.push(sc.fromRing(p,v,this))}getSweepEvents(){const d=[];for(let m=0,g=this.segments.length;m<g;m++){const v=this.segments[m];d.push(v.leftSE),d.push(v.rightSE)}return d}},qy=class{constructor(d,m){Ut(this,"multiPoly");Ut(this,"exteriorRing");Ut(this,"interiorRings");Ut(this,"bbox");if(!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Am(d[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let g=1,v=d.length;g<v;g++){const p=new Am(d[g],this,!1);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.interiorRings.push(p)}this.multiPoly=m}getSweepEvents(){const d=this.exteriorRing.getSweepEvents();for(let m=0,g=this.interiorRings.length;m<g;m++){const v=this.interiorRings[m].getSweepEvents();for(let p=0,b=v.length;p<b;p++)d.push(v[p])}return d}},Im=class{constructor(d,m){Ut(this,"isSubject");Ut(this,"polys");Ut(this,"bbox");if(!Array.isArray(d))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof d[0][0][0]=="number"&&(d=[d])}catch{}this.polys=[],this.bbox={ll:{x:new ts(Number.POSITIVE_INFINITY),y:new ts(Number.POSITIVE_INFINITY)},ur:{x:new ts(Number.NEGATIVE_INFINITY),y:new ts(Number.NEGATIVE_INFINITY)}};for(let g=0,v=d.length;g<v;g++){const p=new qy(d[g],this);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.polys.push(p)}this.isSubject=m}getSweepEvents(){const d=[];for(let m=0,g=this.polys.length;m<g;m++){const v=this.polys[m].getSweepEvents();for(let p=0,b=v.length;p<b;p++)d.push(v[p])}return d}},Uy=(d,...m)=>vf.run("difference",d,m);Us.set;function Nv(d){const m=[];if(Sf(d,p=>{m.push(p.coordinates)}),m.length<2)throw new Error("Must have at least two features");const g=d.features[0].properties||{},v=Uy(m[0],...m.slice(1));return v.length===0?null:v.length===1?mc(v[0],g):Bp(v,g)}const es=function(d,m,g){const v={type:String(d)};return g==null&&(typeof m=="string"||Array.isArray(m))?g=m:Object.assign(v,m),Array.isArray(g)?v.children=g:g!=null&&(v.value=String(g)),v},Gy=/["&'<>`]/g,Zy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hy=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Yy=/[|\\{}()[\]^$+*?.]/g,Dm=new WeakMap;function Xy(d,m){if(d=d.replace(m.subset?Fy(m.subset):Gy,v),m.subset||m.escapeOnly)return d;return d.replace(Zy,g).replace(Hy,v);function g(p,b,N){return m.format((p.charCodeAt(0)-55296)*1024+p.charCodeAt(1)-56320+65536,N.charCodeAt(b+2),m)}function v(p,b,N){return m.format(p.charCodeAt(0),N.charCodeAt(b+1),m)}}function Fy(d){let m=Dm.get(d);return m||(m=Vy(d),Dm.set(d,m)),m}function Vy(d){const m=[];let g=-1;for(;++g<d.length;)m.push(d[g].replace(Yy,"\\$&"));return new RegExp("(?:"+m.join("|")+")","g")}function jy(d){return"&#x"+d.toString(16).toUpperCase()+";"}function Qy(d,m){return Xy(d,Object.assign({format:jy},m))}const Ky=/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g;function Vu(d,m,g){const v=Jy(d);return g?v.replace(g,p):p(v);function p(b){return Qy(b,{subset:m})}}function Jy(d){return String(d||"").replace(Ky,"")}const Wy=["	",`
`," ",'"',"&","'","/","<","=",">"];function ac(d){return Vu(d,Wy)}function zm(d,m){const g=String(d);if(typeof m!="string")throw new TypeError("Expected character");let v=0,p=g.indexOf(m);for(;p!==-1;)v++,p=g.indexOf(m,p+m.length);return v}function _f(d,m){const g=String(d);let v=m.options.quote||'"';if(m.options.quoteSmart){const p=v==='"'?"'":'"';zm(g,v)>zm(g,p)&&(v=p)}return v+Vu(g,["<","&",v])+v}const $y={}.hasOwnProperty;function t0(d,m){const g=ac(d.name),v=Mv(d,m),p=d.attributes||{},b=v?!1:m.options.closeEmptyElements,N=[];let S;for(S in p)if($y.call(p,S)){const z=p[S];z!=null&&N.push(ac(S)+"="+_f(z,m))}return"<"+g+(N.length===0?"":" "+N.join(" "))+(b?(m.options.tightClose?"":" ")+"/":"")+">"+v+(b?"":"</"+g+">")}const e0=["&","<"];function Lv(d){return Vu(d.value,e0)}function n0(d){return"<!--"+Vu(d.value,["-"])+"-->"}function i0(d,m){const g=ac(d.name),v=d.public,p=d.system;let b="<!DOCTYPE";return g!==""&&(b+=" "+g),v?b+=" PUBLIC "+_f(v,m):p&&(b+=" SYSTEM"),p&&(b+=" "+_f(p,m)),b+">"}const r0=/\?>/g,s0=[">"];function a0(d){const m=ac(d.name)||"x",g=Vu(d.value,s0,r0);return"<?"+m+(g?" "+g:"")+"?>"}const u0=/]]>/g,o0=[">"];function l0(d){return"<![CDATA["+Vu(d.value,o0,u0)+"]]>"}function c0(d,m){return m.options.allowDangerousXml?d.value:Lv(d)}const h0={}.hasOwnProperty,Pm={root:Mv,element:t0,text:Lv,comment:n0,doctype:i0,instruction:a0,cdata:l0,raw:c0};function Ov(d,m){const g=d&&d.type;if(!g)throw new Error("Expected node, not `"+d+"`");if(!h0.call(Pm,g))throw new Error("Cannot compile unknown node `"+g+"`");const v=Pm[g];return v(d,m)}function Mv(d,m){const g=d&&d.children||[];let v=-1;const p=[];for(;++v<g.length;)p[v]=Ov(g[v],m);return p.join("")}function f0(d,m){const g={options:{}};if(typeof g.options.quote=="string"&&g.options.quote!=='"'&&g.options.quote!=="'")throw new Error("Invalid quote `"+g.options.quote+"`, expected `'` or `\"`");const v=Array.isArray(d)?{type:"root",children:d}:d;return Ov(v,g)}const fn=function(d,m,...g){let v=-1,p;if(d==null)p={type:"root",children:[]},g.unshift(m);else if(typeof d=="string")if(p={type:"element",name:d,attributes:{},children:[]},d0(m)){let b;for(b in m)m[b]!==void 0&&m[b]!==null&&(typeof m[b]!="number"||!Number.isNaN(m[b]))&&(p.attributes[b]=String(m[b]))}else g.unshift(m);else throw new TypeError("Expected element name, got `"+d+"`");for(;++v<g.length;)pf(p.children,g[v]);return p};function pf(d,m){let g=-1;if(m!=null)if(typeof m=="string"||typeof m=="number")d.push({type:"text",value:String(m)});else if(Array.isArray(m))for(;++g<m.length;)pf(d,m[g]);else if(typeof m=="object"&&"type"in m)m.type==="root"?pf(d,m.children):d.push(m);else throw new TypeError("Expected node, nodes, string, got `"+m+"`")}function d0(d){return!(d==null||typeof d!="object"||Array.isArray(d))}const lr=es("text",`
`),uc=es("text","  ");function g0(d){return f0(es("root",[fn("kml",{xmlns:"http://www.opengis.net/kml/2.2"},fn("Document",d.features.flatMap(m=>m0(m))))]))}function m0(d){const{id:m}=d,g=["string","number"].includes(typeof m)?{id:m}:{};return[lr,fn("Placemark",g,[lr,...p0(d.properties),lr,uc,...d.geometry?[Yo(d.geometry)]:[]])]}function Rv(d){return`${d[0]},${d[1]}`}function v0(d){return fn("coordinates",[es("text",Rv(d))])}function Cv(d){return fn("coordinates",[es("text",d.map(Rv).join(`
`))])}function Av(d){switch(typeof d){case"string":return d;case"boolean":case"number":return String(d);case"object":try{return JSON.stringify(d)}catch{return""}}return""}function _0(d){return d&&typeof d=="object"&&"@type"in d&&d["@type"]==="html"&&"value"in d&&typeof d.value=="string"?es("cdata",d.value):Av(d)}function p0(d){if(!d)return[];const{name:m,description:g,visibility:v,...p}=d;return[m&&fn("name",[es("text",Av(m))]),g&&fn("description",[es("text",_0(g))]),v!==void 0&&fn("visibility",[es("text",v?"1":"0")]),fn("ExtendedData",Object.entries(p).flatMap(([b,N])=>[lr,uc,fn("Data",{name:b},[fn("value",[es("text",typeof N=="string"?N:JSON.stringify(N))])])]))].filter(Boolean)}const Bm=d=>fn("LinearRing",[Cv(d)]);function y0(d){return fn("MultiGeometry",d.coordinates.flatMap(m=>[lr,Yo({type:"Point",coordinates:m})]))}function x0(d){return fn("MultiGeometry",d.coordinates.flatMap(m=>[lr,Yo({type:"LineString",coordinates:m})]))}function E0(d){return fn("MultiGeometry",d.coordinates.flatMap(m=>[lr,Yo({type:"Polygon",coordinates:m})]))}function S0(d){const[m,...g]=d.coordinates;return fn("Polygon",[lr,fn("outerBoundaryIs",[lr,uc,Bm(m)]),...g.flatMap(v=>[lr,fn("innerBoundaryIs",[lr,uc,Bm(v)])])])}function Yo(d){switch(d.type){case"Point":return fn("Point",[v0(d.coordinates)]);case"MultiPoint":return y0(d);case"LineString":return fn("LineString",[Cv(d.coordinates)]);case"MultiLineString":return x0(d);case"Polygon":return S0(d);case"MultiPolygon":return E0(d);case"GeometryCollection":return fn("MultiGeometry",d.geometries.flatMap(m=>[lr,Yo(m)]))}}const T0=/^(r|w|n):(-?\d+)(?:\/(\d+))?$/,Iv=new Map([["r","relation"],["w","way"],["n","node"]]),w0=[...Iv.entries()].map(([d,m])=>[m,d]).reduce((d,[m,g])=>(d.set(m,g),d),new Map);function Na(d){const m=T0.exec(d);if(!m)throw new Error(`Invalid key: ${d}`);return{type:Iv.get(m[1]),id:parseInt(m[2],10)}}function uu(d){return`${w0.get(d.type)}:${d.id}`}function Dv({type:d,id:m,ref:g}){if(m===void 0&&g===void 0)throw new Error("id or ref must be defined");return uu({type:d,id:m??g})}let b0=-1;function qm(d){return uu({id:b0--,type:d})}const k0="https://overpass-api.de/api/interpreter",N0=512*1024*1024,L0={idOnly:!1,bbox:void 0};async function zv(d,m={}){m={...L0,...m};const g=m.idOnly?"out ids;":"out body;",v=m.bbox?`[bbox:${m.bbox}]`:"",b=await(await fetch(k0,{method:"POST",body:`[maxsize:${N0}][out:json]${v}; ${d} ${g}`})).json(),N=new Map;for(const S of b.elements){const z=Dv(S);m.idOnly?N.set(z,void 0):S.type==="relation"?N.set(z,new qs(z,S)):S.type==="way"?N.set(z,new Zu(z,S)):S.type==="node"&&N.set(z,new Wr(z,S))}return N}async function O0(d){if(d.length===0)return new Map;const m=d.map(S=>Na(S)),g=m.filter(S=>S.type==="relation").map(S=>S.id),v=m.filter(S=>S.type==="way").map(S=>S.id),p=m.filter(S=>S.type==="node").map(S=>S.id);let b="";g.length>0&&(b+=`relation(id:${g.join(",")});`),v.length>0&&(b+=`way(id:${v.join(",")});`),p.length>0&&(b+=`node(id:${p.join(",")});`),b=`(${b});`;const N=await zv(b);for(const S of d)N.has(S)||N.set(S,void 0);return N}async function M0(d){const m=`(poly:"${d}")`,g=`
    (
        way[public_transport=platform]${m};
        way[public_transport=station]${m};
    ) -> .ways;
    (
        node[public_transport=platform]${m};
        node[public_transport=station]${m};
    ) -> .nodes;
    (
        rel(bn.nodes)[public_transport=stop_area];
        rel(bw.ways)[public_transport=stop_area];
    ) -> .stop_areas;
    (
        rel(bn.nodes)[type=route];
        rel(bw.ways)[type=route];
    ) -> .routes;
    (
        .ways;
        .nodes;
        .stop_areas;
        .routes;
        rel(br.routes)[type=route_master];
        node(w.ways)${m};
    );`;return[...(await zv(g,{idOnly:!0})).keys()]}const ou=new Map;let Gu,oc;const Um=new Map,R0=new Map;function Zo(d){return new Promise((m,g)=>{d.onsuccess=()=>m(d.result),d.onerror=()=>g(d.error)})}async function C0(){const d=indexedDB.open("overpass-cache",1);return d.addEventListener("upgradeneeded",()=>{d.result.createObjectStore("elements",{keyPath:["type","id"]}),d.result.createObjectStore("transport",{keyPath:["bounds","type","id"]}).createIndex("bounds","bounds",{unique:!1})}),await Zo(d)}async function A0(d,m,g){var N,S;const v=d.objectStore("elements"),p=d.objectStore("transport");if(ou.set(m.id,m),await Zo(v.put(m.data)),g){oc!==g&&(oc=g,Gu=new Set);const z=((N=m.data.tags)==null?void 0:N.public_transport)??((S=m.data.tags)==null?void 0:S.type);Gu==null||Gu.add(m.id),await Zo(p.put({bounds:g,transportType:z,type:m.data.type,id:m.data.id}))}const b=Um.get(m.id);b&&(console.log("[load] calling deferred get for",m.id),b(m),Um.delete(m.id),R0.delete(m.id))}async function I0(d,m,g){const v=d.transaction(["elements","transport"],"readwrite");await Promise.all([...m.values()].filter(p=>p!==void 0).map(p=>A0(v,p,g)))}async function D0(d,m){const v=d.transaction("elements","readonly").objectStore("elements"),p=await Promise.all(m.map(N=>{const S=Na(N);return Zo(v.get([S.type,S.id]))})),b=new Map;for(const N of p)if(N){if(N.type==="relation"){const S=new qs(uu(N),N);ou.set(S.id,S),b.set(S.id,S)}else if(N.type==="way"){const S=new Zu(uu(N),N);ou.set(S.id,S),b.set(S.id,S)}else if(N.type==="node"){const S=new Wr(uu(N),N);ou.set(S.id,S),b.set(S.id,S)}}for(const N of m)b.has(N)||b.set(N,void 0);return b}async function z0(d,m){const v=d.transaction(["transport","elements"],"readonly").objectStore("transport");let p=[];return oc!==void 0&&oc===m&&Gu?(console.log(`[cache] Using mem-cached transport elements for ${m}`),p=[...Gu]):(console.log(`[cache] Fetching cached transport elements for ${m}`),p=(await Zo(v.index("bounds").getAll(m))).map(N=>uu({type:N.type,id:N.id})),console.log(`[cache] Found ${p.length} transport elements in cache`)),await D0(d,p)}const P0={request:!0,cache:!0};function Gm(d,m){const g=ou.get(d);if(g instanceof m)return g}async function B0(d,m,g){g={...P0,...g};const v=await C0(),p=d.map(([N,S])=>[S,N]).flat().join(" ");let b=await z0(v,p);if(console.log(`[cache] Found ${b.size} transport elements in cache`),g.request&&b.size===0){const N=await M0(p);console.log(`[load] Found ${N.length} transport elements in request`),b=await O0(N),console.log(`[load] Fetched ${b.size} transport elements from server`),await I0(v,b,p)}return v.close(),console.log(`[load] ${b.size} transport elements`),[...b.values()].filter(N=>{var S,z;return((S=N==null?void 0:N.data.tags)==null?void 0:S.public_transport)===m||((z=N==null?void 0:N.data.tags)==null?void 0:z.type)===m})}var ka=(d=>(d[d.Platform=0]="Platform",d[d.StopArea=1]="StopArea",d[d.Station=2]="Station",d[d.Route=3]="Route",d[d.RouteMaster=4]="RouteMaster",d))(ka||{}),or;let Tf=(or=class{constructor(m,g){Ut(this,"id");Ut(this,"_data");Ut(this,"parentRefs",[]);Ut(this,"childRefs",[]);this.id=m,this._data=g}get data(){return this._data}get firstChildRef(){return this.childRefs[0]}get lastChildRef(){return this.childRefs[this.childRefs.length-1]}get firstChild(){var m;return(m=this.firstChildRef)==null?void 0:m.element}get lastChild(){var m;return(m=this.lastChildRef)==null?void 0:m.element}get name(){var m,g,v,p,b,N;return((g=(m=this._data)==null?void 0:m.tags)==null?void 0:g.name)??((p=(v=this._data)==null?void 0:v.tags)==null?void 0:p.description)??((N=(b=this._data)==null?void 0:b.tags)==null?void 0:N.ref)??"<unnamed>"}get transportType(){var m,g,v,p,b;return((m=this.data.tags)==null?void 0:m.public_transport)==="platform"?0:((g=this.data.tags)==null?void 0:g.public_transport)==="stop_area"?1:((v=this.data.tags)==null?void 0:v.public_transport)==="station"?2:((p=this.data.tags)==null?void 0:p.type)==="route"?3:((b=this.data.tags)==null?void 0:b.type)==="route_master"?4:void 0}childRefsOfType(m){return this.childRefs.flatMap(g=>typeof m=="string"?Na(g.id).type===m?[g]:[]:g.element instanceof m?[g]:[])}parentRefsOfType(m){return this.parentRefs.flatMap(g=>typeof m=="string"?Na(g.id).type===m?[g]:[]:g.element instanceof m?[g]:[])}childrenOfType(m){return this.childRefs.flatMap(g=>g.element instanceof m?[g.element]:[])}parentsOfType(m){return this.parentRefs.flatMap(g=>g.element instanceof m?[g.element]:[])}addChild(m,g,v){if(v===void 0&&(v=this.childRefs.length),v>this.childRefs.length||this.childRefs.find(b=>b.id===m.id&&(!g||b.role===g)))return;this.childRefs.splice(v,0,{id:m.id,role:g,element:m});let p=m.parentRefs.find(b=>b.id===this.id);(!p||p.role!==g)&&(p={id:this.id,role:g,element:this},m.parentRefs.push(p))}addParent(m,g){m.addChild(this,g)}orphan(){for(const m of this.parentRefs){const g=m.element;g&&g.childRefs.splice(g.childRefs.findIndex(v=>v.id===this.id),1)}this.parentRefs.length=0;for(const m of this.childRefs){const g=m.element;g&&g.parentRefs.splice(g.parentRefs.findIndex(v=>v.id===this.id),1)}this.childRefs.length=0}processInterests(){for(const g of this.childRefs)if(g.element=Gm(g.id,or),g.element){let v=g.element.parentRefs.find(p=>p.id===this.id);v||(v={id:this.id,role:g.role},g.element.parentRefs.push(v)),v.element=this}else{const v=or.interests.get(g.id);v?v.add(this.id):or.interests.set(g.id,new Set([this.id]))}const m=or.interests.get(this.id);if(m){for(const g of m){const v=Gm(g,or),p=v==null?void 0:v.childRefs.find(N=>N.id===this.id),b=this.parentRefs.find(N=>N.id===g);b?b.element=v:this.parentRefs.push({id:g,role:p==null?void 0:p.role,element:v}),p&&(p.element=this,m.delete(g))}m.size===0&&or.interests.delete(this.id)}}},Ut(or,"interests",new Map),or);class Wr extends Tf{constructor(m,g){super(m,g),this.processInterests()}get data(){return this._data}get lat(){return this.data.lat}get lon(){return this.data.lon}}class qs extends Tf{constructor(m,g){super(m,g);for(const v of g.members){const p={id:Dv(v),role:v.role};this.childRefs.push(p)}this.processInterests()}get data(){return this._data}has(m){return this.childRefs.findIndex(g=>g.id===m)>=0}firstElementWithRole(m,g){for(const v of this.childRefs)if(v.role===m&&(!g||v.element instanceof g))return v.element}allElementsWithRole(m,g){const v=[];for(const p of this.childRefs)p.role===m&&(!g||p.element instanceof g)&&v.push(p.element);return v}addChild(m,g,v){if(this.childRefs.find(b=>b.id===m.id&&(!g||b.role===g)))return;v===void 0&&(v=this.childRefs.length);const p=Na(m.id);this.data.members.splice(v,0,{ref:p.id,type:p.type,role:g??""}),super.addChild(m,g,v)}}const Zm=["bus","trolleybus","tram"],Hm=["train","subway","monorail","light_rail"];class Ym extends qs{constructor(g){const v=qm("relation"),p=Na(v);super(v,{id:p.id,type:"relation",tags:{jetlag_synthetic:"station"},members:[]});Ut(this,"_typeRanges",[0,0,0,0,0]);Ut(this,"_visual");Ut(this,"_connections");this.add(g)}get name(){return this.stopAreaEnd<this.stationEnd?this.childRefs[this.stopAreaEnd+1].element.name:this.platformEnd>0?this.childRefs[0].element.name:super.name}get visual(){if(this._visual)return this._visual;const g=this.firstElementWithRole("station");if(g instanceof Wr)return this._visual=g,this._visual;let v;if(g instanceof Zu)v=g.center;else{const b=this.allElementsWithRole("platform");let N=0,S=0;for(const z of b)if(z instanceof Wr)N+=z.lat,S+=z.lon;else if(z instanceof Zu){const A=z.center;N+=A[0],S+=A[1]}v=[N/b.length,S/b.length]}const p=qm("node");return this._visual=new Wr(p,{type:"node",id:Na(p).id,lat:v[0],lon:v[1]}),ou.set(p,this._visual),this.addChild(this._visual,"visual",this.childRefs.length),this._visual}get connections(){var v,p,b,N;if(this._connections)return this._connections;const g=new Map;for(const S of this.allElementsWithRole("route_master",qs)){const z=S.data.tags.route_master,A=g.get(z)??new Set;A.add(((v=S.data.tags)==null?void 0:v.ref)??((p=S.data.tags)==null?void 0:p.name)??"unknown"),g.set(z,A)}for(const S of this.allElementsWithRole("route",qs).filter(z=>z.parentRefs.some(A=>A.role==="route_master"))){const z=S.data.tags.route,A=g.get(z)??new Set;A.add(((b=S.data.tags)==null?void 0:b.ref)??((N=S.data.tags)==null?void 0:N.name)??"unknown"),g.set(z,A)}return this._connections=g,this._connections}shouldShow({busRouteThreshold:g,trainRouteThreshold:v}){const p=[...this.connections.keys()].filter(b=>!Zm.includes(b)&&!Hm.includes(b));return g>0&&g<=Zm.map(b=>{var N;return((N=this.connections.get(b))==null?void 0:N.size)??0}).reduce((b,N)=>b+N)||v>0&&v<=Hm.map(b=>{var N;return((N=this.connections.get(b))==null?void 0:N.size)??0}).reduce((b,N)=>b+N)||p.length>0}modeString(){const g=[];this.firstElementWithRole("station")&&g.push("Station");for(const[v,p]of this.connections.entries())g.push(`${v} (${[...p].join(", ")})`);return g.map(v=>ce.jsx("p",{children:v},`${this.id}-${v}`))}tryAdd(g){if(g.transportType!==ka.Platform)return!1;if(this.has(g.id))return!0;const v=g.parentRefs.flatMap(b=>b.element instanceof qs&&b.role==="platform"&&b.element.transportType===ka.StopArea?[b.element]:[]);return v.some(b=>this.has(b.id))?(this.add(g),!0):v.flatMap(b=>b.childRefs.flatMap(N=>(N.element instanceof Zu||N.element instanceof Wr)&&N.role===""&&N.element.transportType===ka.Station?[N.element]:[])).some(b=>this.has(b.id))?(this.add(g),!0):!1}toJSON(){return lu([gc([this.visual.lon,this.visual.lat]),Sy([this.visual.lon,this.visual.lat],.5,{units:"miles"})],{id:this.id})}add(g){this.addChild(g,"platform",this.platformEnd++);const v=g.parentRefs.flatMap(S=>S.element instanceof qs&&S.role==="platform"&&S.element.transportType===ka.StopArea&&!this.has(S.id)?[S.element]:[]);for(const S of v)this.addChild(S,"stop_area",this.stopAreaEnd++);const p=v.flatMap(S=>S.childRefs.flatMap(z=>(z.element instanceof Zu||z.element instanceof Wr)&&z.role===""&&z.element.transportType===ka.Station&&!this.has(z.id)?[z.element]:[]));for(const S of p)this.addChild(S,"station",this.stationEnd++);const b=g.parentRefs.flatMap(S=>S.element instanceof qs&&S.role==="platform"&&S.element.transportType===ka.Route&&!this.has(S.id)?[S.element]:[]);for(const S of b)this.addChild(S,"route",this.routeEnd++);const N=b.flatMap(S=>S.parentRefs.flatMap(z=>z.element instanceof qs&&z.element.transportType===ka.RouteMaster&&!this.has(z.id)?[z.element]:[]));for(const S of N)this.addChild(S,"route_master",this.routeMasterEnd++)}extendRange(g){this._typeRanges=[...this._typeRanges.slice(0,g),...this._typeRanges.slice(g).map(v=>v+1)]}get stationEnd(){return this._typeRanges[0]}set stationEnd(g){this.extendRange(0)}get stopAreaEnd(){return this._typeRanges[1]}set stopAreaEnd(g){this.extendRange(1)}get platformEnd(){return this._typeRanges[2]}set platformEnd(g){this.extendRange(2)}get routeEnd(){return this._typeRanges[3]}set routeEnd(g){this.extendRange(3)}get routeMasterEnd(){return this._typeRanges[4]}set routeMasterEnd(g){this.extendRange(4)}}class Zu extends Tf{constructor(m,g){super(m,g);for(const v of g.nodes){const p={id:uu({id:v,type:"node"})};this.childRefs.push(p)}this.processInterests()}get data(){return this._data}get center(){const m=this.childRefs.flatMap(v=>v.element instanceof Wr?[v.element.lat]:[]),g=this.childRefs.flatMap(v=>v.element instanceof Wr?[v.element.lon]:[]);return[(Math.max(...m)+Math.min(...m))/2,(Math.max(...g)+Math.min(...g))/2]}addChild(m,g,v){v===void 0&&(v=this.childRefs.length),!(!(m instanceof Wr)||v>this.childRefs.length)&&(this.data.nodes.splice(v,0,m.data.id),super.addChild(m,g,v))}}function sf({id:d,children:m,initiallyOpen:g,onMouseEnter:v,onMouseLeave:p,onToggle:b}){const[N,S]=te.useState(g),[z,A]=te.useState(!1);function H(){S(!N),b&&b(!N)}function q(nt){A(!0),v&&v(nt)}function K(nt){A(!1),p&&p(nt)}return ce.jsxs("div",{className:z?"bg-sky-100":"",children:[ce.jsxs("div",{onMouseEnter:v&&q,onMouseLeave:p&&K,children:[ce.jsx("button",{type:"button",onClick:H,children:Array.isArray(m)?N?"⮟":"⮞":"•"})," ",Array.isArray(m)?m[0]:m]}),N&&ce.jsx("ol",{className:"ps-4",children:Array.isArray(m)&&m.slice(1).map((nt,at)=>ce.jsx("li",{children:nt},`${d}-${at}`))})]})}function q0(){const{boundaryPoints:d,showStations:m,busRouteThreshold:g,trainRouteThreshold:v,stations:p,setStations:b,hovering:N,setHovering:S,save:z}=te.useContext(Ho),[A,H]=te.useState(!1);function q(mt){z({stations:{show:mt}})}function K(mt){z({stations:{trainRouteThreshold:mt}})}function nt(mt){z({stations:{busRouteThreshold:mt}})}function at(mt){const{type:It,id:pt}=Na(mt.childRefs[0].id);return ce.jsxs("label",{children:[mt.name," (",ce.jsx("a",{target:"_blank",href:`https://www.openstreetmap.org/${It}/${pt}`,children:mt.childRefs[0].id}),")"]})}async function kt(){if(!d||d.length<2||A)return;H(!0);const mt=await B0(d,"platform",{request:!0});console.log(`[station] ${mt.length} platforms found`);const It=mt.flatMap(pt=>pt.parentRefs.flatMap(Lt=>Lt.element instanceof Ym&&Lt.role==="platform"?[Lt.element]:[]));console.log(`[station] Found ${It.length} existing stations`);for(const pt of mt)if(It.filter(Ct=>Ct.tryAdd(pt)).length===0){const Ct=new Ym(pt);ou.set(Ct.id,Ct),It.push(Ct)}console.log(`[station] ${It.length} stations found`),b(It)}function Mt(mt){return()=>{N!==mt&&S(mt)}}function Pt(mt){return()=>{N===mt&&S("")}}if(p.length===0&&!A){kt();return}const st=p.filter(mt=>mt.shouldShow({busRouteThreshold:g,trainRouteThreshold:v})).map(mt=>ce.jsx(sf,{id:mt.id,initiallyOpen:!0,onMouseEnter:Mt(mt.id),onMouseLeave:Pt(mt.id),children:at(mt)},mt.id));return ce.jsxs(sf,{id:"stations",initiallyOpen:!0,children:[ce.jsxs("label",{className:"font-bold",children:[ce.jsx("input",{type:"checkbox",checked:m,onChange:mt=>q(mt.target.checked)}),"  Stations (",st.length,")"]}),ce.jsxs(sf,{id:"station-settings",initiallyOpen:!0,children:[ce.jsx("span",{className:"font-bold",children:"Settings"}),ce.jsxs("label",{children:[ce.jsx("input",{type:"number",min:"0",max:"10",value:v,onChange:mt=>K(mt.target.valueAsNumber)}),"  Train routes"]}),ce.jsxs("label",{children:[ce.jsx("input",{type:"number",min:"0",max:"10",value:g,onChange:mt=>nt(mt.target.valueAsNumber)}),"  Bus routes"]})]}),st]})}function U0(){const{boundaryPoints:d,stations:m,busRouteThreshold:g,trainRouteThreshold:v}=te.useContext(Ho);function p(){const b=mc([d]),N=pv(b,30,{units:"miles"}),S=Nv(lu([N,b]));S.properties={name:"Game Boundary"};const z=m.flatMap(nt=>{if(nt.shouldShow({busRouteThreshold:g,trainRouteThreshold:v})){const at=gc([nt.visual.lon,nt.visual.lat]);return at.properties={name:nt.name,description:nt.modeString()},[at]}else return[]}),A=lu([...z,S]),H=g0(A),q=URL.createObjectURL(new Blob([new TextEncoder().encode(H)])),K=document.createElement("a");K.href=q,K.download="config.kml",document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(q)}return ce.jsxs("div",{className:"min-w-fit max-w-md overflow-y-auto max-h-screen bg p-4 gap-2 flex flex-col content-stretch",children:[ce.jsx(q0,{}),ce.jsx("button",{className:"btn btn-primary",onClick:p,children:"Export To KML"})]})}function G0(){const d=wp(),{boundaryPoints:m,boundaryEditing:g}=te.useContext(Ho),v=te.useMemo(()=>{const p=mc([m]),b=sv(p),N=pv(p,30,{units:"miles"});return d.fitBounds([[b[1],b[0]],[b[3],b[2]]],{padding:[0,0]}),Nv(lu([N,p]))},[m,d]);if(!g)return ce.jsx(ev,{children:ce.jsx(tv,{data:v,interactive:!1,pathOptions:{color:"black"}})})}const Pv={color:"#3388ff",weight:2,fillOpacity:.5},Z0={...Pv,color:"#ff0000"};function H0(){const{boundaryEditing:d,boundaryPoints:m,hovering:g,setHovering:v,showStations:p,busRouteThreshold:b,trainRouteThreshold:N,stations:S}=te.useContext(Ho);function z(nt){return()=>{g!==nt&&v(nt)}}function A(nt){return()=>{g===nt&&v("")}}function H(nt){return ce.jsx(tv,{data:nt.toJSON(),pathOptions:g===nt.id?Z0:Pv,eventHandlers:{click:()=>console.log(nt),mouseover:z(nt.id),mouseout:A(nt.id)},children:ce.jsxs(Lp,{children:[ce.jsx("p",{className:"font-bold",children:nt.name}),nt.modeString()]})},nt.id)}const q=S.flatMap(nt=>g!==nt.id&&nt.shouldShow({busRouteThreshold:b,trainRouteThreshold:N})?[H(nt)]:[]),K=S.find(nt=>nt.id===g);if(K&&K.shouldShow({busRouteThreshold:b,trainRouteThreshold:N})&&q.push(H(K)),m&&!d&&p)return ce.jsx(ev,{attribution:'<a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',children:q})}delete hu.Icon.Default.prototype._getIconUrl;hu.Icon.Default.mergeOptions({iconUrl:Op,iconRetinaUrl:Mp,shadowUrl:Rp});function Y0(){return ce.jsxs("div",{className:"w-full h-full flex flex-col",children:[ce.jsx(Cp,{}),ce.jsx("div",{className:"flex flex-row flex-grow",children:ce.jsxs(Pp,{children:[ce.jsx(U0,{}),ce.jsxs(kp,{className:"flex-grow",center:[39.568558865886956,-95.65381563753864],zoom:4,children:[ce.jsx(Np,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),ce.jsx(G0,{}),ce.jsx(H0,{})]})]})})]})}op.createRoot(document.getElementById("root")).render(ce.jsx(te.StrictMode,{children:ce.jsx(Y0,{})}));
